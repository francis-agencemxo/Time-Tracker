<idea-plugin>
    <id>com.codepulse.timetracker</id>
    <name>CodePulse</name>
    <version>1.10.5</version>
    <vendor email="info@francislabonte.com">MXO</vendor>

    <!-- Note: Plugin requires restart due to postStartupActivity and background server -->
    <!-- Future: Consider migrating to projectService for dynamic reload support -->

    <description><![CDATA[
    <h2>CodePulse - Comprehensive Time Tracking for Developers</h2>

    <p><strong>Track your entire development workflow</strong> ‚Äî from coding in your IDE to researching on the web. CodePulse provides detailed insights into how you spend your time across projects, files, and websites.</p>

    <h3>‚ú® Key Features</h3>
    <ul>
      <li><strong>Automatic IDE Tracking</strong> ‚Äî Records file editing activity in IntelliJ IDEA, PhpStorm, and other JetBrains IDEs</li>
      <li><strong>Browser Activity Monitoring</strong> ‚Äî Tracks active tabs and browsing time via Chrome extension</li>
      <li><strong>Real-Time Dashboard</strong> ‚Äî Beautiful Next.js dashboard with live updates, charts, and detailed breakdowns</li>
      <li><strong>Project-Based Reporting</strong> ‚Äî Organize time by project with daily and weekly summaries</li>
      <li><strong>Domain Grouping</strong> ‚Äî See time spent on different websites (GitHub, Stack Overflow, documentation, etc.)</li>
      <li><strong>Export & Sync</strong> ‚Äî Export data or sync directly to Google Sheets for reporting</li>
      <li><strong>Dark Mode Support</strong> ‚Äî Seamless theme integration with IDE preferences</li>
      <li><strong>Custom Project Names</strong> ‚Äî Create aliases and organize projects your way</li>
    </ul>

    <h3>üèóÔ∏è Architecture</h3>
    <ul>
      <li><strong>IntelliJ Plugin</strong> ‚Äî Hooks into the IDE to record coding activity and serves a built-in Tracker API (default port: 56000)</li>
      <li><strong>Chrome Extension</strong> ‚Äî Captures active tab URLs and reports browsing time back to the plugin's API</li>
      <li><strong>Next.js Dashboard</strong> ‚Äî Real-time dashboard with HMR in dev mode and static export for production</li>
    </ul>

    <h3>üöÄ Getting Started</h3>
    <ol>
      <li><strong>Install the Plugin</strong> ‚Äî CodePulse will start tracking your IDE activity automatically</li>
      <li><strong>Access the Dashboard</strong> ‚Äî Click the CodePulse icon in your IDE status bar to open the dashboard</li>
      <li><strong>Install Chrome Extension</strong> (Optional) ‚Äî Enable browser activity tracking by following the steps below</li>
      <li><strong>Configure Settings</strong> ‚Äî Go to <em>Settings ‚Üí Tools ‚Üí CodePulse Time Tracker</em> to customize tracking options</li>
    </ol>

    <h3>üîó Chrome Extension Setup</h3>
    <p>To enable browser activity tracking:</p>
    <ol>
      <li>Open Chrome and navigate to <code>chrome://extensions</code></li>
      <li>Enable <strong>Developer Mode</strong> (toggle in top-right corner)</li>
      <li>Click <strong>"Load unpacked"</strong></li>
      <li>Select the <code>chrome-extension</code> folder from your plugin installation directory (by default extracted to <code>%USERPROFILE%\.cache\phpstorm-time-tracker\chrome-extension</code> on Windows or <code>~/.cache/phpstorm-time-tracker/chrome-extension</code> on macOS/Linux)</li>
    </ol>

    <p><strong>Using the Extension:</strong></p>
    <ul>
      <li>Click the CodePulse icon in Chrome toolbar to select your active project</li>
      <li>Use the search input to filter projects or enter a custom project name</li>
      <li>Enable the floating toolbar for quick project switching on any webpage</li>
      <li>The toolbar can be dragged, collapsed, and pinned for convenience</li>
    </ul>

    <p><strong>Configuration:</strong> Click <em>Details ‚Üí Extension options</em> on the <code>chrome://extensions</code> page to adjust the Tracker Server port (default: 56000) or restore default settings. Reload open tabs after changing the port.</p>

    <h3>üìä What Gets Tracked</h3>
    <ul>
      <li><strong>Coding Activity:</strong> Active file editing time, project names, file paths</li>
      <li><strong>Browsing Activity:</strong> Active tab URLs, domain names, timestamps, duration</li>
      <li><strong>Git Integration:</strong> Commit tracking and repository information</li>
    </ul>

    <h3>‚öôÔ∏è System Requirements</h3>
    <ul>
      <li>IntelliJ IDEA, PhpStorm, or other JetBrains IDE (Build 193.0+)</li>
      <li>Chrome browser (for browser tracking)</li>
      <li>Port 56000 available (configurable)</li>
    </ul>

    <h3>üìù License</h3>
    <p>CodePulse requires a valid license for full functionality. License management is available in the plugin settings.</p>

    <h3>üÜò Support</h3>
    <p>For questions, issues, or feature requests, contact: <a href="mailto:info@francislabonte.com">info@francislabonte.com</a></p>
    ]]></description>

    <change-notes><![CDATA[
        <ul>
<li>2025-10-20: Add theme toggle component and enhance dark mode support across the application</li>
<li>2025-06-25: Add Daily Details view and integrate into dashboard tabs</li>
<li>2025-06-24: Add custom project input and floating toolbar enhancements</li>
<li>2025-06-21: Implement project custom names feature with CRUD operations and UI updates</li>
<li>2025-06-19: Rollback to using / url instead of /dashboard</li>
            <li>2025-06-17: Update plugin description and enhance release script for change notes injection</li>
            <li>New: Real-time Chrome URL tracking with host grouping</li>
            <li>Improved: Auto-refresh of summary every 60s</li>
            <li>Enhanced: Visual breakdown of Coding vs Browsing</li>
            <li>Added: Gear icon settings panel with project scope toggle</li>
        </ul>
    ]]></change-notes>

    <category>Productivity</category>

    <depends>com.intellij.modules.platform</depends>
    <depends optional="true" config-file="php-support.xml">com.jetbrains.php</depends>
    <depends>Git4Idea</depends>

    <idea-version since-build="241.0" until-build="252.*"/>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.codepulse.timetracker.TrackingStartupActivity"/>
        <notificationGroup id="CodePulse"
                           displayType="BALLOON"
                           isLogByDefault="true"/>
        <projectConfigurable instance="com.codepulse.timetracker.settings.TimeTrackerSettingsConfigurable"
                             displayName="CodePulse Time Tracker"/>
        <applicationService serviceImplementation="com.codepulse.timetracker.settings.TimeTrackerSettings"/>
        <applicationService serviceImplementation="com.codepulse.timetracker.license.LicenseStateService"/>
        <statusBarWidgetFactory id="CodePulse.DashboardWidget"
                                implementation="com.codepulse.timetracker.DashboardStatusBarFactory"/>
        <checkinHandlerFactory implementation="com.codepulse.timetracker.GitCommitListenerFactory"/>
    </extensions>
</idea-plugin>
