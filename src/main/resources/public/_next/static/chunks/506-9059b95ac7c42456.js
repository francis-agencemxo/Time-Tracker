"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{900:(e,t,s)=>{s.d(t,{p:()=>n});var a=s(8081),r=s(2149),i=s(7687);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},1567:(e,t,s)=>{s.d(t,{p:()=>n});var a=s(8081),r=s(5160),i=s(6810);function n(e){let{currentWeek:t,onNavigateWeek:s}=e,n=e=>{let t=new Date(e),s=t.getDay(),a=t.getDate()-s;return new Date(t.setDate(a))},l=()=>{let e=new Date,s=n(t),a=n(e);return s.getTime()===a.getTime()};return(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(r.$,{onClick:()=>s("prev"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"← Previous Week"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-teal-800",children:[n(t).toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","-"," ",new Date(n(t).getTime()+5184e5).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:l()?"Current Week":"Week of "+n(t).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),(0,a.jsx)(r.$,{onClick:()=>s("next"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",disabled:l(),children:"Next Week →"})]}),!l()&&(0,a.jsx)(r.$,{onClick:()=>s("current"),variant:"default",size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:"Back to Current Week"})]})})})}},2432:(e,t,s)=>{s.d(t,{Z:()=>en});var a=s(8081),r=s(2149),i=s(7230),n=s(7687);let l=i.bL,o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});o.displayName=i.B8.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});c.displayName=i.l9.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});d.displayName=i.UC.displayName;var m=s(6810),u=s(4419),h=s(2522);let x=u.bL,p=u.l9,g=u.ZL;u.bm;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});f.displayName=u.hJ.displayName;let j=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(g,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(u.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,(0,a.jsxs)(u.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});j.displayName=u.UC.displayName;let y=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};y.displayName="DialogHeader";let v=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};v.displayName="DialogFooter";let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});N.displayName=u.hE.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName=u.VY.displayName;var w=s(5977),b=s(7093),T=s(4404),k=s(123),S=s(1011),A=s(7188),D=s(2544);function E(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:i,ignoredProjects:n=[],projectCustomNames:u=[],wrikeProjectMappings:h=[]}=e,[p,g]=(0,r.useState)(null),[f,v]=(0,r.useState)(!1),{getStackedWeeklyData:E,getProjectChartData:C,formatHoursForChart:P,getMergedSessionsForProjectDay:O,calculateMergedDuration:I}=(0,b.L)(t,s,i,n),R=e=>{let t=u.find(t=>t.projectName===e);return t?t.customName:e},L=e=>h.find(t=>t.projectName===e),M=E(),W=C().reduce((e,t)=>(e[t.name]=t.color,e),{}),F=Array.from(new Set(M.flatMap(e=>Object.keys(e).filter(e=>!["day","date","target"].includes(e))))).sort();F.reduce((e,t)=>(e[t]={label:t,color:W[t]||"#8884d8"},e),{}).target={label:"Target Hours",color:"#e5e7eb"};let B=M.map(e=>{let t={},s=0;return Object.entries(e).forEach(e=>{let[a,r]=e;["day","date","target"].includes(a)||(t[a]=r,s+=r)}),{day:e.day,date:e.date,totalHours:s,projectHours:t}}),U=F.reduce((e,t)=>{let s=B.reduce((e,s)=>e+(s.projectHours[t]||0),0);return e[t]=s,e},{}),Z=Object.values(U).reduce((e,t)=>e+t,0),J=(e,s,a,r)=>{if(0===r)return;let i=t[s];if(!i||!i[a])return;let n=O(i[a]).map(e=>{let t=new Date(e.start),s=new Date(e.end);return{start:e.start,end:e.end,duration:(s.getTime()-t.getTime())/1e3,type:e.type,file:e.file,url:e.url,host:e.host}});g({day:e,date:s,project:a,hours:r,sessions:n}),v(!0)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Weekly Timesheet"}),(0,a.jsx)(m.BT,{children:"Click any cell to view session details for that day and project"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,a.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700 bg-gray-50",children:"Project"}),B.map(e=>(0,a.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-gray-700 bg-gray-50",children:e.day},e.date)),(0,a.jsx)("th",{className:"py-3 px-4 text-right font-semibold text-gray-700 bg-teal-50",children:"Total"})]})}),(0,a.jsx)("tbody",{children:F.map(e=>{let t=L(e);return(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W[e]}}),(0,a.jsx)("span",{children:R(e)}),t&&(0,a.jsx)("a",{href:t.wrikePermalink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 ml-1",title:"Open ".concat(t.wrikeProjectTitle," in Wrike"),children:(0,a.jsx)(T.A,{className:"w-3.5 h-3.5"})})]})}),B.map(t=>{let s=t.projectHours[e]||0;return(0,a.jsx)("td",{className:"py-3 px-4 text-right ".concat(s>0?"cursor-pointer hover:bg-teal-50 font-medium":"text-gray-400"),onClick:()=>s>0&&J(t.day,t.date,e,s),children:s>0?P(s):"-"},t.date)}),(0,a.jsx)("td",{className:"py-3 px-4 text-right font-bold text-teal-800 bg-teal-50",children:P(U[e])})]},e)})}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 border-t-2 border-gray-300",children:[(0,a.jsx)("td",{className:"py-3 px-4 font-bold text-gray-900",children:"Total"}),B.map(e=>(0,a.jsx)("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:P(e.totalHours)},e.date)),(0,a.jsx)("td",{className:"py-3 px-4 text-right font-bold text-teal-900 bg-teal-100",children:P(Z)})]})})]})})})]}),(0,a.jsx)(x,{open:f,onOpenChange:v,children:(0,a.jsxs)(j,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(y,{children:(0,a.jsx)(N,{children:p&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:W[p.project]}}),(0,a.jsxs)("span",{children:[p.day," - ",R(p.project)]}),(0,a.jsx)(w.E,{variant:"outline",children:P(p.hours)})]})})}),p&&(0,a.jsxs)(l,{defaultValue:"timeline",className:"w-full",children:[(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{value:"timeline",children:"Timeline"}),(0,a.jsx)(c,{value:"files",children:"Files"}),(0,a.jsx)(c,{value:"websites",children:"Websites"})]}),(0,a.jsxs)(d,{value:"timeline",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[p.sessions.length," session",1!==p.sessions.length?"s":""]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"Activity Timeline"}),(0,a.jsxs)("div",{className:"relative h-12 bg-white rounded border",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex",children:Array.from({length:24},(e,t)=>(0,a.jsx)("div",{className:"flex-1 border-r border-gray-200 text-xs text-gray-400 px-1",children:t.toString().padStart(2,"0")},t))}),(0,a.jsx)("div",{className:"absolute inset-0 pt-6",children:p.sessions.map((e,t)=>{let s=new Date(e.start),r=new Date(e.end),i=s.getHours()+s.getMinutes()/60,n=r.getHours()+r.getMinutes()/60;return(0,a.jsx)("div",{className:"absolute h-6 rounded",style:{left:"".concat(i/24*100,"%"),width:"".concat((n-i)/24*100,"%"),backgroundColor:"coding"===e.type?"#2D5A5A":"#F59E0B",opacity:.8},title:"".concat(s.toLocaleTimeString()," - ").concat(r.toLocaleTimeString())},t)})})]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#2D5A5A"}}),(0,a.jsx)("span",{children:"Coding"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#F59E0B"}}),(0,a.jsx)("span",{children:"Browsing"})]})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:p.sessions.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 pt-1",children:"coding"===e.type?(0,a.jsx)(k.A,{className:"w-4 h-4 text-teal-600"}):(0,a.jsx)(S.A,{className:"w-4 h-4 text-amber-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(w.E,{variant:"coding"===e.type?"default":"secondary",children:e.type}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-600",children:[(0,a.jsx)(A.A,{className:"w-3 h-3"}),P(e.duration/3600)]})]}),e.file&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 truncate",title:e.file,children:[(0,a.jsx)(D.A,{className:"w-3 h-3 inline mr-1"}),e.file]}),e.url&&(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1 truncate",title:e.url,children:[(0,a.jsx)(S.A,{className:"w-3 h-3"}),e.host||new URL(e.url).hostname,(0,a.jsx)(T.A,{className:"w-3 h-3"})]})]})]},t))})]}),(0,a.jsx)(d,{value:"files",className:"space-y-2",children:(()=>{let e=Object.values(p.sessions.filter(e=>"coding"===e.type&&e.file).reduce((e,t)=>{let s=t.file;return e[s]||(e[s]={file:s,duration:0,sessions:0}),e[s].duration+=t.duration,e[s].sessions+=1,e},{})).sort((e,t)=>t.duration-e.duration);return e.length>0?e.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,a.jsx)(D.A,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm truncate",title:e.file,children:e.file})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[e.sessions," session",1!==e.sessions?"s":""]}),(0,a.jsx)("span",{className:"font-medium",children:P(e.duration/3600)})]})]},t)):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No files recorded"})})()}),(0,a.jsx)(d,{value:"websites",className:"space-y-2",children:(()=>{let e=Object.values(p.sessions.filter(e=>"browsing"===e.type&&e.url).reduce((e,t)=>{let s=t.url;return e[s]||(e[s]={url:s,host:t.host||new URL(s).hostname,duration:0,sessions:0}),e[s].duration+=t.duration,e[s].sessions+=1,e},{})).sort((e,t)=>t.duration-e.duration);return e.length>0?e.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-amber-600 flex-shrink-0"}),(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 truncate flex items-center gap-1",title:e.url,children:[e.host,(0,a.jsx)(T.A,{className:"w-3 h-3"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[e.sessions," session",1!==e.sessions?"s":""]}),(0,a.jsx)("span",{className:"font-medium",children:P(e.duration/3600)})]})]},t)):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No websites recorded"})})()})]})]})})]})}var C=s(5160),P=s(8329),O=s(392),I=s(6801),R=s(6722);let L=P.bL;P.YJ;let M=P.WT,W=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(P.l9,{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(P.In,{asChild:!0,children:(0,a.jsx)(O.A,{className:"h-4 w-4 opacity-50"})})]})});W.displayName=P.l9.displayName;let F=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(P.PP,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(I.A,{className:"h-4 w-4"})})});F.displayName=P.PP.displayName;let B=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(P.wn,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(O.A,{className:"h-4 w-4"})})});B.displayName=P.wn.displayName;let U=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...l}=e;return(0,a.jsx)(P.ZL,{children:(0,a.jsxs)(P.UC,{ref:t,className:(0,n.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,a.jsx)(F,{}),(0,a.jsx)(P.LM,{className:(0,n.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(B,{})]})})});U.displayName=P.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(P.JU,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=P.JU.displayName;let Z=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(P.q7,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(P.VF,{children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})}),(0,a.jsx)(P.p4,{children:r})]})});Z.displayName=P.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(P.wv,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=P.wv.displayName;var J=s(2297),z=s(3602),H=s(5516),V=s(7802);function $(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:i,ignoredProjects:n=[],selectedDate:l,onDateChange:o}=e,[c,d]=(0,r.useState)(()=>l||(0,V.JO)(new Date)),{formatDuration:u,formatHoursForChart:h,getMergedSessionsForProjectDay:x,getProjectChartData:p}=(0,b.L)(t,s,i,n),g=Object.keys(t).sort().reverse(),f=t[c]||{},j=p().reduce((e,t)=>(e[t.name]=t.color,e),{}),y=Object.entries(f).flatMap(e=>{let[t,s]=e;return x(s).map(e=>{let s=new Date(e.start),a=new Date(e.end);return{project:t,color:j[t]||"#8884d8",start:e.start,end:e.end,duration:(a.getTime()-s.getTime())/1e3,type:e.type}})}).sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),v=Object.entries(f).map(e=>{let[t,s]=e,a=x(s),r=a.reduce((e,t)=>{let s=new Date(t.start);return e+(new Date(t.end).getTime()-s.getTime())/1e3},0);return{project:t,duration:r,hours:r/3600,sessions:a.length,color:j[t]||"#8884d8"}}),N=v.reduce((e,t)=>e+t.hours,0),T=e=>{let t=new Date((0,V.Nx)(c));t.setDate(t.getDate()+("next"===e?1:-1));let s=(0,V.JO)(t);d(s),o&&o(s)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.$,{variant:"outline",size:"sm",onClick:()=>T("prev"),children:(0,a.jsx)(J.A,{className:"w-4 h-4"})}),(0,a.jsx)(C.$,{variant:"outline",size:"sm",onClick:()=>T("next"),children:(0,a.jsx)(z.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(H.A,{className:"w-5 h-5"}),"Daily Details"]}),(0,a.jsx)(m.BT,{children:(0,V.OS)(c)})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(L,{value:c,onValueChange:e=>{d(e),o&&o(e)},children:[(0,a.jsx)(W,{className:"w-48",children:(0,a.jsx)(M,{placeholder:"Select a date"})}),(0,a.jsx)(U,{children:g.map(e=>(0,a.jsx)(Z,{value:e,children:(0,V.xB)(e,{weekday:"short",month:"short",day:"numeric"})},e))})]})})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:h(N)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Hours"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:y.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Sessions"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:y.filter(e=>"coding"===e.type).length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Coding Sessions"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:v.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Active Projects"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Project Breakdown"}),(0,a.jsx)(m.BT,{children:"Time spent on each project today"})]}),(0,a.jsx)(m.Wu,{children:0===v.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity recorded for this day"}):(0,a.jsx)("div",{className:"space-y-3",children:v.sort((e,t)=>t.hours-e.hours).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.project}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.sessions," sessions"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",children:h(e.hours)}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(e.hours/N*100),"%"]})]})]},e.project))})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Session Timeline"}),(0,a.jsx)(m.BT,{children:"Chronological view of your work sessions"})]}),(0,a.jsx)(m.Wu,{children:0===y.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No sessions recorded for this day"}):(0,a.jsx)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:y.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),"coding"===e.type?(0,a.jsx)(k.A,{className:"w-4 h-4 text-teal-600"}):(0,a.jsx)(S.A,{className:"w-4 h-4 text-amber-600"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"font-medium",children:e.project}),(0,a.jsx)(w.E,{variant:"coding"===e.type?"default":"secondary",children:e.type})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium",children:[(0,a.jsx)(A.A,{className:"w-3 h-3"}),u(e.duration)]})]},t))})})]})]})]})}var _=s(900),K=s(7890),X=s(1107),q=s(209),Y=s(9187),G=s(2146),Q=s(2950),ee=s(3210),et=s(7531),es=s(6539),ea=s(459),er=s(2235);function ei(e){let{statsData:t,ignoredProjects:s,projectCustomNames:i,currentWeek:n,idleTimeoutMinutes:u,onIdleTimeoutChange:g,onAddIgnoredProject:f,onRemoveIgnoredProject:T,onSaveProjectCustomName:k,onRemoveProjectCustomName:S}=e,[D,E]=(0,r.useState)(""),[P,O]=(0,r.useState)(!1),[I,R]=(0,r.useState)(""),[F,B]=(0,r.useState)(!1),[J,z]=(0,r.useState)(null),[H,V]=(0,r.useState)(""),{getProjectTotals:$,formatDuration:ei}=(0,b.L)(t,n,u),en=e=>{let t=i.find(t=>t.projectName===e);return t?t.customName:e},el=e=>i.find(t=>t.projectName===e),eo=(()=>{let e=new Set;return Object.values(t).forEach(t=>{Object.keys(t).forEach(t=>{e.add(t)})}),Array.from(e).sort()})(),ec=$(),ed=s.map(e=>e.projectName),em=ec.filter(e=>!ed.includes(e.name)&&(""===D||e.name.toLowerCase().includes(D.toLowerCase())||en(e.name).toLowerCase().includes(D.toLowerCase()))),eu=s.filter(e=>""===D||e.projectName.toLowerCase().includes(D.toLowerCase())||en(e.projectName).toLowerCase().includes(D.toLowerCase())),eh=async()=>{if(I.trim()){B(!0);try{await f(I.trim()),R(""),O(!1)}finally{B(!1)}}},ex=async e=>{B(!0);try{await T(e)}finally{B(!1)}},ep=async e=>{B(!0);try{await f(e)}finally{B(!1)}},eg=e=>{let t=el(e);z(e),V((null==t?void 0:t.customName)||"")},ef=async e=>{if(H.trim()){B(!0);try{await k(e,H.trim()),z(null),V("")}finally{B(!1)}}},ej=async e=>{let t=el(e);if(t){B(!0);try{await S(t.id)}finally{B(!1)}}},ey=()=>{z(null),V("")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(X.A,{className:"w-6 h-6 text-teal-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{children:"Settings"}),(0,a.jsx)(m.BT,{children:"Manage your time tracker preferences and projects"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(w.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(q.A,{className:"w-4 h-4 mr-1"}),em.length," Active"]}),(0,a.jsxs)(w.E,{variant:"secondary",className:"px-3 py-1",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4 mr-1"}),s.length," Ignored"]}),(0,a.jsxs)(w.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(G.A,{className:"w-4 h-4 mr-1"}),i.length," Custom Names"]})]})]})})}),(0,a.jsxs)(l,{defaultValue:"general",className:"w-full",children:[(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{value:"general",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"General"]}),(0,a.jsxs)(c,{value:"projects",children:[(0,a.jsx)(X.A,{className:"w-4 h-4 mr-2"}),"Project Visibility"]}),(0,a.jsxs)(c,{value:"names",children:[(0,a.jsx)(G.A,{className:"w-4 h-4 mr-2"}),"Custom Names"]})]}),(0,a.jsx)(d,{value:"general",className:"space-y-6",children:(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Idle Timeout"}),(0,a.jsx)(m.BT,{children:"Set the time after which inactivity will split sessions. This affects how sessions are grouped together."})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(K.J,{htmlFor:"idle-timeout",className:"text-sm font-medium",children:"Idle timeout duration:"}),(0,a.jsxs)(L,{value:u.toString(),onValueChange:e=>g(parseInt(e)),children:[(0,a.jsx)(W,{id:"idle-timeout",className:"w-48",children:(0,a.jsx)(M,{})}),(0,a.jsx)(U,{children:[5,10,15,20,30].map(e=>(0,a.jsxs)(Z,{value:e.toString(),children:[e," minutes"]},e))})]})]})})]})}),(0,a.jsxs)(d,{value:"projects",className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)(Q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(_.p,{placeholder:"Search projects...",value:D,onChange:e=>E(e.target.value),className:"pl-10"})]})})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(x,{open:P,onOpenChange:O,children:[(0,a.jsx)(p,{asChild:!0,children:(0,a.jsxs)(C.$,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,a.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),"Ignore Project"]})}),(0,a.jsxs)(j,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(N,{children:"Ignore Project"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"project-name",className:"text-sm font-medium",children:"Project Name"}),(0,a.jsx)(_.p,{id:"project-name",value:I,onChange:e=>R(e.target.value),placeholder:"Enter project name to ignore",className:"mt-1"})]}),eo.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Or select from existing projects:"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:eo.filter(e=>!ed.includes(e)).map(e=>(0,a.jsxs)(C.$,{variant:"ghost",size:"sm",className:"w-full justify-start text-left",onClick:()=>R(e),children:[en(e),en(e)!==e&&(0,a.jsxs)("span",{className:"text-gray-500 ml-2",children:["(",e,")"]})]},e))})]})]}),(0,a.jsxs)(v,{children:[(0,a.jsx)(C.$,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,a.jsx)(C.$,{onClick:eh,disabled:!I.trim()||F,children:"Ignore Project"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(et.A,{className:"w-5 h-5 text-green-600"}),"Active Projects (",em.length,")"]}),(0,a.jsx)(m.BT,{children:"Projects included in calculations and statistics"})]}),(0,a.jsx)(m.Wu,{children:0===em.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:D?"No active projects match your search.":"No active projects found."}):(0,a.jsx)("div",{className:"space-y-3",children:em.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:en(e.name)}),en(e.name)!==e.name&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Original: ",e.name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-3 h-3"}),ei(e.duration)," this week"]})]})]}),(0,a.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>ep(e.name),disabled:F,className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4 mr-1"}),"Ignore"]})]}),!1]},e.name))})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(Y.A,{className:"w-5 h-5 text-orange-600"}),"Ignored Projects (",eu.length,")"]}),(0,a.jsx)(m.BT,{children:"Projects excluded from calculations and statistics"})]}),(0,a.jsx)(m.Wu,{children:0===eu.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:D?"No ignored projects match your search.":"No projects are currently ignored."}):(0,a.jsx)("div",{className:"space-y-2",children:eu.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:en(e.projectName)}),en(e.projectName)!==e.projectName&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Original: ",e.projectName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Ignored ",new Date(e.ignoredAt).toLocaleDateString()]})]})]}),(0,a.jsxs)(C.$,{variant:"outline",size:"sm",onClick:()=>ex(e.id),disabled:F,className:"text-green-600 border-green-200 hover:bg-green-50",children:[(0,a.jsx)(et.A,{className:"w-4 h-4 mr-1"}),"Include"]})]},e.id))})})]})]})]}),(0,a.jsxs)(d,{value:"names",className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)(Q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(_.p,{placeholder:"Search projects...",value:D,onChange:e=>E(e.target.value),className:"pl-10"})]})})}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"w-5 h-5 text-blue-600"}),"Project Custom Names"]}),(0,a.jsx)(m.BT,{children:"Set custom display names for your projects. The original project names will still be used for tracking."})]}),(0,a.jsx)(m.Wu,{children:0===eo.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No projects found. Start tracking time to see projects here."}):(0,a.jsx)("div",{className:"space-y-3",children:eo.filter(e=>""===D||e.toLowerCase().includes(D.toLowerCase())||en(e).toLowerCase().includes(D.toLowerCase())).map(e=>{let t=el(e),s=J===e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e}),s?(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)(_.p,{value:H,onChange:e=>V(e.target.value),placeholder:"Enter custom name",className:"flex-1",onKeyDown:t=>{"Enter"===t.key?ef(e):"Escape"===t.key&&ey()}}),(0,a.jsx)(C.$,{size:"sm",onClick:()=>ef(e),disabled:!H.trim()||F,children:(0,a.jsx)(es.A,{className:"w-4 h-4"})}),(0,a.jsx)(C.$,{size:"sm",variant:"outline",onClick:ey,children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})]}):(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:t?(0,a.jsxs)(a.Fragment,{children:["Display name: ",(0,a.jsx)("span",{className:"font-medium text-blue-600",children:t.customName})]}):"No custom name set"})]}),!s&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(C.$,{size:"sm",variant:"outline",onClick:()=>eg(e),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[(0,a.jsx)(ea.A,{className:"w-4 h-4 mr-1"}),t?"Edit":"Set Name"]}),t&&(0,a.jsx)(C.$,{size:"sm",variant:"outline",onClick:()=>ej(e),disabled:F,className:"text-red-600 border-red-200 hover:bg-red-50",children:(0,a.jsx)(er.A,{className:"w-4 h-4"})})]})]},e)})})})]})]})]})]})}function en(e){let{statsData:t,ignoredProjects:s,projectCustomNames:r,wrikeProjects:i,wrikeProjectsLoading:n,wrikeProjectMappings:m,currentWeek:u,idleTimeoutMinutes:h,onIdleTimeoutChange:x,onAddIgnoredProject:p,onRemoveIgnoredProject:g,onSaveProjectCustomName:f,onRemoveProjectCustomName:j,onFetchWrikeProjects:y,onSaveWrikeMapping:v,activeTab:N,onTabChange:w}=e;return(0,a.jsxs)(l,{value:N,onValueChange:w,className:"space-y-4",children:[(0,a.jsxs)(o,{children:[(0,a.jsxs)(c,{value:"timesheet",children:[(0,a.jsx)(H.A,{className:"w-4 h-4 mr-2"}),"Weekly Timesheet"]}),(0,a.jsxs)(c,{value:"daily",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Daily Details"]}),(0,a.jsxs)(c,{value:"settings",children:[(0,a.jsx)(X.A,{className:"w-4 h-4 mr-2"}),"Settings"]})]}),(0,a.jsx)(d,{value:"timesheet",children:(0,a.jsx)(E,{statsData:t,currentWeek:u,idleTimeoutMinutes:h,ignoredProjects:s.map(e=>e.projectName),projectCustomNames:r,wrikeProjectMappings:m})}),(0,a.jsx)(d,{value:"daily",children:(0,a.jsx)($,{statsData:t,currentWeek:u,idleTimeoutMinutes:h,ignoredProjects:s.map(e=>e.projectName)})}),(0,a.jsx)(d,{value:"settings",children:(0,a.jsx)(ei,{statsData:t,ignoredProjects:s,projectCustomNames:r,wrikeProjects:i,wrikeProjectsLoading:n,wrikeProjectMappings:m,currentWeek:u,idleTimeoutMinutes:h,onIdleTimeoutChange:x,onAddIgnoredProject:p,onRemoveIgnoredProject:g,onSaveProjectCustomName:f,onRemoveProjectCustomName:j,onFetchWrikeProjects:y,onSaveWrikeMapping:v})})]})}},3140:(e,t,s)=>{s.d(t,{N:()=>T});var a=s(8081),r=s(2149),i=s(6810),n=s(5160),l=s(900),o=s(7890),c=s(3484),d=s(7687);let m=(0,c.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u=r.forwardRef((e,t)=>{let{className:s,variant:r,...i}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,d.cn)(m({variant:r}),s),...i})});u.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",s),...r})});h.displayName="AlertDescription";var x=s(5977),p=s(7188),g=s(1511),f=s(2521),j=s(7849),y=s(9076),v=s(2184),N=s(1011),w=s(5283);let b=["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003"];function T(e){let{onValidate:t}=e,[s,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[T,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let e=new URLSearchParams(window.location.search),t=e.get("license")||e.get("licensekey");if(t){c(t),m("");let e=window.location.pathname;window.history.replaceState({},document.title,e),S(t)}}},[]);let S=async e=>{k(!0);try{await t(e.trim())||m("The license key from login portal is invalid. Please try again.")}catch(e){m("Failed to validate license from login portal. Please check your connection.")}finally{k(!1)}},A=window.location.hostname.includes("v0.dev")||window.location.hostname.includes("vusercontent.net")||!1;console.log(window.location);let D=async e=>{e.preventDefault(),m(""),k(!0);try{await t(s.trim())||m("Invalid license key. Please check your key and try again.")}catch(e){m("Failed to validate license. Please check your connection and try again.")}finally{k(!1)}},E=e=>{c(e),m("")},C=e=>{navigator.clipboard.writeText(e)};return(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-600 to-teal-800 rounded-xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(p.A,{className:"h-7 w-7 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),(0,a.jsx)(g.A,{className:"h-8 w-8 text-teal-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-teal-800",children:"Development Time Tracker"}),(0,a.jsx)("p",{className:"text-gray-600",children:"License validation required"})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5"}),"Enter License Key"]}),(0,a.jsx)(i.BT,{children:"Please enter your valid license key to access the time tracking dashboard."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"license-key",children:"License Key"}),(0,a.jsx)(l.p,{id:"license-key",type:"text",placeholder:"Enter your license key",value:s,onChange:e=>c(e.target.value),required:!0,className:"font-mono",disabled:T})]}),d&&(0,a.jsxs)(u,{variant:"destructive",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)(h,{children:d})]}),s&&!d&&(0,a.jsxs)(u,{className:"border-green-200 bg-green-50",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(h,{className:"text-green-800",children:'License key loaded successfully. Click "Validate License" to continue.'})]}),(0,a.jsx)(n.$,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:T||!s.trim(),children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"w-4 h-4 animate-spin mr-2"}),"Validating with API..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Validate License"]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),(0,a.jsxs)(n.$,{type:"button",variant:"outline",className:"w-full",onClick:()=>{let e=window.location.origin+window.location.pathname,t="https://addons.francislabonte.com/licenses/getkey/codepulse?return=".concat(encodeURIComponent(e));window.location.href=t},disabled:T,children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Validate by Login"]})]})})]}),(0,a.jsx)(i.Zp,{className:"border-blue-200",children:(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"text-sm text-blue-800 flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),"License Validation"]}),(0,a.jsx)(i.BT,{className:"text-xs",children:A?"Running in preview mode - demo keys available below":"Licenses are validated through addons.francislabonte.com API"})]})}),A&&(0,a.jsxs)(i.Zp,{className:"border-teal-200",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-sm text-teal-800",children:"Demo License Keys"}),(0,a.jsx)(i.BT,{className:"text-xs",children:"For testing purposes, you can use any of these demo keys:"})]}),(0,a.jsx)(i.Wu,{className:"space-y-3",children:b.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-teal-50 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.E,{variant:"outline",className:"text-xs",children:e.includes("DEV")?"DEV":e.includes("PRO")?"PRO":"ENT"}),(0,a.jsx)("code",{className:"text-xs font-mono text-teal-700",children:e})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>C(e),className:"h-6 w-6 p-0 hover:bg-teal-100",title:"Copy to clipboard",disabled:T,children:(0,a.jsx)(w.A,{className:"h-3 w-3"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>E(e),className:"h-6 px-2 text-xs hover:bg-teal-100",disabled:T,children:"Use"})]})]},e))})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:A?"Preview mode: Demo keys work offline for testing.":"License validation requires an internet connection."})})]})})}},5064:(e,t,s)=>{s.d(t,{U:()=>l});var a=s(8081),r=s(7188),i=s(1511),n=s(2184);function l(){return(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-600 to-teal-800 rounded-xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(r.A,{className:"h-7 w-7 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),(0,a.jsx)(i.A,{className:"h-8 w-8 text-teal-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-teal-800",children:"Development Time Tracker"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Initializing application..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(n.A,{className:"h-6 w-6 animate-spin text-teal-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Validating license..."})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})}},5160:(e,t,s)=>{s.d(t,{$:()=>c});var a=s(8081),r=s(2149),i=s(3629),n=s(3484),l=s(7687);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...d}=e,m=c?i.DX:"button";return(0,a.jsx)(m,{className:(0,l.cn)(o({variant:r,size:n,className:s})),ref:t,...d})});c.displayName="Button"},5977:(e,t,s)=>{s.d(t,{E:()=>l});var a=s(8081);s(2149);var r=s(3484),i=s(7687);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:s}),t),...r})}},6810:(e,t,s)=>{s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l});var a=s(8081),r=s(2149),i=s(7687);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},7086:(e,t,s)=>{s.d(t,{u:()=>y});var a=s(2149);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function m(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}var u=s(7802);class h{setBearerToken(e){this.bearerToken=e}async request(e){if(!this.bearerToken)throw Error("Wrike bearer token not configured");let t=this.useProxy?"".concat(this.baseUrl).concat(e):"https://www.wrike.com/api/v4".concat(e),s={"Content-Type":"application/json"};this.useProxy?s["X-Wrike-Token"]=this.bearerToken:s.Authorization="Bearer ".concat(this.bearerToken);let a=await fetch(t,{method:"GET",headers:s});if(!a.ok){let e="Wrike API error: ".concat(a.status," ").concat(a.statusText);try{let t=await a.text();if(t){let s=JSON.parse(t);s.errorDescription?e=s.errorDescription:s.error&&(e=s.error)}}catch(e){}throw 401===a.status?e="Invalid Wrike bearer token. Please check that your token is correct and hasn't expired.":404===a.status&&(e="Wrike API endpoint not found. The backend proxy may not be running."),Error(e)}return a.json()}async getProjects(){try{return(await this.request("/folders?project=true")).data.filter(e=>e.project).map(e=>{var t;return{id:e.id,title:e.title,permalink:e.permalink,customStatusId:null===(t=e.project)||void 0===t?void 0:t.customStatusId}})}catch(e){throw console.error("Failed to fetch Wrike projects:",e),e}}async getProjectById(e){try{let t=(await this.request("/folders/".concat(e))).data[0];if(!t||!t.project)return null;return{id:t.id,title:t.title,permalink:t.permalink,customStatusId:t.project.customStatusId}}catch(t){return console.error("Failed to fetch Wrike project ".concat(e,":"),t),null}}async testConnection(){try{return await this.request("/contacts?me=true"),!0}catch(e){return console.error("Wrike connection test failed:",e),!1}}constructor(e,t=!0){this.bearerToken=null,this.useProxy=t,this.baseUrl="/api/wrike",e&&(this.bearerToken=e)}}let x=null,p=()=>{let e={},t=["Dashboard Redesign","API Integration","Mobile App","Documentation","Bug Fixes"],s=new Date,a=["src/components/dashboard.tsx","src/hooks/use-time-tracking-data.ts","src/pages/api/stats.ts","src/components/header.tsx","src/utils/date-utils.ts","src/components/project-detail-view.tsx","src/hooks/use-time-calculations.ts","package.json","README.md","src/styles/globals.css"],r=["https://github.com/company/project","https://stackoverflow.com/questions/react-hooks","https://docs.nextjs.org/api-reference","https://tailwindcss.com/docs","https://localhost:3000/dashboard"];for(let i=0;i<14;i++){let n=new Date(s);n.setDate(n.getDate()-i);let l=(0,u.JO)(n);e[l]={};let o=Math.floor(3*Math.random())+1;t.slice(0,o).forEach(t=>{let s=[],i=Math.floor(4*Math.random())+1;for(let e=0;e<i;e++){let e=9+Math.floor(8*Math.random()),t=Math.floor(120*Math.random())+30,i=new Date(n);i.setHours(e,Math.floor(60*Math.random()));let l=new Date(i.getTime()+6e4*t),o=Math.random()>.3?"coding":"browsing",c={start:i.toISOString(),end:l.toISOString(),type:o};if("coding"===o)c.file=a[Math.floor(Math.random()*a.length)];else{let e=r[Math.floor(Math.random()*r.length)];c.url=e,c.host=new URL(e).hostname}s.push(c)}let o=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);e[l][t]={duration:o,sessions:s}})}return e},g=()=>[{id:"1",project:"Dashboard Redesign",url:"https://github.com/company/dashboard-redesign",description:"Main repository for dashboard redesign project"},{id:"2",project:"Dashboard Redesign",url:"https://figma.com/dashboard-mockups",description:"Design mockups and wireframes"},{id:"3",project:"API Integration",url:"https://api-docs.company.com",description:"API documentation and endpoints"},{id:"4",project:"API Integration",url:"https://github.com/company/api-integration",description:"Integration code repository"},{id:"5",project:"Mobile App",url:"https://github.com/company/mobile-app",description:"React Native mobile application"},{id:"6",project:"Documentation",url:"https://docs.company.com",description:"Project documentation site"}],f=e=>{let t={};return Object.entries(e).forEach(e=>{let[s,a]=e,r=s;if(s.includes("T")&&(r=s.split("T")[0]),!/^\d{4}-\d{2}-\d{2}$/.test(r)){console.warn("Invalid date format received from API: ".concat(s));return}t[r]=a}),t},j=(e,t)=>{if(0===t.length)return e;let s={};return Object.entries(e).forEach(e=>{let[a,r]=e,i={};Object.entries(r).forEach(e=>{let[s,a]=e;t.includes(s)||(i[s]=a)}),Object.keys(i).length>0&&(s[a]=i)}),s},y=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,s]=(0,a.useState)({}),[r,i]=(0,a.useState)({}),[n,l]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),[b,T]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[A,D]=(0,a.useState)(null),[E,C]=(0,a.useState)(10),[P,O]=(0,a.useState)(!1),[I,R]=(0,a.useState)("cloud"),L=window.location.hostname.includes("v0.dev")||window.location.hostname.includes("vusercontent.net");(0,a.useEffect)(()=>{i(j(t,o.map(e=>e.projectName)))},[t,o]);let M=async()=>{if(!e){s({}),i({}),S(!1);return}try{if(S(!0),D(null),L){setTimeout(()=>{let e=p();s(e),S(!1)},1e3);return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/stats"),{signal:e.signal});if(clearTimeout(t),!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json(),i=f(r);s(i)}catch(a){clearTimeout(t),console.warn("API not available, using fake data:",a);let e=p();s(e)}}catch(e){console.warn("Error in fetchStats, using fake data:",e),s(p())}finally{S(!1)}},W=async()=>{if(!e){l([]);return}try{if(D(null),L){l(g());return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/urls"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();l(a)}catch(e){clearTimeout(t),console.warn("API not available for URLs, using fake data:",e),l(g())}}catch(e){console.warn("Error fetching project URLs, using fake data:",e),l(g())}},F=async()=>{if(!e){C(10);return}try{if(O(!0),L){let e=localStorage.getItem("idle-timeout-minutes");e&&C(Number(e));let t=localStorage.getItem("storage-type");t&&R(t),O(!1);return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/settings"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();C(a.idleTimeoutMinutes||10),R(a.storageType||"cloud")}catch(s){clearTimeout(t),console.warn("Settings API not available, using localStorage:",s);let e=localStorage.getItem("idle-timeout-minutes");e&&C(Number(e))}}catch(e){console.warn("Error fetching settings, using default:",e)}finally{O(!1)}},B=async t=>{if(e)try{if(O(!0),L){localStorage.setItem("idle-timeout-minutes",t.toString()),C(t),O(!1);return}let e=new AbortController,s=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idleTimeoutMinutes:t}),signal:e.signal});if(clearTimeout(s),!a.ok)throw Error("HTTP error! status: ".concat(a.status));C(t),m({title:"Settings Saved",description:"Idle timeout updated to ".concat(t," minutes")})}catch(e){clearTimeout(s),console.warn("Settings API not available, saving to localStorage:",e),localStorage.setItem("idle-timeout-minutes",t.toString()),C(t),m({title:"Settings Saved Locally",description:"Idle timeout updated to ".concat(t," minutes (saved locally)")})}}catch(e){console.error("Error saving settings:",e),m({title:"Error",description:"Failed to save idle timeout setting",variant:"destructive"})}finally{O(!1)}},U=async t=>{if(e)try{if(O(!0),L){localStorage.setItem("storage-type",t),R(t),O(!1);return}let e=new AbortController,s=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idleTimeoutMinutes:E,storageType:t}),signal:e.signal});if(clearTimeout(s),!a.ok)throw Error("HTTP error! status: ".concat(a.status));R(t),m({title:"Settings Saved",description:"Storage preference updated to ".concat(t)})}catch(e){clearTimeout(s),localStorage.setItem("storage-type",t),R(t),m({title:"Settings Saved Locally",description:"Storage preference updated to ".concat(t," (saved locally)")})}}catch(e){console.error("Error saving storage type:",e),m({title:"Error",description:"Failed to save storage preference",variant:"destructive"})}finally{O(!1)}},Z=async t=>{if(e)try{if(L){let e={id:Date.now().toString(),project:t.project,url:t.url,description:t.description};l(t=>[...t,e]),m({title:"Success",description:"Project URL has been created (preview mode)"});return}let e=await fetch("".concat("","/api/urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));await W(),m({title:"Success",description:"Project URL has been created"})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to create project URL",variant:"destructive"})}},J=async(t,s)=>{if(e)try{if(L){l(e=>e.map(e=>e.id===t?{...e,project:s.project,url:s.url,description:s.description}:e)),m({title:"Success",description:"Project URL has been updated (preview mode)"});return}let e=await fetch("".concat("","/api/urls/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));await W(),m({title:"Success",description:"Project URL has been updated"})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to update project URL",variant:"destructive"})}},z=async t=>{if(e)try{if(L){l(e=>e.filter(e=>e.id!==t)),m({title:"Success",description:"Project URL has been deleted (preview mode)"});return}let e=await fetch("".concat("","/api/urls/").concat(t),{method:"DELETE"});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));await W(),m({title:"Success",description:"Project URL has been deleted"})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to delete project URL",variant:"destructive"})}},H=async()=>{if(!e){c([]);return}try{if(L){let e=localStorage.getItem("ignored-projects");e&&c(JSON.parse(e));return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/ignored-projects"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();c(a)}catch(s){clearTimeout(t),console.warn("Ignored projects API not available, using localStorage:",s);let e=localStorage.getItem("ignored-projects");e&&c(JSON.parse(e))}}catch(e){console.warn("Error fetching ignored projects:",e)}},V=async()=>{if(!e){u([]);return}try{if(L){let e=localStorage.getItem("project-custom-names");e&&u(JSON.parse(e));return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/project-names"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();u(a)}catch(s){clearTimeout(t),console.warn("Project custom names API not available, using localStorage:",s);let e=localStorage.getItem("project-custom-names");e&&u(JSON.parse(e))}}catch(e){console.warn("Error fetching project custom names:",e)}},$=async t=>{if(e)try{let e={id:Date.now().toString(),projectName:t,ignoredAt:new Date().toISOString()};if(L){let s=[...o,e];c(s),localStorage.setItem("ignored-projects",JSON.stringify(s)),m({title:"Success",description:'"'.concat(t,'" has been ignored and will be excluded from all calculations')});return}let s=await fetch("".concat("","/api/ignored-projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:t})});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));await H(),m({title:"Success",description:'"'.concat(t,'" has been ignored and will be excluded from all calculations')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to ignore project",variant:"destructive"})}},_=async t=>{if(e)try{let e=o.find(e=>e.id===t),s=(null==e?void 0:e.projectName)||"Project";if(L){let e=o.filter(e=>e.id!==t);c(e),localStorage.setItem("ignored-projects",JSON.stringify(e)),m({title:"Success",description:'"'.concat(s,'" has been unignored and will be included in calculations')});return}let a=await fetch("".concat("","/api/ignored-projects/").concat(t),{method:"DELETE"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));await H(),m({title:"Success",description:'"'.concat(s,'" has been unignored and will be included in calculations')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to unignore project",variant:"destructive"})}},K=async(t,s)=>{if(e)try{let e=d.find(e=>e.projectName===t);if(L){let a;if(e)a=d.map(e=>e.projectName===t?{...e,customName:s,updatedAt:new Date().toISOString()}:e);else{let e={id:Date.now().toString(),projectName:t,customName:s,updatedAt:new Date().toISOString()};a=[...d,e]}u(a),localStorage.setItem("project-names",JSON.stringify(a)),m({title:"Success",description:'Custom name for "'.concat(t,'" has been saved')});return}let a=e?"PUT":"POST",r=e?"".concat("","/api/project-names/").concat(e.id):"".concat("","/api/project-names"),i=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:t,customName:s})});if(!i.ok)throw Error("HTTP error! status: ".concat(i.status));await V(),m({title:"Success",description:'Custom name for "'.concat(t,'" has been saved')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to save custom name",variant:"destructive"})}},X=async t=>{if(e)try{let e=d.find(e=>e.id===t),s=(null==e?void 0:e.projectName)||"Project";if(L){let e=d.filter(e=>e.id!==t);u(e),localStorage.setItem("project-custom-names",JSON.stringify(e)),m({title:"Success",description:'Custom name for "'.concat(s,'" has been removed')});return}let a=await fetch("".concat("","/api/project-names/").concat(t),{method:"DELETE"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));await V(),m({title:"Success",description:'Custom name for "'.concat(s,'" has been removed')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to remove custom name",variant:"destructive"})}},q=async t=>{if(!e||!t){v([]);return}try{T(!0),D(null);let e=(x?t&&x.setBearerToken(t):x=new h(t),x),s=await e.getProjects();v(s)}catch(e){console.error("Error fetching Wrike projects:",e),v([]),m({title:"Error",description:e instanceof Error?e.message:"Failed to fetch Wrike projects",variant:"destructive"})}finally{T(!1)}},Y=async()=>{if(!e){w([]);return}try{if(L){let e=localStorage.getItem("wrike-project-mappings");e&&w(JSON.parse(e));return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/wrike-mappings"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();w(a)}catch(s){clearTimeout(t),console.warn("Wrike mappings API not available, using localStorage:",s);let e=localStorage.getItem("wrike-project-mappings");e&&w(JSON.parse(e))}}catch(e){console.warn("Error fetching Wrike project mappings:",e)}},G=async(t,s)=>{if(e)try{let e=N.find(e=>e.projectName===t),a={id:(null==e?void 0:e.id)||Date.now().toString(),projectName:t,wrikeProjectId:s.id,wrikeProjectTitle:s.title,wrikePermalink:s.permalink,createdAt:(null==e?void 0:e.createdAt)||new Date().toISOString()};if(L){let r;r=e?N.map(e=>e.projectName===t?a:e):[...N,a],w(r),localStorage.setItem("wrike-project-mappings",JSON.stringify(r)),m({title:"Success",description:'"'.concat(t,'" has been linked to Wrike project "').concat(s.title,'"')});return}let r=e?"PUT":"POST",i=e?"".concat("","/api/wrike-mappings/").concat(e.id):"".concat("","/api/wrike-mappings"),n=await fetch(i,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));await Y(),m({title:"Success",description:'"'.concat(t,'" has been linked to Wrike project "').concat(s.title,'"')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to save Wrike project mapping",variant:"destructive"})}},Q=async t=>{if(e)try{let e=N.find(e=>e.projectName===t);if(!e)return;if(L){let e=N.filter(e=>e.projectName!==t);w(e),localStorage.setItem("wrike-project-mappings",JSON.stringify(e)),m({title:"Success",description:'Wrike link for "'.concat(t,'" has been removed')});return}let s=await fetch("".concat("","/api/wrike-mappings/").concat(e.id),{method:"DELETE"});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));await Y(),m({title:"Success",description:'Wrike link for "'.concat(t,'" has been removed')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to remove Wrike project mapping",variant:"destructive"})}};return(0,a.useEffect)(()=>{e&&(M(),W(),F(),H(),V(),Y())},[e]),{statsData:r,projectUrls:n,ignoredProjects:o,projectCustomNames:d,wrikeProjects:y,wrikeProjectMappings:N,wrikeProjectsLoading:b,loading:k,error:A,idleTimeoutMinutes:E,setIdleTimeoutMinutes:B,settingsLoading:P,fetchStats:M,fetchProjectUrls:W,fetchSettings:F,fetchIgnoredProjects:H,fetchProjectCustomNames:V,fetchWrikeProjects:q,fetchWrikeProjectMappings:Y,saveWrikeProjectMapping:G,removeWrikeProjectMapping:Q,createProjectUrl:Z,updateProjectUrl:J,deleteProjectUrl:z,addIgnoredProject:$,removeIgnoredProject:_,storageType:I,setStorageType:U,saveProjectCustomName:K,removeProjectCustomName:X}}},7093:(e,t,s)=>{s.d(t,{L:()=>r});var a=s(7802);let r=(e,t,s)=>{let r=e=>{let t=new Date(e),s=t.getDay(),a=t.getDate()-s;return new Date(t.setDate(a))},i=e=>{let t=[];for(let s=0;s<7;s++){let r=new Date(e.getTime()+864e5*s);t.push((0,a.JO)(r))}return t},n=()=>{if(!e||0===Object.keys(e).length)return{};let s=i(r(t)),a={};return s.forEach(t=>{e[t]&&(a[t]=e[t])}),a},l=e=>{let t=(0,a.Nx)(e).getDay();return 8*(t>=1&&t<=5)},o=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return"".concat(t,"h ").concat(s,"m")},c=e=>{if(0===e.length)return e;let t=[...e].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),a=[],r={...t[0]};for(let e=1;e<t.length;e++){let i=t[e],n=new Date(r.end).getTime();new Date(i.start).getTime()-n<=6e4*s&&r.type===i.type?r.end=i.end:(a.push(r),r={...i})}return a.push(r),a},d=e=>{let t=[];return Object.values(e).forEach(e=>{t.push(...e.sessions)}),c(t)},m=e=>c(e.sessions),u=e=>e.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0),h=()=>{let e={},t=n();return 0===Object.keys(t).length?[]:(Object.entries(t).forEach(t=>{let[s,a]=t;Object.entries(a).forEach(t=>{let[s,a]=t,r=u(m(a));e[s]=(e[s]||0)+r})}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,duration:s,hours:s/3600}}).sort((e,t)=>t.duration-e.duration))},x=()=>{let e=i(r(t)),s=n();return e.map(e=>{let t=u(d(s[e]||{})),r=(0,a.AD)(e),i=l(e);return{day:r,date:e,hours:t/3600,target:i}})},p=()=>{let e=[],t=n();return 0===Object.keys(t).length?[]:(Object.entries(t).sort((e,t)=>{let[s]=e,[a]=t;return a.localeCompare(s)}).forEach(t=>{let[s,a]=t;Object.entries(a).forEach(t=>{let[a,r]=t;m(r).slice(-3).forEach((t,r)=>{let i=new Date(t.end).getTime()-new Date(t.start).getTime();e.push({id:"".concat(s,"-").concat(a,"-").concat(r),project:a,task:"".concat(t.type," session"),duration:o(i/1e3),status:"completed",date:s,type:t.type})})})}),e.slice(0,10))};return{getWeekStart:r,getWeekEnd:e=>new Date(r(e).getTime()+5184e5),getWeekDates:i,getCurrentWeekData:n,isCurrentWeek:()=>{let e=new Date,s=r(t),a=r(e);return s.getTime()===a.getTime()},formatDuration:o,formatHoursForChart:e=>{let t=Math.floor(e),s=Math.round((e-t)*60);return 0===t&&0===s?"0h":0===s?"".concat(t,"h"):"".concat(t,"h").concat(s.toString().padStart(2,"0"))},formatDateInEST:a.xB,formatDateShort:a.kz,formatDateLong:a.OS,getTargetHoursForDate:l,mergeSessions:c,getMergedSessionsForDay:d,getMergedSessionsForProjectDay:m,calculateMergedDuration:u,getProjectTotals:h,getWeeklyData:x,getStackedWeeklyData:()=>{let e=i(r(t)),s=n();return e.map(e=>{let t=s[e]||{},r=(0,a.AD)(e),i=l(e),n={};return Object.entries(t).forEach(e=>{let[t,s]=e,a=u(m(s));n[t]=a/3600}),{day:r,date:e,target:i,...n}})},getWeeklyDataForProject:e=>{let s=i(r(t)),l=n();return s.map(t=>{let s=(l[t]||{})[e],r=(0,a.AD)(t),i=0;return s&&(i=u(m(s))/3600),{day:r,date:t,hours:i}})},getProjectSessionDetails:e=>{let t=[];return Object.entries(n()).forEach(s=>{let[a,r]=s;if(r[e]){let s=m(r[e]);t.push(...s.map(e=>({...e,date:a})))}}),t.sort((e,t)=>new Date(t.start).getTime()-new Date(e.start).getTime())},getRecentActivities:p,getTotalHoursThisWeek:()=>x().reduce((e,t)=>e+t.hours,0),getAvgHoursPerDay:()=>{let e=x().filter(e=>e.target>0);return e.length>0?e.reduce((e,t)=>e+t.hours,0)/e.length:0},getTargetHoursThisWeek:()=>x().reduce((e,t)=>e+t.target,0),getActiveProjects:()=>h().length,getCompletedTasks:()=>p().filter(e=>"completed"===e.status).length,getProjectChartData:()=>{let e=h().slice(0,8),t=["#2D5A5A","#4A7C7C","#A67C5A","#8B4513","#D2B48C","#5F8A8B","#8FBC8F","#CD853F","#DEB887","#F4A460"];return e.map((e,s)=>({name:e.name,hours:Number(e.hours.toFixed(1)),color:t[s%t.length]}))},getMonthlyTrend:()=>{let t={};return e&&0!==Object.keys(e).length?(Object.entries(e).forEach(e=>{let[s,r]=e,i=(0,a.xB)(s,{month:"short"}),n=0;Object.entries(r).forEach(e=>{let[t,s]=e,a=m(s);n+=u(a)}),t[i]=(t[i]||0)+n}),Object.entries(t).map(e=>{let[t,s]=e;return{month:t,hours:Number((s/3600).toFixed(1))}})):[]},getProjectBreakdown:e=>{let t=[];return Object.entries(n()).forEach(s=>{let[a,r]=s;if(r[e]){let s=m(r[e]);t.push(...s.map(e=>({...e,date:a})))}}),t.sort((e,t)=>new Date(t.start).getTime()-new Date(e.start).getTime())},getDailyTotalsForProject:e=>{let t={};return Object.entries(n()).forEach(s=>{let[a,r]=s;if(r[e]){let s=m(r[e]),i=u(s);t[a]={duration:i,sessions:s}}}),Object.entries(t).map(e=>{let[t,s]=e;return{date:t,...s}}).sort((e,t)=>t.date.localeCompare(e.date)).slice(0,14)},getFileActivityForProject:(e,t)=>{let s=n()[t];if(!s||!s[e])return[];let a=s[e].sessions.filter(e=>"coding"===e.type&&e.file),r={};return a.forEach(e=>{if(e.file){let t=e.file.split("/").pop()||e.file;r[t]||(r[t]=[]),r[t].push(e)}}),Object.entries(r).map(e=>{let[t,s]=e,a=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0),r=Array(24).fill(0);return s.forEach(e=>{let t=new Date(e.start).getHours(),s=(new Date(e.end).getTime()-new Date(e.start).getTime())/1e3;r[t]+=s}),{filename:t,extension:t.split(".").pop()||"",totalSeconds:a,timeByHour:r,fullPath:s[0].file}}).sort((e,t)=>t.totalSeconds-e.totalSeconds)},getUrlActivityForProject:(e,t)=>{let s=n()[t];if(!s||!s[e])return[];let a=s[e].sessions.filter(e=>"browsing"===e.type&&e.url),r={};return a.forEach(e=>{e.url&&(r[e.url]||(r[e.url]=[]),r[e.url].push(e))}),Object.entries(r).map(e=>{let[t,s]=e,a=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);return{url:t,host:s[0].host||new URL(t).hostname,totalSeconds:a,sessionCount:s.length}}).sort((e,t)=>t.totalSeconds-e.totalSeconds)},dateToESTString:a.JO,createESTDate:a.Nx}}},7552:(e,t,s)=>{s.d(t,{Y:()=>i});var a=s(2149);let r="mxo-time-tracker-license",i=()=>{let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem(r);if(e){let s=localStorage.getItem("".concat(r,"-last-checked")),a=new Date().getTime();if(s&&a-Number.parseInt(s)<864e5){t(!0),i(e),l(!1);return}await o(e)?(t(!0),i(e),localStorage.setItem("".concat(r,"-last-checked"),a.toString())):(localStorage.removeItem(r),localStorage.removeItem("".concat(r,"-last-checked")))}l(!1)})()},[]);let o=async e=>{try{let t=await fetch("".concat("","/api/license"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license_key:e.trim()})});if(!t.ok)return console.error("License validation API error:",t.status,t.statusText),!1;let s=await t.json();return!0===s.valid||"valid"===s.status}catch(t){return console.error("License validation error:",t),["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003","am+o2015"].includes(e.trim().toUpperCase())}},c=async()=>{try{if(s){let e=await fetch("".concat("","/api/license/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license_key:s.trim()})});e.ok||console.warn("Logout API error:",e.status,e.statusText)}}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem(r),localStorage.removeItem("".concat(r,"-last-checked")),t(!1),i(null)}};return{isLicenseValid:e,validatedLicense:s,isInitializing:n,validateLicense:async e=>{let s=await o(e);if(!s)return console.warn("Invalid license key:",e),!1;if(s){let s=e.trim().toUpperCase();return localStorage.setItem(r,s),t(!0),i(s),!0}return!1},logout:c,getLicenseInfo:()=>{if(!s)return null;let e=["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003","AM+O2015"].includes(s),t="Developer";return s.includes("-DEV-")?t="Developer":s.includes("-PRO-")?t="Professional":s.includes("-ENT-")?t="Enterprise":"AM+O2015"===s&&(t="Special"),{key:s,type:t,isDemo:e}}}}},7687:(e,t,s)=>{s.d(t,{cn:()=>i});var a=s(6522),r=s(4483);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},7802:(e,t,s)=>{s.d(t,{AD:()=>o,JO:()=>c,Nx:()=>r,OS:()=>l,kz:()=>n,xB:()=>i});let a="America/New_York",r=e=>new Date(e+"T00:00:00"),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"2-digit",day:"2-digit",year:"numeric"};return r(e).toLocaleDateString("en-US",{timeZone:a,...t})},n=e=>i(e,{month:"short",day:"numeric"}),l=e=>i(e,{month:"long",day:"numeric",year:"numeric"}),o=e=>i(e,{weekday:"short"}),c=e=>e.toLocaleDateString("en-CA",{timeZone:a})},7890:(e,t,s)=>{s.d(t,{J:()=>c});var a=s(8081),r=s(2149),i=s(4437),n=s(3484),l=s(7687);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),s),...r})});c.displayName=i.b.displayName},8194:(e,t,s)=>{s.d(t,{Y:()=>y});var a=s(8081),r=s(5160),i=s(5977),n=s(2149),l=s(1889),o=s(7687);let c=l.bL,d=l.l9,m=n.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:i=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,align:r,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...n})})});m.displayName=l.UC.displayName;var u=s(7188),h=s(1511),x=s(1107),p=s(1441),g=s(2486),f=s(5516),j=s(7552);function y(e){let{idleTimeoutMinutes:t,onIdleTimeoutChange:s,storageType:n,onStorageTypeChange:l,onRefresh:o,onLogout:y,settingsLoading:v=!1}=e,{getLicenseInfo:N}=(0,j.Y)(),w=N();return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-600 to-teal-800 rounded-lg flex items-center justify-center shadow-md",children:(0,a.jsx)(u.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-amber-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-teal-800",children:"Development Time Tracking"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor your development productivity and project progress"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[w&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-teal-600"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-teal-800",children:w.type}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:w.isDemo?"Demo License":"...".concat(w.key.slice(-6))})]})]}),(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,a.jsx)(m,{className:"w-80",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Dashboard Settings"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{htmlFor:"idle-timeout",className:"text-sm font-medium",children:["Idle Timeout: ",t," minutes"]}),(0,a.jsxs)("select",{id:"idle-timeout",value:t,onChange:e=>s(Number(e.target.value)),className:"bg-white border rounded px-2 py-1 text-sm",disabled:v,children:[(0,a.jsx)("option",{value:5,children:"5 minutes"}),(0,a.jsx)("option",{value:10,children:"10 minutes"}),(0,a.jsx)("option",{value:15,children:"15 minutes"}),(0,a.jsx)("option",{value:20,children:"20 minutes"}),(0,a.jsx)("option",{value:30,children:"30 minutes"})]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Sessions within ",t," minutes of each other will be merged"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{htmlFor:"storage-type",className:"text-sm font-medium",children:"Data Storage"}),(0,a.jsxs)("select",{id:"storage-type",value:n,onChange:e=>l(e.target.value),className:"bg-white border rounded px-2 py-1 text-sm",disabled:v,children:[(0,a.jsx)("option",{value:"cloud",children:"Cloud Storage"}),(0,a.jsx)("option",{value:"local",children:"Local Storage"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"cloud"===n?"Data is stored on cloud":"Data is stored locally on your computer"})]}),!1,w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"font-medium text-sm",children:"License Information"}),(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,a.jsx)("span",{children:w.type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Key:"}),(0,a.jsx)("span",{className:"font-mono",children:w.isDemo?"Demo":"...".concat(w.key.slice(-6))})]})]}),y&&(0,a.jsxs)(r.$,{onClick:y,variant:"outline",size:"sm",className:"w-full mt-3 text-red-600 border-red-200 hover:bg-red-50",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})})]}),(0,a.jsxs)(r.$,{onClick:o,variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(i.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-1"}),"Live Data"]})]})]})}}}]);