"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{5064:(e,t,s)=>{s.d(t,{U:()=>n});var a=s(58081),r=s(67188),l=s(31511),i=s(32184);function n(){return(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-600 to-teal-800 rounded-xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(r.A,{className:"h-7 w-7 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),(0,a.jsx)(l.A,{className:"h-8 w-8 text-teal-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-teal-800",children:"Development Time Tracker"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Initializing application..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(i.A,{className:"h-6 w-6 animate-spin text-teal-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Validating license..."})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})}},5160:(e,t,s)=>{s.d(t,{$:()=>o});var a=s(58081),r=s(82149),l=s(3629),i=s(23484),n=s(87687);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:o=!1,...d}=e,m=o?l.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(c({variant:r,size:i,className:s})),ref:t,...d})});o.displayName="Button"},7802:(e,t,s)=>{s.d(t,{AD:()=>c,JO:()=>o,Nx:()=>r,OS:()=>n,kz:()=>i,xB:()=>l});let a="America/New_York",r=e=>new Date(e+"T00:00:00"),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"2-digit",day:"2-digit",year:"numeric"};return r(e).toLocaleDateString("en-US",{timeZone:a,...t})},i=e=>l(e,{month:"short",day:"numeric"}),n=e=>l(e,{month:"long",day:"numeric",year:"numeric"}),c=e=>l(e,{weekday:"short"}),o=e=>e.toLocaleDateString("en-CA",{timeZone:a})},24085:(e,t,s)=>{s.d(t,{N:()=>k});var a=s(58081),r=s(82149),l=s(86810),i=s(5160),n=s(80900),c=s(14437),o=s(23484),d=s(87687);let m=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(c.b,{ref:t,className:(0,d.cn)(m(),s),...r})});x.displayName=c.b.displayName;let h=(0,o.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),u=r.forwardRef((e,t)=>{let{className:s,variant:r,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,d.cn)(h({variant:r}),s),...l})});u.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",s),...r})});j.displayName="AlertDescription";var g=s(85977),p=s(67188),f=s(31511),v=s(12521),N=s(7849),y=s(99076),b=s(32184),w=s(91011),T=s(75283);let S=["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003"];function k(e){let{onValidate:t}=e,[s,c]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let e=new URLSearchParams(window.location.search),t=e.get("license")||e.get("licensekey");if(console.log(t),t){c(t),d("");let e=window.location.pathname;window.history.replaceState({},document.title,e),k(t)}}},[]);let k=async e=>{h(!0);try{await t(e.trim())||d("The license key from login portal is invalid. Please try again.")}catch(e){d("Failed to validate license from login portal. Please check your connection.")}finally{h(!1)}},D=window.location.hostname.includes("v0.dev")||window.location.hostname.includes("vusercontent.net")||!1;console.log(window.location);let A=async e=>{e.preventDefault(),d(""),h(!0);try{await t(s.trim())||d("Invalid license key. Please check your key and try again.")}catch(e){d("Failed to validate license. Please check your connection and try again.")}finally{h(!1)}},C=e=>{c(e),d("")},L=e=>{navigator.clipboard.writeText(e)};return(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-600 to-teal-800 rounded-xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(p.A,{className:"h-7 w-7 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),(0,a.jsx)(f.A,{className:"h-8 w-8 text-teal-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-teal-800",children:"Development Time Tracker"}),(0,a.jsx)("p",{className:"text-gray-600",children:"License validation required"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Enter License Key"]}),(0,a.jsx)(l.BT,{children:"Please enter your valid license key to access the time tracking dashboard."})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x,{htmlFor:"license-key",children:"License Key"}),(0,a.jsx)(n.p,{id:"license-key",type:"text",placeholder:"Enter your license key",value:s,onChange:e=>c(e.target.value),required:!0,className:"font-mono",disabled:m})]}),o&&(0,a.jsxs)(u,{variant:"destructive",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsx)(j,{children:o})]}),s&&!o&&(0,a.jsxs)(u,{className:"border-green-200 bg-green-50",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(j,{className:"text-green-800",children:'License key loaded successfully. Click "Validate License" to continue.'})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:m||!s.trim(),children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"w-4 h-4 animate-spin mr-2"}),"Validating with API..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Validate License"]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),(0,a.jsxs)(i.$,{type:"button",variant:"outline",className:"w-full",onClick:()=>{let e=window.location.origin+window.location.pathname,t="https://addons.francislabonte.com/licenses/getkey/codepulse?return_url=".concat(encodeURIComponent(e));window.location.href=t},disabled:m,children:[(0,a.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Validate by Login"]})]})})]}),(0,a.jsx)(l.Zp,{className:"border-blue-200",children:(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"text-sm text-blue-800 flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),"License Validation"]}),(0,a.jsx)(l.BT,{className:"text-xs",children:D?"Running in preview mode - demo keys available below":"Licenses are validated through addons.francislabonte.com API"})]})}),D&&(0,a.jsxs)(l.Zp,{className:"border-teal-200",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{className:"text-sm text-teal-800",children:"Demo License Keys"}),(0,a.jsx)(l.BT,{className:"text-xs",children:"For testing purposes, you can use any of these demo keys:"})]}),(0,a.jsx)(l.Wu,{className:"space-y-3",children:S.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-teal-50 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.E,{variant:"outline",className:"text-xs",children:e.includes("DEV")?"DEV":e.includes("PRO")?"PRO":"ENT"}),(0,a.jsx)("code",{className:"text-xs font-mono text-teal-700",children:e})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>L(e),className:"h-6 w-6 p-0 hover:bg-teal-100",title:"Copy to clipboard",disabled:m,children:(0,a.jsx)(T.A,{className:"h-3 w-3"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>C(e),className:"h-6 px-2 text-xs hover:bg-teal-100",disabled:m,children:"Use"})]})]},e))})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:D?"Preview mode: Demo keys work offline for testing.":"License validation requires an internet connection."})})]})})}},38194:(e,t,s)=>{s.d(t,{Y:()=>v});var a=s(58081),r=s(5160),l=s(85977),i=s(82149),n=s(81889),c=s(87687);let o=n.bL,d=n.l9,m=i.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:l=4,...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,align:r,sideOffset:l,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...i})})});m.displayName=n.UC.displayName;var x=s(67188),h=s(31511),u=s(21107),j=s(61441),g=s(22486),p=s(5516),f=s(67552);function v(e){let{idleTimeoutMinutes:t,onIdleTimeoutChange:s,storageType:i,onStorageTypeChange:n,onRefresh:c,onLogout:v,settingsLoading:N=!1}=e,{getLicenseInfo:y}=(0,f.Y)(),b=y();return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-600 to-teal-800 rounded-lg flex items-center justify-center shadow-md",children:(0,a.jsx)(x.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-amber-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-teal-800",children:"Development Time Tracking"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor your development productivity and project progress"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[b&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-teal-600"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-teal-800",children:b.type}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:b.isDemo?"Demo License":"...".concat(b.key.slice(-6))})]})]}),(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,a.jsx)(m,{className:"w-80",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Dashboard Settings"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{htmlFor:"idle-timeout",className:"text-sm font-medium",children:["Idle Timeout: ",t," minutes"]}),(0,a.jsxs)("select",{id:"idle-timeout",value:t,onChange:e=>s(Number(e.target.value)),className:"bg-white border rounded px-2 py-1 text-sm",disabled:N,children:[(0,a.jsx)("option",{value:5,children:"5 minutes"}),(0,a.jsx)("option",{value:10,children:"10 minutes"}),(0,a.jsx)("option",{value:15,children:"15 minutes"}),(0,a.jsx)("option",{value:20,children:"20 minutes"}),(0,a.jsx)("option",{value:30,children:"30 minutes"})]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Sessions within ",t," minutes of each other will be merged"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{htmlFor:"storage-type",className:"text-sm font-medium",children:"Data Storage"}),(0,a.jsxs)("select",{id:"storage-type",value:i,onChange:e=>n(e.target.value),className:"bg-white border rounded px-2 py-1 text-sm",disabled:N,children:[(0,a.jsx)("option",{value:"cloud",children:"Cloud Storage"}),(0,a.jsx)("option",{value:"local",children:"Local Storage"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"cloud"===i?"Data is stored on cloud":"Data is stored locally on your computer"})]}),!1,b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"font-medium text-sm",children:"License Information"}),(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,a.jsx)("span",{children:b.type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Key:"}),(0,a.jsx)("span",{className:"font-mono",children:b.isDemo?"Demo":"...".concat(b.key.slice(-6))})]})]}),v&&(0,a.jsxs)(r.$,{onClick:v,variant:"outline",size:"sm",className:"w-full mt-3 text-red-600 border-red-200 hover:bg-red-50",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})})]}),(0,a.jsxs)(r.$,{onClick:c,variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(l.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Live Data"]})]})]})}},40953:(e,t,s)=>{s.d(t,{u:()=>p});var a=s(82149);let r=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=n(o,e),c.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}var x=s(7802);let h=()=>{let e={},t=["Dashboard Redesign","API Integration","Mobile App","Documentation","Bug Fixes"],s=new Date,a=["src/components/dashboard.tsx","src/hooks/use-time-tracking-data.ts","src/pages/api/stats.ts","src/components/header.tsx","src/utils/date-utils.ts","src/components/project-detail-view.tsx","src/hooks/use-time-calculations.ts","package.json","README.md","src/styles/globals.css"],r=["https://github.com/company/project","https://stackoverflow.com/questions/react-hooks","https://docs.nextjs.org/api-reference","https://tailwindcss.com/docs","https://localhost:3000/dashboard"];for(let l=0;l<14;l++){let i=new Date(s);i.setDate(i.getDate()-l);let n=(0,x.JO)(i);e[n]={};let c=Math.floor(3*Math.random())+1;t.slice(0,c).forEach(t=>{let s=[],l=Math.floor(4*Math.random())+1;for(let e=0;e<l;e++){let e=9+Math.floor(8*Math.random()),t=Math.floor(120*Math.random())+30,l=new Date(i);l.setHours(e,Math.floor(60*Math.random()));let n=new Date(l.getTime()+6e4*t),c=Math.random()>.3?"coding":"browsing",o={start:l.toISOString(),end:n.toISOString(),type:c};if("coding"===c)o.file=a[Math.floor(Math.random()*a.length)];else{let e=r[Math.floor(Math.random()*r.length)];o.url=e,o.host=new URL(e).hostname}s.push(o)}let c=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);e[n][t]={duration:c,sessions:s}})}return e},u=()=>[{id:"1",project:"Dashboard Redesign",url:"https://github.com/company/dashboard-redesign",description:"Main repository for dashboard redesign project"},{id:"2",project:"Dashboard Redesign",url:"https://figma.com/dashboard-mockups",description:"Design mockups and wireframes"},{id:"3",project:"API Integration",url:"https://api-docs.company.com",description:"API documentation and endpoints"},{id:"4",project:"API Integration",url:"https://github.com/company/api-integration",description:"Integration code repository"},{id:"5",project:"Mobile App",url:"https://github.com/company/mobile-app",description:"React Native mobile application"},{id:"6",project:"Documentation",url:"https://docs.company.com",description:"Project documentation site"}],j=e=>{let t={};return Object.entries(e).forEach(e=>{let[s,a]=e,r=s;if(s.includes("T")&&(r=s.split("T")[0]),!/^\d{4}-\d{2}-\d{2}$/.test(r)){console.warn("Invalid date format received from API: ".concat(s));return}t[r]=a}),t},g=(e,t)=>{if(0===t.length)return e;let s={};return Object.entries(e).forEach(e=>{let[a,r]=e,l={};Object.entries(r).forEach(e=>{let[s,a]=e;t.includes(s)||(l[s]=a)}),Object.keys(l).length>0&&(s[a]=l)}),s},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,s]=(0,a.useState)({}),[r,l]=(0,a.useState)({}),[i,n]=(0,a.useState)([]),[c,o]=(0,a.useState)([]),[d,x]=(0,a.useState)([]),[p,f]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),[y,b]=(0,a.useState)(10),[w,T]=(0,a.useState)(!1),[S,k]=(0,a.useState)("cloud"),D=window.location.hostname.includes("v0.dev")||window.location.hostname.includes("vusercontent.net");(0,a.useEffect)(()=>{l(g(t,c.map(e=>e.projectName)))},[t,c]);let A=async()=>{if(!e){s({}),l({}),f(!1);return}try{if(f(!0),N(null),D){setTimeout(()=>{let e=h();s(e),f(!1)},1e3);return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/stats"),{signal:e.signal});if(clearTimeout(t),!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json(),l=j(r);s(l)}catch(a){clearTimeout(t),console.warn("API not available, using fake data:",a);let e=h();s(e)}}catch(e){console.warn("Error in fetchStats, using fake data:",e),s(h())}finally{f(!1)}},C=async()=>{if(!e){n([]);return}try{if(N(null),D){n(u());return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/urls"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();n(a)}catch(e){clearTimeout(t),console.warn("API not available for URLs, using fake data:",e),n(u())}}catch(e){console.warn("Error fetching project URLs, using fake data:",e),n(u())}},L=async()=>{if(!e){b(10);return}try{if(T(!0),D){let e=localStorage.getItem("idle-timeout-minutes");e&&b(Number(e));let t=localStorage.getItem("storage-type");t&&k(t),T(!1);return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/settings"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();b(a.idleTimeoutMinutes||10),k(a.storageType||"cloud")}catch(s){clearTimeout(t),console.warn("Settings API not available, using localStorage:",s);let e=localStorage.getItem("idle-timeout-minutes");e&&b(Number(e))}}catch(e){console.warn("Error fetching settings, using default:",e)}finally{T(!1)}},E=async t=>{if(e)try{if(T(!0),D){localStorage.setItem("idle-timeout-minutes",t.toString()),b(t),T(!1);return}let e=new AbortController,s=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idleTimeoutMinutes:t}),signal:e.signal});if(clearTimeout(s),!a.ok)throw Error("HTTP error! status: ".concat(a.status));b(t),m({title:"Settings Saved",description:"Idle timeout updated to ".concat(t," minutes")})}catch(e){clearTimeout(s),console.warn("Settings API not available, saving to localStorage:",e),localStorage.setItem("idle-timeout-minutes",t.toString()),b(t),m({title:"Settings Saved Locally",description:"Idle timeout updated to ".concat(t," minutes (saved locally)")})}}catch(e){console.error("Error saving settings:",e),m({title:"Error",description:"Failed to save idle timeout setting",variant:"destructive"})}finally{T(!1)}},P=async t=>{if(e)try{if(T(!0),D){localStorage.setItem("storage-type",t),k(t),T(!1);return}let e=new AbortController,s=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idleTimeoutMinutes:y,storageType:t}),signal:e.signal});if(clearTimeout(s),!a.ok)throw Error("HTTP error! status: ".concat(a.status));k(t),m({title:"Settings Saved",description:"Storage preference updated to ".concat(t)})}catch(e){clearTimeout(s),localStorage.setItem("storage-type",t),k(t),m({title:"Settings Saved Locally",description:"Storage preference updated to ".concat(t," (saved locally)")})}}catch(e){console.error("Error saving storage type:",e),m({title:"Error",description:"Failed to save storage preference",variant:"destructive"})}finally{T(!1)}},R=async t=>{if(e)try{if(D){let e={id:Date.now().toString(),project:t.project,url:t.url,description:t.description};n(t=>[...t,e]),m({title:"Success",description:"Project URL has been created (preview mode)"});return}let e=await fetch("".concat("","/api/urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));await C(),m({title:"Success",description:"Project URL has been created"})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to create project URL",variant:"destructive"})}},O=async(t,s)=>{if(e)try{if(D){n(e=>e.map(e=>e.id===t?{...e,project:s.project,url:s.url,description:s.description}:e)),m({title:"Success",description:"Project URL has been updated (preview mode)"});return}let e=await fetch("".concat("","/api/urls/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));await C(),m({title:"Success",description:"Project URL has been updated"})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to update project URL",variant:"destructive"})}},B=async t=>{if(e)try{if(D){n(e=>e.filter(e=>e.id!==t)),m({title:"Success",description:"Project URL has been deleted (preview mode)"});return}let e=await fetch("".concat("","/api/urls/").concat(t),{method:"DELETE"});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));await C(),m({title:"Success",description:"Project URL has been deleted"})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to delete project URL",variant:"destructive"})}},Z=async()=>{if(!e){o([]);return}try{if(D){let e=localStorage.getItem("ignored-projects");e&&o(JSON.parse(e));return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/ignored-projects"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();o(a)}catch(s){clearTimeout(t),console.warn("Ignored projects API not available, using localStorage:",s);let e=localStorage.getItem("ignored-projects");e&&o(JSON.parse(e))}}catch(e){console.warn("Error fetching ignored projects:",e)}},M=async()=>{if(!e){x([]);return}try{if(D){let e=localStorage.getItem("project-custom-names");e&&x(JSON.parse(e));return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/project-names"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();x(a)}catch(s){clearTimeout(t),console.warn("Project custom names API not available, using localStorage:",s);let e=localStorage.getItem("project-custom-names");e&&x(JSON.parse(e))}}catch(e){console.warn("Error fetching project custom names:",e)}},I=async t=>{if(e)try{let e={id:Date.now().toString(),projectName:t,ignoredAt:new Date().toISOString()};if(D){let s=[...c,e];o(s),localStorage.setItem("ignored-projects",JSON.stringify(s)),m({title:"Success",description:'"'.concat(t,'" has been ignored and will be excluded from all calculations')});return}let s=await fetch("".concat("","/api/ignored-projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:t})});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));await Z(),m({title:"Success",description:'"'.concat(t,'" has been ignored and will be excluded from all calculations')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to ignore project",variant:"destructive"})}},W=async t=>{if(e)try{let e=c.find(e=>e.id===t),s=(null==e?void 0:e.projectName)||"Project";if(D){let e=c.filter(e=>e.id!==t);o(e),localStorage.setItem("ignored-projects",JSON.stringify(e)),m({title:"Success",description:'"'.concat(s,'" has been unignored and will be included in calculations')});return}let a=await fetch("".concat("","/api/ignored-projects/").concat(t),{method:"DELETE"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));await Z(),m({title:"Success",description:'"'.concat(s,'" has been unignored and will be included in calculations')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to unignore project",variant:"destructive"})}},F=async(t,s)=>{if(e)try{let e=d.find(e=>e.projectName===t);if(D){let a;if(e)a=d.map(e=>e.projectName===t?{...e,customName:s,updatedAt:new Date().toISOString()}:e);else{let e={id:Date.now().toString(),projectName:t,customName:s,updatedAt:new Date().toISOString()};a=[...d,e]}x(a),localStorage.setItem("project-names",JSON.stringify(a)),m({title:"Success",description:'Custom name for "'.concat(t,'" has been saved')});return}let a=e?"PUT":"POST",r=e?"".concat("","/api/project-names/").concat(e.id):"".concat("","/api/project-names"),l=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:t,customName:s})});if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));await M(),m({title:"Success",description:'Custom name for "'.concat(t,'" has been saved')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to save custom name",variant:"destructive"})}},U=async t=>{if(e)try{let e=d.find(e=>e.id===t),s=(null==e?void 0:e.projectName)||"Project";if(D){let e=d.filter(e=>e.id!==t);x(e),localStorage.setItem("project-custom-names",JSON.stringify(e)),m({title:"Success",description:'Custom name for "'.concat(s,'" has been removed')});return}let a=await fetch("".concat("","/api/project-names/").concat(t),{method:"DELETE"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));await M(),m({title:"Success",description:'Custom name for "'.concat(s,'" has been removed')})}catch(e){m({title:"Error",description:e instanceof Error?e.message:"Failed to remove custom name",variant:"destructive"})}};return(0,a.useEffect)(()=>{e&&(A(),C(),L(),Z(),M())},[e]),{statsData:r,projectUrls:i,ignoredProjects:c,projectCustomNames:d,loading:p,error:v,idleTimeoutMinutes:y,setIdleTimeoutMinutes:E,settingsLoading:w,fetchStats:A,fetchProjectUrls:C,fetchSettings:L,fetchIgnoredProjects:Z,fetchProjectCustomNames:M,createProjectUrl:R,updateProjectUrl:O,deleteProjectUrl:B,addIgnoredProject:I,removeIgnoredProject:W,storageType:S,setStorageType:P,saveProjectCustomName:F,removeProjectCustomName:U}}},51567:(e,t,s)=>{s.d(t,{p:()=>i});var a=s(58081),r=s(5160),l=s(86810);function i(e){let{currentWeek:t,onNavigateWeek:s}=e,i=e=>{let t=new Date(e),s=t.getDay(),a=t.getDate()-s;return new Date(t.setDate(a))},n=()=>{let e=new Date,s=i(t),a=i(e);return s.getTime()===a.getTime()};return(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(r.$,{onClick:()=>s("prev"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"← Previous Week"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-teal-800",children:[i(t).toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","-"," ",new Date(i(t).getTime()+5184e5).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:n()?"Current Week":"Week of "+i(t).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),(0,a.jsx)(r.$,{onClick:()=>s("next"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",disabled:n(),children:"Next Week →"})]}),!n()&&(0,a.jsx)(r.$,{onClick:()=>s("current"),variant:"default",size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:"Back to Current Week"})]})})})}},57093:(e,t,s)=>{s.d(t,{L:()=>r});var a=s(7802);let r=(e,t,s)=>{let r=e=>{let t=new Date(e),s=t.getDay(),a=t.getDate()-s;return new Date(t.setDate(a))},l=e=>{let t=[];for(let s=0;s<7;s++){let r=new Date(e.getTime()+864e5*s);t.push((0,a.JO)(r))}return t},i=()=>{if(!e||0===Object.keys(e).length)return{};let s=l(r(t)),a={};return s.forEach(t=>{e[t]&&(a[t]=e[t])}),a},n=e=>{let t=(0,a.Nx)(e).getDay();return 8*(t>=1&&t<=5)},c=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return"".concat(t,"h ").concat(s,"m")},o=e=>{if(0===e.length)return e;let t=[...e].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),a=[],r={...t[0]};for(let e=1;e<t.length;e++){let l=t[e],i=new Date(r.end).getTime();new Date(l.start).getTime()-i<=6e4*s&&r.type===l.type?r.end=l.end:(a.push(r),r={...l})}return a.push(r),a},d=e=>{let t=[];return Object.values(e).forEach(e=>{t.push(...e.sessions)}),o(t)},m=e=>o(e.sessions),x=e=>e.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0),h=()=>{let e={},t=i();return 0===Object.keys(t).length?[]:(Object.entries(t).forEach(t=>{let[s,a]=t;Object.entries(a).forEach(t=>{let[s,a]=t,r=x(m(a));e[s]=(e[s]||0)+r})}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,duration:s,hours:s/3600}}).sort((e,t)=>t.duration-e.duration))},u=()=>{let e=l(r(t)),s=i();return e.map(e=>{let t=x(d(s[e]||{})),r=(0,a.AD)(e),l=n(e);return{day:r,date:e,hours:t/3600,target:l}})},j=()=>{let e=[],t=i();return 0===Object.keys(t).length?[]:(Object.entries(t).sort((e,t)=>{let[s]=e,[a]=t;return a.localeCompare(s)}).forEach(t=>{let[s,a]=t;Object.entries(a).forEach(t=>{let[a,r]=t;m(r).slice(-3).forEach((t,r)=>{let l=new Date(t.end).getTime()-new Date(t.start).getTime();e.push({id:"".concat(s,"-").concat(a,"-").concat(r),project:a,task:"".concat(t.type," session"),duration:c(l/1e3),status:"completed",date:s,type:t.type})})})}),e.slice(0,10))};return{getWeekStart:r,getWeekEnd:e=>new Date(r(e).getTime()+5184e5),getWeekDates:l,getCurrentWeekData:i,isCurrentWeek:()=>{let e=new Date,s=r(t),a=r(e);return s.getTime()===a.getTime()},formatDuration:c,formatHoursForChart:e=>{let t=Math.floor(e),s=Math.round((e-t)*60);return 0===t&&0===s?"0h":0===s?"".concat(t,"h"):"".concat(t,"h").concat(s.toString().padStart(2,"0"))},formatDateInEST:a.xB,formatDateShort:a.kz,formatDateLong:a.OS,getTargetHoursForDate:n,mergeSessions:o,getMergedSessionsForDay:d,getMergedSessionsForProjectDay:m,calculateMergedDuration:x,getProjectTotals:h,getWeeklyData:u,getStackedWeeklyData:()=>{let e=l(r(t)),s=i();return e.map(e=>{let t=s[e]||{},r=(0,a.AD)(e),l=n(e),i={};return Object.entries(t).forEach(e=>{let[t,s]=e,a=x(m(s));i[t]=a/3600}),{day:r,date:e,target:l,...i}})},getWeeklyDataForProject:e=>{let s=l(r(t)),n=i();return s.map(t=>{let s=(n[t]||{})[e],r=(0,a.AD)(t),l=0;return s&&(l=x(m(s))/3600),{day:r,date:t,hours:l}})},getProjectSessionDetails:e=>{let t=[];return Object.entries(i()).forEach(s=>{let[a,r]=s;if(r[e]){let s=m(r[e]);t.push(...s.map(e=>({...e,date:a})))}}),t.sort((e,t)=>new Date(t.start).getTime()-new Date(e.start).getTime())},getRecentActivities:j,getTotalHoursThisWeek:()=>u().reduce((e,t)=>e+t.hours,0),getAvgHoursPerDay:()=>{let e=u().filter(e=>e.target>0);return e.length>0?e.reduce((e,t)=>e+t.hours,0)/e.length:0},getTargetHoursThisWeek:()=>u().reduce((e,t)=>e+t.target,0),getActiveProjects:()=>h().length,getCompletedTasks:()=>j().filter(e=>"completed"===e.status).length,getProjectChartData:()=>{let e=h().slice(0,8),t=["#2D5A5A","#4A7C7C","#A67C5A","#8B4513","#D2B48C","#5F8A8B","#8FBC8F","#CD853F","#DEB887","#F4A460"];return e.map((e,s)=>({name:e.name,hours:Number(e.hours.toFixed(1)),color:t[s%t.length]}))},getMonthlyTrend:()=>{let t={};return e&&0!==Object.keys(e).length?(Object.entries(e).forEach(e=>{let[s,r]=e,l=(0,a.xB)(s,{month:"short"}),i=0;Object.entries(r).forEach(e=>{let[t,s]=e,a=m(s);i+=x(a)}),t[l]=(t[l]||0)+i}),Object.entries(t).map(e=>{let[t,s]=e;return{month:t,hours:Number((s/3600).toFixed(1))}})):[]},getProjectBreakdown:e=>{let t=[];return Object.entries(i()).forEach(s=>{let[a,r]=s;if(r[e]){let s=m(r[e]);t.push(...s.map(e=>({...e,date:a})))}}),t.sort((e,t)=>new Date(t.start).getTime()-new Date(e.start).getTime())},getDailyTotalsForProject:e=>{let t={};return Object.entries(i()).forEach(s=>{let[a,r]=s;if(r[e]){let s=m(r[e]),l=x(s);t[a]={duration:l,sessions:s}}}),Object.entries(t).map(e=>{let[t,s]=e;return{date:t,...s}}).sort((e,t)=>t.date.localeCompare(e.date)).slice(0,14)},getFileActivityForProject:(e,t)=>{let s=i()[t];if(!s||!s[e])return[];let a=s[e].sessions.filter(e=>"coding"===e.type&&e.file),r={};return a.forEach(e=>{if(e.file){let t=e.file.split("/").pop()||e.file;r[t]||(r[t]=[]),r[t].push(e)}}),Object.entries(r).map(e=>{let[t,s]=e,a=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0),r=Array(24).fill(0);return s.forEach(e=>{let t=new Date(e.start).getHours(),s=(new Date(e.end).getTime()-new Date(e.start).getTime())/1e3;r[t]+=s}),{filename:t,extension:t.split(".").pop()||"",totalSeconds:a,timeByHour:r,fullPath:s[0].file}}).sort((e,t)=>t.totalSeconds-e.totalSeconds)},getUrlActivityForProject:(e,t)=>{let s=i()[t];if(!s||!s[e])return[];let a=s[e].sessions.filter(e=>"browsing"===e.type&&e.url),r={};return a.forEach(e=>{e.url&&(r[e.url]||(r[e.url]=[]),r[e.url].push(e))}),Object.entries(r).map(e=>{let[t,s]=e,a=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);return{url:t,host:s[0].host||new URL(t).hostname,totalSeconds:a,sessionCount:s.length}}).sort((e,t)=>t.totalSeconds-e.totalSeconds)},dateToESTString:a.JO,createESTDate:a.Nx}}},67552:(e,t,s)=>{s.d(t,{Y:()=>l});var a=s(82149);let r="mxo-time-tracker-license",l=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem(r);if(e){let s=localStorage.getItem("".concat(r,"-last-checked")),a=new Date().getTime();if(s&&a-Number.parseInt(s)<864e5){t(!0),l(e),n(!1);return}await c(e)?(t(!0),l(e),localStorage.setItem("".concat(r,"-last-checked"),a.toString())):(localStorage.removeItem(r),localStorage.removeItem("".concat(r,"-last-checked")))}n(!1)})()},[]);let c=async e=>{try{let t=await fetch("".concat("","/api/license"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license_key:e.trim()})});if(!t.ok)return console.error("License validation API error:",t.status,t.statusText),!1;let s=await t.json();return!0===s.valid||"valid"===s.status}catch(t){return console.error("License validation error:",t),["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003","am+o2015"].includes(e.trim().toUpperCase())}},o=async()=>{try{if(s){let e=await fetch("".concat("","/api/license/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license_key:s.trim()})});e.ok||console.warn("Logout API error:",e.status,e.statusText)}}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem(r),localStorage.removeItem("".concat(r,"-last-checked")),t(!1),l(null)}};return{isLicenseValid:e,validatedLicense:s,isInitializing:i,validateLicense:async e=>{let s=await c(e);if(!s)return console.warn("Invalid license key:",e),!1;if(s){let s=e.trim().toUpperCase();return localStorage.setItem(r,s),t(!0),l(s),!0}return!1},logout:o,getLicenseInfo:()=>{if(!s)return null;let e=["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003","AM+O2015"].includes(s),t="Developer";return s.includes("-DEV-")?t="Developer":s.includes("-PRO-")?t="Professional":s.includes("-ENT-")?t="Enterprise":"AM+O2015"===s&&(t="Special"),{key:s,type:t,isDemo:e}}}}},68299:(e,t,s)=>{s.d(t,{T:()=>h});var a=s(58081),r=s(86810),l=s(5160),i=s(67188),n=s(64404),c=s(2151),o=s(209),d=s(67531),m=s(90018),x=s(57093);function h(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:h,onViewProject:u}=e,{getTotalHoursThisWeek:j,getAvgHoursPerDay:g,getTargetHoursThisWeek:p,getActiveProjects:f,getCompletedTasks:v,getProjectTotals:N,getWeekStart:y,getWeekEnd:b,isCurrentWeek:w,formatHoursForChart:T}=(0,x.L)(t,s,h),S=j(),k=p(),D=g(),A=f(),C=v(),L=N()[0];return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:w()?"Total Hours This Week":"Total Hours Selected Week"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{let e=new URL(window.location.href),t="".concat(e.origin,"/dashboard?tab=weekly&week=").concat(s.toISOString().split("T")[0]);navigator.clipboard.writeText(t).then(()=>{console.log("Link copied to clipboard!")})},className:"h-6 w-6 p-0 hover:bg-gray-100",title:"Copy shareable link",children:(0,a.jsx)(n.A,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:T(S)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Target: ",k,"h (",y(s).toLocaleDateString("en-US",{month:"short",day:"numeric"})," -"," ",b(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}),")"]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Average per Weekday"}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:T(D)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Target: 8h per weekday (Mon-Fri)"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Active Projects"}),(0,a.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:A}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:L?"".concat(L.name," is top project"):"No projects"}),L&&u&&(0,a.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>u(L.name),className:"h-6 px-2 text-xs text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(d.A,{className:"w-3 h-3 mr-1"}),"View"]})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Recent Sessions"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:C}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 3 days"})]})]})]})}},80900:(e,t,s)=>{s.d(t,{p:()=>i});var a=s(58081),r=s(82149),l=s(87687);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},85977:(e,t,s)=>{s.d(t,{E:()=>n});var a=s(58081);s(82149);var r=s(23484),l=s(87687);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:s}),t),...r})}},86810:(e,t,s)=>{s.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n});var a=s(58081),r=s(82149),l=s(87687);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},87687:(e,t,s)=>{s.d(t,{cn:()=>l});var a=s(76522),r=s(14483);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},92258:(e,t,s)=>{s.d(t,{Z:()=>eJ});var a=s(58081),r=s(82149),l=s(47230),i=s(87687);let n=l.bL,c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});c.displayName=l.B8.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=l.l9.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});d.displayName=l.UC.displayName;var m=s(86810),x=s(78158),h=s(41073),u=s(47174);let j={light:"",dark:".dark"},g=r.createContext(null);function p(){let e=r.useContext(g);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let f=r.forwardRef((e,t)=>{let{id:s,className:l,children:n,config:c,...o}=e,d=r.useId(),m="chart-".concat(s||d.replace(/:/g,""));return(0,a.jsx)(g.Provider,{value:{config:c},children:(0,a.jsxs)("div",{"data-chart":m,ref:t,className:(0,i.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...o,children:[(0,a.jsx)(v,{id:m,config:c}),(0,a.jsx)(x.u,{children:n})]})})});f.displayName="Chart";let v=e=>{let{id:t,config:s}=e,r=Object.entries(s).filter(e=>{let[,t]=e;return t.theme||t.color});return r.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(j).map(e=>{let[s,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(r.map(e=>{var t;let[a,r]=e,l=(null===(t=r.theme)||void 0===t?void 0:t[s])||r.color;return l?"  --color-".concat(a,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},N=h.m,y=r.forwardRef((e,t)=>{let{active:s,payload:l,className:n,indicator:c="dot",hideLabel:o=!1,hideIndicator:d=!1,label:m,labelFormatter:x,labelClassName:h,formatter:u,color:j,nameKey:g,labelKey:f}=e,{config:v}=p(),N=r.useMemo(()=>{var e;if(o||!(null==l?void 0:l.length))return null;let[t]=l,s="".concat(f||(null==t?void 0:t.dataKey)||(null==t?void 0:t.name)||"value"),r=b(v,t,s),n=f||"string"!=typeof m?null==r?void 0:r.label:(null===(e=v[m])||void 0===e?void 0:e.label)||m;return x?(0,a.jsx)("div",{className:(0,i.cn)("font-medium",h),children:x(n,l)}):n?(0,a.jsx)("div",{className:(0,i.cn)("font-medium",h),children:n}):null},[m,x,l,o,h,v,f]);if(!s||!(null==l?void 0:l.length))return null;let y=1===l.length&&"dot"!==c;return(0,a.jsxs)("div",{ref:t,className:(0,i.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[y?null:N,(0,a.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let s="".concat(g||e.name||e.dataKey||"value"),r=b(v,e,s),l=j||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,i.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===c&&"items-center"),children:u&&(null==e?void 0:e.value)!==void 0&&e.name?u(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==r?void 0:r.icon)?(0,a.jsx)(r.icon,{}):!d&&(0,a.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===c,"w-1":"line"===c,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===c,"my-0.5":y&&"dashed"===c}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?N:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function b(e,t,s){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,r=s;return s in t&&"string"==typeof t[s]?r=t[s]:a&&s in a&&"string"==typeof a[s]&&(r=a[s]),r in e?e[r]:e[s]}y.displayName="ChartTooltip",u.s,r.forwardRef((e,t)=>{let{className:s,hideIcon:r=!1,payload:l,verticalAlign:n="bottom",nameKey:c}=e,{config:o}=p();return(null==l?void 0:l.length)?(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",s),children:l.map(e=>{let t="".concat(c||e.dataKey||"value"),s=b(o,e,t);return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==s?void 0:s.icon)&&!r?(0,a.jsx)(s.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==s?void 0:s.label]},e.value)})}):null}).displayName="ChartLegend";var w=s(30207),T=s(33100),S=s(92583),k=s(63316),D=s(85235),A=s(57093),C=s(85977);function L(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r,ignoredProjects:l=[],onProjectSelect:i}=e,{getStackedWeeklyData:n,getProjectChartData:c,formatHoursForChart:o,formatDuration:d}=(0,A.L)(t,s,r,l),h=n(),j=c().reduce((e,t)=>(e[t.name]=t.color,e),{}),g=Array.from(new Set(h.flatMap(e=>Object.keys(e).filter(e=>!["day","date","target"].includes(e))))),p=g.reduce((e,t)=>(e[t]={label:t,color:j[t]||"#8884d8"},e),{});p.target={label:"Target Hours",color:"#e5e7eb"};let v=h.map(e=>{let t={},s=0;return Object.entries(e).forEach(e=>{let[a,r]=e;["day","date","target"].includes(a)||(t[a]=r,s+=r)}),{day:e.day,date:e.date,target:e.target,totalHours:s,projectHours:t,percentOfTarget:e.target>0?s/e.target*100:0}}),b=g.map(e=>{let t=h.reduce((t,s)=>t+(s[e]||0),0);return{project:e,total:t,color:j[e]||"#8884d8"}}).sort((e,t)=>t.total-e.total),L=b.reduce((e,t)=>e+t.total,0),E=h.reduce((e,t)=>e+(t.target||0),0);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Weekly Summary"}),(0,a.jsxs)(m.BT,{children:[o(L)," of ",o(E)," target hours (",E>0?Math.round(L/E*100):0,"%)"]})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"h-[350px]",children:(0,a.jsx)(f,{config:p,className:"h-full",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(w.E,{data:h,margin:{top:20,right:30,left:20,bottom:5},children:[(0,a.jsx)(T.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"day"}),(0,a.jsx)(k.h,{}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:(e,t)=>{let s=Number(e);return"target"===t?[o(s),"Target Hours"]:[o(s),t]}}),(0,a.jsx)(u.s,{}),(0,a.jsx)(D.y,{dataKey:"target",fill:"var(--color-target)",name:"Target Hours",opacity:.3}),g.map(e=>(0,a.jsx)(D.y,{dataKey:e,stackId:"projects",fill:"var(--color-".concat(e.replace(/\s+/g,"-").toLowerCase(),")"),name:e},e))]})})})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-sm",children:"Project Breakdown"}),(0,a.jsx)("div",{className:"space-y-2",children:b.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50 cursor-pointer",onClick:()=>i&&i(e.project),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"font-medium",children:e.project})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-gray-600",children:o(e.total)}),(0,a.jsxs)(C.E,{variant:"outline",className:"text-xs",children:[Math.round(e.total/L*100),"%"]})]})]},e.project))})]})]})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Daily Breakdown"}),(0,a.jsx)(m.BT,{children:"Detailed view of hours by day and project"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"py-2 px-3 text-left font-medium text-gray-600",children:"Day"}),(0,a.jsx)("th",{className:"py-2 px-3 text-right font-medium text-gray-600",children:"Total"}),(0,a.jsx)("th",{className:"py-2 px-3 text-right font-medium text-gray-600",children:"Target"}),(0,a.jsx)("th",{className:"py-2 px-3 text-right font-medium text-gray-600",children:"%"}),(0,a.jsx)("th",{className:"py-2 px-3 text-left font-medium text-gray-600",children:"Projects"})]})}),(0,a.jsx)("tbody",{children:v.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-3 px-3 font-medium",children:e.day}),(0,a.jsx)("td",{className:"py-3 px-3 text-right font-medium",children:o(e.totalHours)}),(0,a.jsx)("td",{className:"py-3 px-3 text-right text-gray-600",children:o(e.target)}),(0,a.jsx)("td",{className:"py-3 px-3 text-right",children:(0,a.jsxs)(C.E,{variant:e.percentOfTarget>=100?"default":"outline",className:"".concat(e.percentOfTarget>=100?"bg-green-600":"text-gray-600"),children:[Math.round(e.percentOfTarget),"%"]})}),(0,a.jsx)("td",{className:"py-3 px-3",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.projectHours).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s}).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded text-xs",onClick:e=>{e.stopPropagation(),i&&i(t)},style:{cursor:i?"pointer":"default"},children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:j[t]||"#8884d8"}}),(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"font-medium",children:o(s)})]},t)})})})]},e.date))}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("td",{className:"py-3 px-3 font-bold",children:"Total"}),(0,a.jsx)("td",{className:"py-3 px-3 text-right font-bold",children:o(L)}),(0,a.jsx)("td",{className:"py-3 px-3 text-right font-medium",children:o(E)}),(0,a.jsx)("td",{className:"py-3 px-3 text-right",children:(0,a.jsxs)(C.E,{variant:L>=E?"default":"outline",className:"".concat(L>=E?"bg-green-600":"text-gray-600"),children:[E>0?Math.round(L/E*100):0,"%"]})}),(0,a.jsx)("td",{className:"py-3 px-3"})]})})]})})})]})]})}var E=s(19019),P=s(54898),R=s(26265),O=s(5160),B=s(67531);function Z(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r,ignoredProjects:l=[],onProjectSelect:i,limit:n=8}=e,{getProjectChartData:c,getProjectTotals:o,formatHoursForChart:d}=(0,A.L)(t,s,r,l),x=c(),h=o();return(0,a.jsxs)(m.Zp,{className:"h-full flex flex-col",children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Project Hours Breakdown"}),(0,a.jsx)(m.BT,{children:"Detailed view of time allocation"})]}),(0,a.jsx)(m.Wu,{className:"flex-1",children:(0,a.jsxs)("div",{className:"space-y-4",children:[h.slice(0,n).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===(s=x.find(t=>t.name===e.name))||void 0===s?void 0:s.color)||"#8884d8"}}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-bold",children:d(e.hours)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.duration/h.reduce((e,t)=>e+t.duration,0)*100).toFixed(1),"%"]})]}),i&&(0,a.jsxs)(O.$,{variant:"outline",size:"sm",onClick:()=>i(e.name),className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(B.A,{className:"w-4 h-4 mr-1"}),"Details"]})]})]},t)}),0===h.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No project data available for the selected week."})]})})]})}function M(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r,ignoredProjects:l=[],onProjectSelect:i}=e,{getProjectChartData:n,formatHoursForChart:c}=(0,A.L)(t,s,r,l),o=n();return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Time by Project"}),(0,a.jsx)(m.BT,{children:"Hours spent on each project"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)(f,{config:{hours:{label:"Hours",color:"#8884d8"}},className:"h-[300px]",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(E.r,{children:[(0,a.jsx)(P.F,{data:o,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"hours",label:e=>{let{name:t,hours:s}=e;return"".concat(t,": ").concat(c(s))},children:o.map((e,t)=>(0,a.jsx)(R.f,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:(e,t)=>[c(Number(e)),t]})]})})})})]}),(0,a.jsx)(Z,{statsData:t,currentWeek:s,idleTimeoutMinutes:r,onProjectSelect:i})]})}var I=s(7802);function W(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r,ignoredProjects:l=[]}=e,{getProjectTotals:i,getProjectBreakdown:n,getDailyTotalsForProject:c,getProjectChartData:o,formatDuration:d}=(0,A.L)(t,s,r,l),x=i(),h=o();return(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:x.map(e=>{var t;let s=n(e.name),r=c(e.name);return(0,a.jsxs)(m.Zp,{children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===(t=h.find(t=>t.name===e.name))||void 0===t?void 0:t.color)||"#2D5A5A"}}),e.name]}),(0,a.jsxs)(m.BT,{children:["Total: ",d(e.duration)," • ",s.length," sessions"]})]}),(0,a.jsx)(O.$,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"Export to Wrike"})]})}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-700",children:"Daily Breakdown"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-stone-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:(0,I.xB)(e.date)}),(0,a.jsx)("span",{className:"text-sm font-bold text-teal-700",children:d(e.duration)})]}),(0,a.jsx)("div",{className:"space-y-1",children:e.sessions.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat("coding"===e.type?"bg-teal-500":"bg-amber-500")}),new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,a.jsx)("span",{children:d((new Date(e.end).getTime()-new Date(e.start).getTime())/1e3)})]},t))})]},e.date))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-teal-50 rounded-lg border border-teal-200",children:[(0,a.jsx)("h5",{className:"font-semibold text-sm text-teal-800 mb-3",children:"Wrike Time Log Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total Hours:"}),(0,a.jsxs)("span",{className:"ml-2 font-bold text-teal-800",children:[e.hours.toFixed(2),"h"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Billable Time:"}),(0,a.jsxs)("span",{className:"ml-2 font-bold text-teal-800",children:[(.85*e.hours).toFixed(2),"h"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Coding Sessions:"}),(0,a.jsx)("span",{className:"ml-2 font-bold text-teal-800",children:s.filter(e=>"coding"===e.type).length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Research/Browsing:"}),(0,a.jsx)("span",{className:"ml-2 font-bold text-teal-800",children:s.filter(e=>"browsing"===e.type).length})]})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Copy for Wrike:"}),(0,a.jsx)("div",{className:"text-sm font-mono text-gray-800",children:r.map(e=>"".concat((0,I.xB)(e.date),": ").concat(d(e.duration))).join(" | ")})]})]})]})})]},e.name)})})}var F=s(28022),U=s(94560),H=s(30710),z=s(60392),_=s(56801),$=s(54341);let K=H.bL;H.YJ;let V=H.WT,J=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(H.l9,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(H.In,{asChild:!0,children:(0,a.jsx)(z.A,{className:"h-4 w-4 opacity-50"})})]})});J.displayName=H.l9.displayName;let Y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(H.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(_.A,{className:"h-4 w-4"})})});Y.displayName=H.PP.displayName;let X=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(H.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(z.A,{className:"h-4 w-4"})})});X.displayName=H.wn.displayName;let q=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...n}=e;return(0,a.jsx)(H.ZL,{children:(0,a.jsxs)(H.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,a.jsx)(Y,{}),(0,a.jsx)(H.LM,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(X,{})]})})});q.displayName=H.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(H.JU,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=H.JU.displayName;let G=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(H.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(H.VF,{children:(0,a.jsx)($.A,{className:"h-4 w-4"})})}),(0,a.jsx)(H.p4,{children:r})]})});G.displayName=H.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(H.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=H.wv.displayName;var Q=s(2151),ee=s(5516),et=s(67188),es=s(31199),ea=s(13577),er=s(94159),el=s(60123);function ei(e){let{statsData:t,idleTimeoutMinutes:s,ignoredProjects:l=[]}=e,[i,n]=(0,r.useState)("90d"),[c,o]=(0,r.useState)("hours"),{getMonthlyTrend:d,formatHoursForChart:h,formatDuration:u,dateToESTString:j}=(0,A.L)(t,new Date,s,l),g=e=>({ts:"TypeScript",tsx:"TypeScript",js:"JavaScript",jsx:"JavaScript",py:"Python",java:"Java",cpp:"C++",c:"C",cs:"C#",php:"PHP",rb:"Ruby",go:"Go",rs:"Rust",swift:"Swift",kt:"Kotlin",dart:"Dart",html:"HTML",css:"CSS",scss:"SCSS",sass:"SASS",less:"LESS",json:"JSON",xml:"XML",yaml:"YAML",yml:"YAML",md:"Markdown",sql:"SQL",sh:"Shell",bash:"Bash",zsh:"Zsh",fish:"Fish"})[e]||e.toUpperCase(),p=(()=>{let e=new Date,s=new Date(e);s.setFullYear(e.getFullYear()-1);let a=[];for(let r=new Date(s);r<=e;r.setDate(r.getDate()+1)){let e=j(r),l=t[e]||{},i=0;Object.values(l).forEach(e=>{i+=e.duration/3600});let n=0;i>.5&&(n=1),i>2&&(n=2),i>4&&(n=3),i>6&&(n=4);let c=r.getDay(),o=Math.floor((r.getTime()-s.getTime())/6048e5);a.push({date:e,hours:i,level:n,dayOfWeek:c,week:o})}return a})(),v=(()=>{let e=new Date().getFullYear(),s=0,a=0,r=0,l={},i={};Object.entries(t).forEach(t=>{let[n,c]=t;if((0,I.Nx)(n).getFullYear()===e){let e=0,t=0;Object.entries(c).forEach(s=>{let[a,r]=s,n=r.duration/3600;e+=n,t+=r.sessions.length,l[a]=(l[a]||0)+n,r.sessions.forEach(e=>{if(e.file){var t;let s=null===(t=e.file.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(s){let t=g(s),a=(new Date(e.end).getTime()-new Date(e.start).getTime())/36e5;i[t]=(i[t]||0)+a}}})}),s+=e,a+=t,e>0&&r++}});let n=r>0?s/r:0;return{totalHours:s,totalSessions:a,activeDays:r,avgHoursPerDay:s/365,avgHoursPerActiveDay:n,topProjects:Object.entries(l).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s}).slice(0,5).map(e=>{let[t,s]=e;return{name:t,hours:s}}),topLanguages:Object.entries(i).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s}).slice(0,5).map(e=>{let[t,s]=e;return{name:t,hours:s}})}})(),b=(()=>{let e={};return Object.entries(t).forEach(t=>{let[s,a]=t,r=(0,I.Nx)(s),l=new Date(r);l.setDate(r.getDate()-r.getDay());let i=j(l),n=0;Object.values(a).forEach(e=>{n+=e.duration/3600}),e[i]=(e[i]||0)+n}),Object.entries(e).sort((e,t)=>{let[s]=e,[a]=t;return s.localeCompare(a)}).slice(-12).map(e=>{let[t,s]=e;return{week:new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),hours:Number(s.toFixed(1))}})})(),C=d(),L=(e,t)=>[h(Number(e)),t],E=e=>["bg-gray-100","bg-green-200","bg-green-400","bg-green-600","bg-green-800"][e]||"bg-gray-100";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-teal-600"}),"Development Insights"]}),(0,a.jsx)(m.BT,{children:"Comprehensive analytics and trends for your development activity"})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(K,{value:i,onValueChange:e=>n(e),children:[(0,a.jsx)(J,{className:"w-32",children:(0,a.jsx)(V,{})}),(0,a.jsxs)(q,{children:[(0,a.jsx)(G,{value:"30d",children:"Last 30 days"}),(0,a.jsx)(G,{value:"90d",children:"Last 90 days"}),(0,a.jsx)(G,{value:"1y",children:"Last year"})]})]})})]})}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(ee.A,{className:"w-5 h-5"}),"Activity Heatmap"]}),(0,a.jsx)(m.BT,{children:"Your coding activity over the past year"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"inline-block min-w-full",children:[(0,a.jsxs)("div",{className:"flex mb-2",children:[(0,a.jsx)("div",{className:"w-8"}),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e,t)=>(0,a.jsx)("div",{className:"w-3 h-3 text-xs text-gray-500 flex items-center justify-center mr-1",children:t%2==1?e.charAt(0):""},t))]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"flex gap-1",children:Array.from({length:53},(e,t)=>(0,a.jsx)("div",{className:"flex flex-col gap-1",children:[0,1,2,3,4,5,6].map(e=>{let s=p.find(s=>s.week===t&&s.dayOfWeek===e);return(0,a.jsx)("div",{className:"w-3 h-3 rounded-sm ".concat(s?E(s.level):"bg-gray-100"),title:s?"".concat(s.date,": ").concat(h(s.hours)):"No data"},"".concat(t,"-").concat(e))})},t))})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Less"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[0,1,2,3,4].map(e=>(0,a.jsx)("div",{className:"w-3 h-3 rounded-sm ".concat(E(e))},e))}),(0,a.jsx)("span",{children:"More"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-teal-100 rounded-lg",children:(0,a.jsx)(et.A,{className:"w-5 h-5 text-teal-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h(v.totalHours)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total this year"})]})]})})}),(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(es.A,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h(v.avgHoursPerActiveDay)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Daily average"})]})]})})}),(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(ee.A,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.activeDays}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Active days"})]})]})})}),(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(ea.A,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.totalSessions}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total sessions"})]})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Weekly Trend"}),(0,a.jsx)(m.BT,{children:"Hours worked over the last 12 weeks"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)(f,{config:{hours:{label:"Hours",color:"#2D5A5A"}},className:"h-[300px]",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(F.b,{data:b,children:[(0,a.jsx)(T.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"week"}),(0,a.jsx)(k.h,{}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:L}),(0,a.jsx)(U.N,{type:"monotone",dataKey:"hours",stroke:"#2D5A5A",strokeWidth:2})]})})})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Monthly Overview"}),(0,a.jsx)(m.BT,{children:"Hours worked by month"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)(f,{config:{hours:{label:"Hours",color:"#2D5A5A"}},className:"h-[300px]",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(w.E,{data:C,children:[(0,a.jsx)(T.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"month"}),(0,a.jsx)(k.h,{}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:L}),(0,a.jsx)(D.y,{dataKey:"hours",fill:"#2D5A5A"})]})})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(er.A,{className:"w-5 h-5"}),"Top Projects"]}),(0,a.jsx)(m.BT,{children:"Your most worked-on projects this year"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:v.topProjects.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-bold text-teal-600",children:["#",t+1]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.hours/v.totalHours*100).toFixed(1),"% of total time"]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"font-bold",children:h(e.hours)})})]},e.name))})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(el.A,{className:"w-5 h-5"}),"Top Languages"]}),(0,a.jsx)(m.BT,{children:"Your most used programming languages"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:v.topLanguages.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:["#",t+1]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.hours/v.totalHours*100).toFixed(1),"% of total time"]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"font-bold",children:h(e.hours)})})]},e.name))})})]})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Daily Average Progress"}),(0,a.jsxs)(m.BT,{children:[h(v.avgHoursPerActiveDay)," per active day"]})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"0h"}),(0,a.jsx)("span",{children:"Target: 8h"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,v.avgHoursPerActiveDay/8*100),"%")}})}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[(v.avgHoursPerActiveDay/8*100).toFixed(1),"% of daily target"]})]})})]})]})}var en=s(94119);let ec=en.bL,eo=en.R6,ed=en.Ke;var em=s(11251),ex=s(62544),eh=s(63602),eu=s(91011),ej=s(44770),eg=s(62450),ep=s(70212),ef=s(64404);function ev(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:l,ignoredProjects:i=[],selectedProject:x}=e,[h,u]=(0,r.useState)(""),[j,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),{getProjectSessionDetails:v,formatDuration:N,getFileActivityForProject:y,getUrlActivityForProject:b,dateToESTString:w}=(0,A.L)(t,s,l,i),T=Array.from(new Set((x?v(x):[]).map(e=>w(new Date(e.start))))).sort((e,t)=>t.localeCompare(e)),S=h||T[0]||"",k=x&&S?y(x,S):[],D=x&&S?b(x,S):[],C=j?k.filter(e=>e.filename.toLowerCase().includes(j.toLowerCase())):k,L=p?D.filter(e=>e.url.toLowerCase().includes(p.toLowerCase())):D,E=e=>{switch(e){case"tsx":case"ts":return(0,a.jsx)(el.A,{className:"w-4 h-4 text-blue-500"});case"json":return(0,a.jsx)(ej.A,{className:"w-4 h-4 text-yellow-600"});case"md":return(0,a.jsx)(ex.A,{className:"w-4 h-4 text-gray-600"});case"css":return(0,a.jsx)(eg.A,{className:"w-4 h-4 text-purple-500"});default:return(0,a.jsx)(ep.A,{className:"w-4 h-4 text-gray-500"})}},P=e=>0===e||24===e?"12a":12===e?"12p":e<12?"".concat(e,"a"):"".concat(e-12,"p"),R=Array.from({length:24},(e,t)=>P(t));return(0,a.jsxs)(m.Zp,{className:"w-full",children:[(0,a.jsxs)(m.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{children:"Activity Breakdown"}),(0,a.jsxs)(m.BT,{children:["Files and URLs for ",x]})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(K,{value:h,onValueChange:u,children:[(0,a.jsx)(J,{className:"w-[200px]",children:(0,a.jsx)(V,{placeholder:S||"Select date"})}),(0,a.jsx)(q,{children:T.map(e=>(0,a.jsx)(G,{value:e,children:new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},e))})]})})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)(n,{defaultValue:"files",className:"w-full",children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(o,{value:"files",children:[(0,a.jsx)(el.A,{className:"w-4 h-4 mr-2"}),"Files (",C.length,")"]}),(0,a.jsxs)(o,{value:"urls",children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"URLs (",L.length,")"]})]}),(0,a.jsxs)(d,{value:"files",className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Filter files...",value:j,onChange:e=>g(e.target.value),className:"px-3 py-1 border rounded-md text-sm flex-1"})}),0===C.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:0===k.length?"No file activity data available for this date.":"No files match your filter criteria."}):(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"flex border-b mb-2 pl-[250px] text-xs text-gray-500",children:R.map((e,t)=>(0,a.jsx)("div",{className:"flex-1 text-center",children:t%2==0&&e},t))}),C.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"w-[250px] flex items-center pr-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[E(e.extension),(0,a.jsx)("span",{className:"font-mono text-sm truncate",title:e.fullPath||e.filename,children:e.filename})]}),(0,a.jsx)("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:N(e.totalSeconds)})]}),(0,a.jsx)("div",{className:"flex-1 h-8 border-t border-b relative",children:e.timeByHour.map((e,t)=>{if(0===e)return null;let s=Math.min(1,e/1800),r="".concat(Math.min(100,e/3600*100),"%"),l="".concat(t/24*100,"%");return(0,a.jsx)("div",{className:"absolute h-6 top-1 bg-blue-500 rounded-sm",style:{left:l,width:r,opacity:.3+.7*s},title:"".concat(N(e)," at ").concat(P(t))},t)})})]},t))]})]}),(0,a.jsxs)(d,{value:"urls",className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Filter URLs...",value:p,onChange:e=>f(e.target.value),className:"px-3 py-1 border rounded-md text-sm flex-1"})}),0===L.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:0===D.length?"No URL activity data available for this date.":"No URLs match your filter criteria."}):(0,a.jsx)("div",{className:"space-y-2",children:L.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 overflow-hidden",children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"font-medium text-sm truncate",title:e.url,children:e.host}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.url})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:N(e.totalSeconds)}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.sessionCount," sessions"]})]}),(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:(0,a.jsx)(ef.A,{className:"w-4 h-4"})})]})]},t))})]})]})})]})}function eN(e){var t;let{statsData:s,currentWeek:l,idleTimeoutMinutes:i,ignoredProjects:h=[],selectedProject:u,projectUrls:j=[],onBack:g}=e,[p,v]=(0,r.useState)(u||""),[b,L]=(0,r.useState)({}),[E,P]=(0,r.useState)("overview"),{getProjectTotals:R,getProjectBreakdown:B,getDailyTotalsForProject:Z,getProjectChartData:M,formatDuration:I,formatHoursForChart:W,getWeeklyDataForProject:H,getProjectSessionDetails:_}=(0,A.L)(s,l,i,h),$=R(),Y=M();if(!p&&$.length>0&&v($[0].name),!p)return(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(O.$,{variant:"outline",size:"sm",onClick:g,children:[(0,a.jsx)(em.A,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{children:"Project Details"}),(0,a.jsx)(m.BT,{children:"No projects found for the selected week"})]})]})})});let X=$.find(e=>e.name===p),Q=(null===(t=Y.find(e=>e.name===p))||void 0===t?void 0:t.color)||"#2D5A5A";Z(p);let ee=H(p),es=_(p),ea=e=>{L(t=>({...t,[e]:!t[e]}))},er=(e,t)=>[W(Number(e)),t];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(O.$,{variant:"outline",size:"sm",onClick:g,children:[(0,a.jsx)(em.A,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Q}}),"Project Details"]}),(0,a.jsx)(m.BT,{children:"Detailed analytics and session information"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(K,{value:p,onValueChange:v,children:[(0,a.jsx)(J,{className:"w-64",children:(0,a.jsx)(V,{placeholder:"Select a project"})}),(0,a.jsx)(q,{children:$.map(e=>{var t;return(0,a.jsx)(G,{value:e.name,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(null===(t=Y.find(t=>t.name===e.name))||void 0===t?void 0:t.color)||"#2D5A5A"}}),e.name]})},e.name)})})]})})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:W((null==X?void 0:X.hours)||0)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Hours"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:es.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Sessions"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:es.filter(e=>"coding"===e.type).length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Coding Sessions"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:es.filter(e=>"browsing"===e.type).length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Research Sessions"})]})})]}),(0,a.jsxs)(n,{value:E,onValueChange:P,children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{value:"overview",children:"Overview"}),(0,a.jsxs)(o,{value:"files",children:[(0,a.jsx)(ex.A,{className:"w-4 h-4 mr-2"}),"Files"]}),(0,a.jsx)(o,{value:"sessions",children:"Sessions"})]}),(0,a.jsx)(d,{value:"overview",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Daily Hours"}),(0,a.jsx)(m.BT,{children:"Hours worked per day this week"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)(f,{config:{hours:{label:"Hours",color:Q}},className:"h-[300px]",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(w.E,{data:ee,children:[(0,a.jsx)(T.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"day"}),(0,a.jsx)(k.h,{}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:er}),(0,a.jsx)(D.y,{dataKey:"hours",fill:Q})]})})})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Weekly Trend"}),(0,a.jsx)(m.BT,{children:"Cumulative hours throughout the week"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)(f,{config:{cumulative:{label:"Cumulative Hours",color:Q}},className:"h-[300px]",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(F.b,{data:ee.map((e,t)=>({...e,cumulative:ee.slice(0,t+1).reduce((e,t)=>e+t.hours,0)})),children:[(0,a.jsx)(T.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"day"}),(0,a.jsx)(k.h,{}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:er}),(0,a.jsx)(U.N,{type:"monotone",dataKey:"cumulative",stroke:Q,strokeWidth:2})]})})})})]})]})}),(0,a.jsx)(d,{value:"files",children:(0,a.jsx)(ev,{statsData:s,currentWeek:l,idleTimeoutMinutes:i,selectedProject:p})}),(0,a.jsx)(d,{value:"sessions",children:(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Session Details"}),(0,a.jsxs)(m.BT,{children:["Detailed breakdown of all sessions for ",p]})]}),(0,a.jsx)(m.Wu,{children:0===es.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No session data available for this project."}):(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(es.reduce((e,t)=>{let s=new Date(t.start).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e[s]||(e[s]=[]),e[s].push(t),e},{})).sort((e,t)=>{let[s]=e,[a]=t;return new Date(a).getTime()-new Date(s).getTime()}).map(e=>{let[t,s]=e,r=[],l=[...s].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),n=null;return l.forEach(e=>{!n||new Date(e.start).getTime()-new Date(n.end).getTime()>6e4*i?(n={sessions:[e],start:e.start,end:e.end,primaryType:e.type,codingSessions:+("coding"===e.type),browsingSessions:+("browsing"===e.type)},r.push(n)):(n.sessions.push(e),n.end=e.end,"coding"===e.type?n.codingSessions++:n.browsingSessions++,n.primaryType=n.codingSessions>=n.browsingSessions?"coding":"browsing")}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-700",children:t}),r.map((e,t)=>{let s="".concat(e.start,"-").concat(t),r=b[s],l=(new Date(e.end).getTime()-new Date(e.start).getTime())/1e3,i=e.sessions.length,n=e.codingSessions>0&&e.browsingSessions>0;return(0,a.jsxs)(ec,{children:[(0,a.jsx)(eo,{onClick:()=>ea(s),className:"w-full",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,a.jsx)(z.A,{className:"w-4 h-4"}):(0,a.jsx)(eh.A,{className:"w-4 h-4"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("coding"===e.primaryType?"bg-teal-500":"bg-amber-500")})]}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(C.E,{variant:"coding"===e.primaryType?"default":"secondary",children:["coding"===e.primaryType?(0,a.jsx)(el.A,{className:"w-3 h-3 mr-1"}):(0,a.jsx)(eu.A,{className:"w-3 h-3 mr-1"}),n?"Mixed Session":e.primaryType,i>1&&(0,a.jsxs)("span",{className:"ml-1 text-xs",children:["(",i,")"]})]}),n&&(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsxs)(C.E,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(el.A,{className:"w-2 h-2 mr-1"}),e.codingSessions]}),(0,a.jsxs)(C.E,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(eu.A,{className:"w-2 h-2 mr-1"}),e.browsingSessions]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(et.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"font-medium",children:I(l)})]})]})}),(0,a.jsx)(ed,{children:(0,a.jsxs)("div",{className:"ml-8 mr-4 mb-4 p-4 bg-gray-50 rounded-lg border-l-4",style:{borderLeftColor:Q},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(el.A,{className:"w-4 h-4"}),(0,a.jsx)(eu.A,{className:"w-4 h-4"})]}),"Work Session"]}):"coding"===e.primaryType?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(el.A,{className:"w-4 h-4"}),"Development Session"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu.A,{className:"w-4 h-4"}),"Browsing Session"]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 bg-white px-3 py-2 rounded border",children:n?(0,a.jsxs)(a.Fragment,{children:["Work session with ",e.codingSessions," coding and ",e.browsingSessions," ","browsing activities",(0,a.jsx)("br",{}),"From"," ",new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","to"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),(0,a.jsx)("br",{}),"Total duration: ",I(l)]}):i>1?(0,a.jsxs)(a.Fragment,{children:["Combined ",i," ",e.primaryType," sessions from"," ",new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","to"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),(0,a.jsx)("br",{}),"Total duration: ",I(l)]}):(0,a.jsxs)(a.Fragment,{children:["coding"===e.primaryType?"Coding":"Browsing"," session from"," ",new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","to"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),(0,a.jsx)("br",{}),"Duration: ",I(l)]})})]}),e.browsingSessions>0&&(0,a.jsx)("div",{className:"mt-3",children:(j||[]).filter(e=>e.project===p).length>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h6",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center gap-1",children:[(0,a.jsx)(eu.A,{className:"w-3 h-3"}),"Project URLs:"]}),(0,a.jsx)("div",{className:"space-y-1",children:(j||[]).filter(e=>e.project===p).map((e,t)=>(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-800 underline bg-white px-2 py-1 rounded border block",children:e.url})},t))})]}):(0,a.jsx)("p",{className:"text-xs text-gray-500 italic",children:"No project URLs configured for browsing session details"})}),i>1&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h6",{className:"text-xs font-medium text-gray-500 mb-2",children:"Individual Sessions:"}),(0,a.jsx)("div",{className:"space-y-1 text-xs",children:e.sessions.map((e,t)=>{let s=(new Date(e.end).getTime()-new Date(e.start).getTime())/1e3;return(0,a.jsxs)("div",{className:"flex justify-between items-center px-2 py-1 bg-white rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("coding"===e.type?"bg-teal-500":"bg-amber-500")}),(0,a.jsxs)("span",{children:[new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,a.jsx)(C.E,{variant:"outline",className:"text-xs px-1 py-0",children:e.type})]}),(0,a.jsx)("span",{className:"text-gray-600",children:I(s)})]},t)})})]})]})})]},s)})]},t)})})})]})})]})]})}var ey=s(80900),eb=s(84419),ew=s(22522);let eT=eb.bL,eS=eb.l9,ek=eb.ZL;eb.bm;let eD=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eb.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});eD.displayName=eb.hJ.displayName;let eA=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(ek,{children:[(0,a.jsx)(eD,{}),(0,a.jsxs)(eb.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,a.jsxs)(eb.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(ew.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eA.displayName=eb.UC.displayName;let eC=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};eC.displayName="DialogHeader";let eL=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};eL.displayName="DialogFooter";let eE=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eb.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});eE.displayName=eb.hE.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eb.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName=eb.VY.displayName;var eP=s(21107),eR=s(209),eO=s(19187),eB=s(12146),eZ=s(55482),eM=s(92950),eI=s(43210),eW=s(46539),eF=s(80459),eU=s(72235),eH=s(22486),ez=s(32184);function e_(e){let{statsData:t,projectUrls:s,ignoredProjects:l,projectCustomNames:i,currentWeek:x,idleTimeoutMinutes:h,onCreateUrl:u,onUpdateUrl:j,onDeleteUrl:g,onRefreshUrls:p,onAddIgnoredProject:f,onRemoveIgnoredProject:v,onSaveProjectCustomName:N,onRemoveProjectCustomName:y}=e,[b,w]=(0,r.useState)(""),[T,S]=(0,r.useState)(!1),[k,D]=(0,r.useState)(!1),[L,E]=(0,r.useState)(null),[P,R]=(0,r.useState)(""),[Z,M]=(0,r.useState)(!1),[I,W]=(0,r.useState)(null),[F,U]=(0,r.useState)(""),[H,z]=(0,r.useState)({project:"",url:"",description:""}),{getProjectTotals:_,formatDuration:$,getProjectChartData:Y}=(0,A.L)(t,x,h),X=e=>{let t=i.find(t=>t.projectName===e);return t?t.customName:e},Q=e=>i.find(t=>t.projectName===e),ee=(()=>{let e=new Set;return Object.values(t).forEach(t=>{Object.keys(t).forEach(t=>{e.add(t)})}),Array.from(e).sort()})(),es=_(),ea=l.map(e=>e.projectName),er=Y(),el=es.filter(e=>!ea.includes(e.name)&&(""===b||e.name.toLowerCase().includes(b.toLowerCase())||X(e.name).toLowerCase().includes(b.toLowerCase()))),ei=l.filter(e=>""===b||e.projectName.toLowerCase().includes(b.toLowerCase())||X(e.projectName).toLowerCase().includes(b.toLowerCase())),en=()=>{let e={};return s.forEach(t=>{e[t.project]||(e[t.project]=[]),e[t.project].push(t)}),e},ec=async()=>{if(P.trim()){M(!0);try{await f(P.trim()),R(""),S(!1)}finally{M(!1)}}},eo=async e=>{M(!0);try{await v(e)}finally{M(!1)}},ed=async e=>{M(!0);try{await f(e)}finally{M(!1)}},em=e=>{E(e),z({project:e.project,url:e.url,description:e.description||""}),D(!0)},ex=()=>{z({project:"",url:"",description:""})},eh=e=>{D(e),e||(E(null),ex())},ej=async e=>{e.preventDefault(),M(!0);try{L?await j(L.id,H):await u(H),D(!1),ex(),E(null)}finally{M(!1)}},eg=async e=>{M(!0);try{await g(e)}finally{M(!1)}},ep=e=>{let t=Q(e);W(e),U((null==t?void 0:t.customName)||"")},ev=async e=>{if(F.trim()){M(!0);try{await N(e,F.trim()),W(null),U("")}finally{M(!1)}}},eN=async e=>{let t=Q(e);if(t){M(!0);try{await y(t.id)}finally{M(!1)}}},eb=()=>{W(null),U("")},ek=(()=>{let e=en();if(!b.trim())return Object.entries(e);let t=b.toLowerCase();return Object.entries(e).filter(e=>{let[s,a]=e;return s.toLowerCase().includes(t)||X(s).toLowerCase().includes(t)||a.some(e=>e.url.toLowerCase().includes(t))})})(),eD=Object.keys(en()).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(eP.A,{className:"w-6 h-6 text-teal-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{children:"Project Management"}),(0,a.jsx)(m.BT,{children:"Manage project visibility, custom names, URLs, and settings"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(C.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(eR.A,{className:"w-4 h-4 mr-1"}),el.length," Active"]}),(0,a.jsxs)(C.E,{variant:"secondary",className:"px-3 py-1",children:[(0,a.jsx)(eO.A,{className:"w-4 h-4 mr-1"}),l.length," Ignored"]}),(0,a.jsxs)(C.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(eB.A,{className:"w-4 h-4 mr-1"}),i.length," Custom Names"]}),(0,a.jsxs)(C.E,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(eZ.A,{className:"w-4 h-4 mr-1"}),eD," with URLs"]})]})]})})}),(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eM.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(ey.p,{placeholder:"Search projects, custom names, URLs...",value:b,onChange:e=>w(e.target.value),className:"pl-10"})]})})}),(0,a.jsxs)(n,{defaultValue:"projects",className:"w-full",children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(o,{value:"projects",children:[(0,a.jsx)(eP.A,{className:"w-4 h-4 mr-2"}),"Project Visibility"]}),(0,a.jsxs)(o,{value:"names",children:[(0,a.jsx)(eB.A,{className:"w-4 h-4 mr-2"}),"Custom Names"]}),(0,a.jsxs)(o,{value:"urls",children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"Project URLs"]})]}),(0,a.jsxs)(d,{value:"projects",className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(eT,{open:T,onOpenChange:S,children:[(0,a.jsx)(eS,{asChild:!0,children:(0,a.jsxs)(O.$,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,a.jsx)(eI.A,{className:"w-4 h-4 mr-2"}),"Ignore Project"]})}),(0,a.jsxs)(eA,{children:[(0,a.jsx)(eC,{children:(0,a.jsx)(eE,{children:"Ignore Project"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"project-name",className:"text-sm font-medium",children:"Project Name"}),(0,a.jsx)(ey.p,{id:"project-name",value:P,onChange:e=>R(e.target.value),placeholder:"Enter project name to ignore",className:"mt-1"})]}),ee.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Or select from existing projects:"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:ee.filter(e=>!ea.includes(e)).map(e=>(0,a.jsxs)(O.$,{variant:"ghost",size:"sm",className:"w-full justify-start text-left",onClick:()=>R(e),children:[X(e),X(e)!==e&&(0,a.jsxs)("span",{className:"text-gray-500 ml-2",children:["(",e,")"]})]},e))})]})]}),(0,a.jsxs)(eL,{children:[(0,a.jsx)(O.$,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,a.jsx)(O.$,{onClick:ec,disabled:!P.trim()||Z,children:"Ignore Project"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"w-5 h-5 text-green-600"}),"Active Projects (",el.length,")"]}),(0,a.jsx)(m.BT,{children:"Projects included in calculations and statistics"})]}),(0,a.jsx)(m.Wu,{children:0===el.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:b?"No active projects match your search.":"No active projects found."}):(0,a.jsx)("div",{className:"space-y-2",children:el.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:X(e.name)}),X(e.name)!==e.name&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Original: ",e.name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,a.jsx)(et.A,{className:"w-3 h-3"}),$(e.duration)," this week"]})]})]}),(0,a.jsxs)(O.$,{variant:"outline",size:"sm",onClick:()=>ed(e.name),disabled:Z,className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:[(0,a.jsx)(eO.A,{className:"w-4 h-4 mr-1"}),"Ignore"]})]},e.name))})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(eO.A,{className:"w-5 h-5 text-orange-600"}),"Ignored Projects (",ei.length,")"]}),(0,a.jsx)(m.BT,{children:"Projects excluded from calculations and statistics"})]}),(0,a.jsx)(m.Wu,{children:0===ei.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:b?"No ignored projects match your search.":"No projects are currently ignored."}):(0,a.jsx)("div",{className:"space-y-2",children:ei.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:X(e.projectName)}),X(e.projectName)!==e.projectName&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Original: ",e.projectName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Ignored ",new Date(e.ignoredAt).toLocaleDateString()]})]})]}),(0,a.jsxs)(O.$,{variant:"outline",size:"sm",onClick:()=>eo(e.id),disabled:Z,className:"text-green-600 border-green-200 hover:bg-green-50",children:[(0,a.jsx)(B.A,{className:"w-4 h-4 mr-1"}),"Include"]})]},e.id))})})]})]})]}),(0,a.jsx)(d,{value:"names",className:"space-y-6",children:(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(eB.A,{className:"w-5 h-5 text-blue-600"}),"Project Custom Names"]}),(0,a.jsx)(m.BT,{children:"Set custom display names for your projects. The original project names will still be used for tracking."})]}),(0,a.jsx)(m.Wu,{children:0===ee.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No projects found. Start tracking time to see projects here."}):(0,a.jsx)("div",{className:"space-y-3",children:ee.filter(e=>""===b||e.toLowerCase().includes(b.toLowerCase())||X(e).toLowerCase().includes(b.toLowerCase())).map(e=>{let t=Q(e),s=I===e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e}),s?(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)(ey.p,{value:F,onChange:e=>U(e.target.value),placeholder:"Enter custom name",className:"flex-1",onKeyDown:t=>{"Enter"===t.key?ev(e):"Escape"===t.key&&eb()}}),(0,a.jsx)(O.$,{size:"sm",onClick:()=>ev(e),disabled:!F.trim()||Z,children:(0,a.jsx)(eW.A,{className:"w-4 h-4"})}),(0,a.jsx)(O.$,{size:"sm",variant:"outline",onClick:eb,children:(0,a.jsx)(ew.A,{className:"w-4 h-4"})})]}):(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:t?(0,a.jsxs)(a.Fragment,{children:["Display name:"," ",(0,a.jsx)("span",{className:"font-medium text-blue-600",children:t.customName})]}):"No custom name set"})]}),!s&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(O.$,{size:"sm",variant:"outline",onClick:()=>ep(e),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[(0,a.jsx)(eF.A,{className:"w-4 h-4 mr-1"}),t?"Edit":"Set Name"]}),t&&(0,a.jsx)(O.$,{size:"sm",variant:"outline",onClick:()=>eN(e),disabled:Z,className:"text-red-600 border-red-200 hover:bg-red-50",children:(0,a.jsx)(eU.A,{className:"w-4 h-4"})})]})]},e)})})})]})}),(0,a.jsxs)(d,{value:"urls",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:b?(0,a.jsxs)(a.Fragment,{children:["Found ",ek.length," of ",eD,' projects matching "',b,'"']}):(0,a.jsxs)(a.Fragment,{children:["Showing ",eD," projects with URLs"]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(O.$,{onClick:p,variant:"outline",size:"sm",className:"text-teal-600 hover:text-teal-700",children:[(0,a.jsx)(eH.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(eT,{open:k,onOpenChange:eh,children:[(0,a.jsx)(eS,{asChild:!0,children:(0,a.jsxs)(O.$,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,a.jsx)(eI.A,{className:"w-4 h-4 mr-2"}),"Add URL"]})}),(0,a.jsxs)(eA,{className:"sm:max-w-[500px]",children:[(0,a.jsx)(eC,{children:(0,a.jsx)(eE,{children:L?"Edit Project URL":"Add Project URL"})}),(0,a.jsxs)("form",{onSubmit:ej,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)("label",{htmlFor:"project",className:"text-right font-medium",children:"Project"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(K,{value:H.project,onValueChange:e=>z({...H,project:e}),children:[(0,a.jsx)(J,{children:(0,a.jsx)(V,{placeholder:"Select a project"})}),(0,a.jsx)(q,{children:ee.map(e=>(0,a.jsxs)(G,{value:e,children:[X(e),X(e)!==e&&(0,a.jsxs)("span",{className:"text-gray-500 ml-2",children:["(",e,")"]})]},e))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)("label",{htmlFor:"url",className:"text-right font-medium",children:"URL"}),(0,a.jsx)(ey.p,{id:"url",value:H.url,onChange:e=>z({...H,url:e.target.value}),className:"col-span-3",placeholder:"https://example.com",required:!0})]})]}),(0,a.jsxs)(eL,{children:[(0,a.jsx)(O.$,{type:"button",variant:"outline",onClick:()=>eh(!1),children:"Cancel"}),(0,a.jsxs)(O.$,{type:"submit",disabled:Z,children:[Z&&(0,a.jsx)(ez.A,{className:"mr-2 h-4 w-4 animate-spin"}),L?"Update":"Add"]})]})]})]})]})]})]}),0===s.length?(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No project URLs have been added yet."}),(0,a.jsx)(eT,{children:(0,a.jsx)(eS,{asChild:!0,children:(0,a.jsxs)(O.$,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,a.jsx)(eI.A,{className:"w-4 h-4 mr-2"}),"Add Your First URL"]})})})]})}):0===ek.length?(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"No projects match your search criteria."}),(0,a.jsx)(O.$,{variant:"outline",size:"sm",onClick:()=>w(""),className:"mt-2",children:"Clear Search"})]})}):(0,a.jsx)("div",{className:"space-y-6",children:ek.map(e=>{var t;let[s,r]=e;return(0,a.jsxs)(m.Zp,{children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(null===(t=er.find(e=>e.name===s))||void 0===t?void 0:t.color)||"#2D5A5A"}}),(0,a.jsxs)(m.ZB,{className:"text-lg",children:[X(s),X(s)!==s&&(0,a.jsxs)("span",{className:"text-gray-500 text-sm font-normal ml-2",children:["(",s,")"]}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm font-normal ml-2",children:["(",r.length," URLs)"]})]})]})}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-800 font-medium flex items-center gap-2 truncate flex-1",children:[(0,a.jsx)(eu.A,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.url}),(0,a.jsx)(ef.A,{className:"h-3 w-3 flex-shrink-0"})]}),(0,a.jsxs)("div",{className:"flex gap-1 ml-4",children:[(0,a.jsxs)(O.$,{variant:"ghost",size:"sm",onClick:()=>em(e),className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Edit"}),(0,a.jsx)(eF.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(O.$,{variant:"ghost",size:"sm",onClick:()=>eg(e.id),className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",disabled:Z,children:[(0,a.jsx)("span",{className:"sr-only",children:"Delete"}),(0,a.jsx)(eU.A,{className:"h-4 w-4"})]})]})]},e.id))})})]},s)})})]})]})]})}var e$=s(52297),eK=s(41315);function eV(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:l,ignoredProjects:i=[],selectedDate:h,onDateChange:u}=e,[j,g]=(0,r.useState)(()=>h||(0,I.JO)(new Date)),[p,v]=(0,r.useState)("timeline"),{formatDuration:b,formatHoursForChart:L,getMergedSessionsForProjectDay:E,calculateMergedDuration:P,getProjectChartData:R}=(0,A.L)(t,s,l,i),B=Object.keys(t).sort().reverse(),Z=t[j]||{},M=R().reduce((e,t)=>(e[t.name]=t.color,e),{}),W=Object.entries(Z).flatMap(e=>{let[t,s]=e;return E(s).map(e=>{let s=new Date(e.start),a=new Date(e.end);return{...e,project:t,color:M[t]||"#8884d8",duration:(a.getTime()-s.getTime())/1e3,startHour:s.getHours(),startMinute:s.getMinutes(),endHour:a.getHours(),endMinute:a.getMinutes()}})}).sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),F=Array.from({length:24},(e,t)=>{let s=W.filter(e=>e.startHour===t),a=s.reduce((e,t)=>e+t.duration,0);return{hour:t,hourLabel:"".concat(t.toString().padStart(2,"0"),":00"),sessions:s,totalHours:a/3600,hasActivity:s.length>0}}),U=Object.entries(Z).map(e=>{let[t,s]=e,a=E(s),r=P(a);return{project:t,duration:r,hours:r/3600,sessions:a.length,color:M[t]||"#8884d8"}}),H=U.reduce((e,t)=>e+t.hours,0),z=(()=>{let e=[];for(let t=0;t<24;t++)for(let s=0;s<60;s+=15){let a={time:"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")),hour:t,minute:s,sessions:[],activities:[]},r=60*t+s,l=r+15;W.forEach(e=>{let t=60*e.startHour+e.startMinute,s=60*e.endHour+e.endMinute;if(t<l&&s>r){a.sessions.push(e);let i=60*Math.max(0,Math.min(s,l)-Math.max(t,r));i>0&&a.activities.push({type:e.type,project:e.project,file:e.file,url:e.url,host:e.host,color:e.color,duration:i})}}),a.sessions.length>0&&e.push(a)}return e})(),_=e=>{let t=new Date((0,I.Nx)(j));t.setDate(t.getDate()+("next"===e?1:-1));let s=(0,I.JO)(t);g(s),u&&u(s)},$=e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"tsx":case"ts":return(0,a.jsx)(el.A,{className:"w-3 h-3 text-blue-500"});case"json":return(0,a.jsx)(ex.A,{className:"w-3 h-3 text-yellow-600"});case"md":return(0,a.jsx)(ex.A,{className:"w-3 h-3 text-gray-600"});case"css":return(0,a.jsx)(ex.A,{className:"w-3 h-3 text-purple-500"});default:return(0,a.jsx)(ex.A,{className:"w-3 h-3 text-gray-500"})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O.$,{variant:"outline",size:"sm",onClick:()=>_("prev"),children:(0,a.jsx)(e$.A,{className:"w-4 h-4"})}),(0,a.jsx)(O.$,{variant:"outline",size:"sm",onClick:()=>_("next"),children:(0,a.jsx)(eh.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(ee.A,{className:"w-5 h-5"}),"Daily Details"]}),(0,a.jsx)(m.BT,{children:(0,I.OS)(j)})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(K,{value:j,onValueChange:e=>{g(e),u&&u(e)},children:[(0,a.jsx)(J,{className:"w-48",children:(0,a.jsx)(V,{placeholder:"Select a date"})}),(0,a.jsx)(q,{children:B.map(e=>(0,a.jsx)(G,{value:e,children:(0,I.xB)(e,{weekday:"short",month:"short",day:"numeric"})},e))})]})})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:L(H)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Hours"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:W.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Sessions"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:W.filter(e=>"coding"===e.type).length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Coding Sessions"})]})}),(0,a.jsx)(m.Zp,{children:(0,a.jsxs)(m.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-teal-800",children:U.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Active Projects"})]})})]}),(0,a.jsxs)(n,{value:p,onValueChange:e=>v(e),children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(o,{value:"timeline",children:[(0,a.jsx)(eK.A,{className:"w-4 h-4 mr-2"}),"Detailed Timeline"]}),(0,a.jsxs)(o,{value:"overview",children:[(0,a.jsx)(et.A,{className:"w-4 h-4 mr-2"}),"Overview"]})]}),(0,a.jsx)(d,{value:"timeline",className:"space-y-6",children:(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Merged Activity Timeline"}),(0,a.jsx)(m.BT,{children:"All projects combined - see exactly what files and websites you worked on throughout the day"})]}),(0,a.jsx)(m.Wu,{children:0===z.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity recorded for this day"}):(0,a.jsx)("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:z.map((e,t)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(et.A,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("span",{className:"font-medium text-lg",children:e.time}),(0,a.jsxs)(C.E,{variant:"outline",className:"text-xs",children:[e.activities.length," activities"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(e.activities.reduce((e,t)=>e+t.duration,0)/60)," ","minutes"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.activities.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded border hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),"coding"===e.type?(0,a.jsx)(el.A,{className:"w-4 h-4 text-teal-600"}):(0,a.jsx)(eu.A,{className:"w-4 h-4 text-amber-600"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.project}),(0,a.jsx)(C.E,{variant:"coding"===e.type?"default":"secondary",className:"text-xs",children:e.type})]}),"coding"===e.type&&e.file?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[$(e.file),(0,a.jsx)("span",{className:"font-mono",children:e.file.split("/").pop()}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.file.includes("/")?e.file.substring(0,e.file.lastIndexOf("/")):""})]}):"browsing"===e.type&&e.url?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(eu.A,{className:"w-3 h-3"}),(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 truncate max-w-md",children:[(0,a.jsx)("span",{children:e.host||new URL(e.url).hostname}),(0,a.jsx)(ef.A,{className:"w-3 h-3"})]})]}):(0,a.jsx)("div",{className:"text-sm text-gray-500 italic",children:"coding"===e.type?"No file information":"No URL information"})]}),(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-700",children:[Math.round(e.duration/60),"m"]})]},t))})]},t))})})]})}),(0,a.jsxs)(d,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Hourly Activity"}),(0,a.jsx)(m.BT,{children:"Work distribution throughout the day (midnight to midnight)"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)(f,{config:{hours:{label:"Hours",color:"#2D5A5A"}},className:"h-[300px]",children:(0,a.jsx)(x.u,{width:"100%",height:"100%",children:(0,a.jsxs)(w.E,{data:F,margin:{top:20,right:30,left:20,bottom:5},children:[(0,a.jsx)(T.d,{strokeDasharray:"3 3"}),(0,a.jsx)(S.W,{dataKey:"hourLabel"}),(0,a.jsx)(k.h,{}),(0,a.jsx)(N,{content:(0,a.jsx)(y,{}),formatter:(e,t)=>[L(Number(e)),"Hours Worked"]}),(0,a.jsx)(D.y,{dataKey:"totalHours",fill:"#2D5A5A"})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Project Breakdown"}),(0,a.jsx)(m.BT,{children:"Time spent on each project today"})]}),(0,a.jsx)(m.Wu,{children:0===U.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity recorded for this day"}):(0,a.jsx)("div",{className:"space-y-3",children:U.sort((e,t)=>t.hours-e.hours).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.project}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.sessions," sessions"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",children:L(e.hours)}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(e.hours/H*100),"%"]})]})]},e.project))})})]}),(0,a.jsxs)(m.Zp,{children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Session Timeline"}),(0,a.jsx)(m.BT,{children:"Chronological view of your work sessions"})]}),(0,a.jsx)(m.Wu,{children:0===W.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No sessions recorded for this day"}):(0,a.jsx)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:W.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),"coding"===e.type?(0,a.jsx)(el.A,{className:"w-4 h-4 text-teal-600"}):(0,a.jsx)(eu.A,{className:"w-4 h-4 text-amber-600"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"font-medium",children:e.project}),(0,a.jsx)(C.E,{variant:"coding"===e.type?"default":"secondary",children:e.type})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium",children:[(0,a.jsx)(et.A,{className:"w-3 h-3"}),b(e.duration)]})]},t))})})]})]})]})]})]})}function eJ(e){let{statsData:t,projectUrls:s,ignoredProjects:r,projectCustomNames:l,currentWeek:i,idleTimeoutMinutes:m,onCreateUrl:x,onUpdateUrl:h,onDeleteUrl:u,onRefreshUrls:j,onAddIgnoredProject:g,onRemoveIgnoredProject:p,onSaveProjectCustomName:f,onRemoveProjectCustomName:v,selectedProject:N,onProjectSelect:y,activeTab:b,onTabChange:w}=e,T=e=>{y&&y(e),e&&w("projects")};return(0,a.jsxs)(n,{value:b,onValueChange:w,className:"space-y-4",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{value:"daily",children:"Daily Details"}),(0,a.jsx)(o,{value:"weekly",children:"Weekly View"}),(0,a.jsx)(o,{value:"projects",children:"Projects"}),(0,a.jsx)(o,{value:"breakdown",children:"Project Breakdown"}),(0,a.jsx)(o,{value:"trends",children:"Trends"}),(0,a.jsx)(o,{value:"management",children:"Project Management"})]}),(0,a.jsx)(d,{value:"daily",children:(0,a.jsx)(eV,{statsData:t,currentWeek:i,idleTimeoutMinutes:m,ignoredProjects:r.map(e=>e.projectName)})}),(0,a.jsx)(d,{value:"weekly",children:(0,a.jsx)(L,{statsData:t,currentWeek:i,idleTimeoutMinutes:m,onProjectSelect:T})}),(0,a.jsx)(d,{value:"projects",children:N?(0,a.jsx)(eN,{statsData:t,currentWeek:i,idleTimeoutMinutes:m,selectedProject:N,projectUrls:s,onBack:()=>T(null)}):(0,a.jsx)(M,{statsData:t,currentWeek:i,idleTimeoutMinutes:m,onProjectSelect:T})}),(0,a.jsx)(d,{value:"breakdown",children:(0,a.jsx)(W,{statsData:t,currentWeek:i,idleTimeoutMinutes:m})}),(0,a.jsx)(d,{value:"trends",children:(0,a.jsx)(ei,{statsData:t,idleTimeoutMinutes:m})}),(0,a.jsx)(d,{value:"management",children:(0,a.jsx)(e_,{statsData:t,projectUrls:s,ignoredProjects:r,projectCustomNames:l,currentWeek:i,idleTimeoutMinutes:m,onCreateUrl:x,onUpdateUrl:h,onDeleteUrl:u,onRefreshUrls:j,onAddIgnoredProject:g,onRemoveIgnoredProject:p,onSaveProjectCustomName:f,onRemoveProjectCustomName:v})})]})}}}]);