(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{12631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>tj});var a=s(58081),r=s(82149),l=s(3629),n=s(23484),i=s(76522),o=s(14483);function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.QP)((0,i.$)(t))}let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:i=!1,...o}=e,m=i?l.DX:"button";return(0,a.jsx)(m,{className:c(d({variant:r,size:n,className:s})),ref:t,...o})});m.displayName="Button";var u=s(22486);let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});x.displayName="Card";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",s),...r})});h.displayName="CardHeader";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("text-2xl font-semibold leading-none tracking-tight",s),...r})});p.displayName="CardTitle";let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("text-sm text-muted-foreground",s),...r})});f.displayName="CardDescription";let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("p-6 pt-0",s),...r})});j.displayName="CardContent";let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("flex items-center p-6 pt-0",s),...r})});g.displayName="CardFooter";let v=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});v.displayName="Input";var y=s(14437);let N=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.b,{ref:t,className:c(N(),s),...r})});b.displayName=y.b.displayName;let w=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),k=r.forwardRef((e,t)=>{let{className:s,variant:r,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:c(w({variant:r}),s),...l})});k.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:c("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let T=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("text-sm [&_p]:leading-relaxed",s),...r})});T.displayName="AlertDescription";let D=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function A(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:c(D({variant:s}),t),...r})}var C=s(31511),S=s(12521),R=s(7849),L=s(32184),P=s(99076),E=s(91011),U=s(75283);let O=["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003"];function M(e){let{onValidate:t}=e,[s,l]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),d=async e=>{e.preventDefault(),i(""),c(!0);try{await t(s.trim())||i("Invalid license key. Please check your key and try again.")}catch(e){i("Failed to validate license. Please check your connection and try again.")}finally{c(!1)}},u=e=>{l(e),i("")},g=e=>{navigator.clipboard.writeText(e)};return(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)("img",{src:"/mxo-logo.png",alt:"MXO Logo",className:"h-12 w-auto"}),(0,a.jsx)(C.A,{className:"h-8 w-8 text-teal-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-teal-800",children:"Development Time Tracker"}),(0,a.jsx)("p",{className:"text-gray-600",children:"License validation required"})]})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{children:[(0,a.jsxs)(p,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-5 w-5"}),"Enter License Key"]}),(0,a.jsx)(f,{children:"Please enter your valid license key to access the time tracking dashboard."})]}),(0,a.jsx)(j,{children:(0,a.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(b,{htmlFor:"license-key",children:"License Key"}),(0,a.jsx)(v,{id:"license-key",type:"text",placeholder:"Enter your license key",value:s,onChange:e=>l(e.target.value),required:!0,className:"font-mono",disabled:o})]}),n&&(0,a.jsxs)(k,{variant:"destructive",children:[(0,a.jsx)(R.A,{className:"h-4 w-4"}),(0,a.jsx)(T,{children:n})]}),(0,a.jsx)(m,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:o||!s.trim(),children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.A,{className:"w-4 h-4 animate-spin mr-2"}),"Validating with API..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"Validate License"]})})]})})]}),(0,a.jsx)(x,{className:"border-blue-200",children:(0,a.jsxs)(h,{children:[(0,a.jsxs)(p,{className:"text-sm text-blue-800 flex items-center gap-2",children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),"License Validation"]}),(0,a.jsx)(f,{className:"text-xs",children:"Licenses are validated through addons.fl.com API"})]})}),(0,a.jsxs)(x,{className:"border-teal-200",children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{className:"text-sm text-teal-800",children:"Demo License Keys"}),(0,a.jsx)(f,{className:"text-xs",children:"For testing purposes, you can use any of these demo keys:"})]}),(0,a.jsx)(j,{className:"space-y-3",children:O.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-teal-50 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A,{variant:"outline",className:"text-xs",children:e.includes("DEV")?"DEV":e.includes("PRO")?"PRO":"ENT"}),(0,a.jsx)("code",{className:"text-xs font-mono text-teal-700",children:e})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>g(e),className:"h-6 w-6 p-0 hover:bg-teal-100",title:"Copy to clipboard",disabled:o,children:(0,a.jsx)(U.A,{className:"h-3 w-3"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>u(e),className:"h-6 px-2 text-xs hover:bg-teal-100",disabled:o,children:"Use"})]})]},e))})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"License validation requires an internet connection. Demo keys work offline."})})]})})}function I(){return(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)("img",{src:"/mxo-logo.png",alt:"MXO Logo",className:"h-12 w-auto"}),(0,a.jsx)(C.A,{className:"h-8 w-8 text-teal-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-teal-800",children:"Development Time Tracker"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Initializing application..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(L.A,{className:"h-6 w-6 animate-spin text-teal-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Validating license..."})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})}var _=s(81889);let F=_.bL,W=_.l9,z=r.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:l=4,...n}=e;return(0,a.jsx)(_.ZL,{children:(0,a.jsx)(_.UC,{ref:t,align:r,sideOffset:l,className:c("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...n})})});z.displayName=_.UC.displayName;var H=s(21107),K=s(61441),V=s(5516);let X="mxo-time-tracker-license",B=()=>{let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),[l,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem(X);if(e){let s=localStorage.getItem("".concat(X,"-last-checked")),r=new Date().getTime();if(s&&r-Number.parseInt(s)<864e5){t(!0),a(e),n(!1);return}await i(e)?(t(!0),a(e),localStorage.setItem("".concat(X,"-last-checked"),r.toString())):(localStorage.removeItem(X),localStorage.removeItem("".concat(X,"-last-checked")))}n(!1)})()},[]);let i=async e=>{try{let t=await fetch("".concat("","/api/license"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license_key:e.trim()})});if(!t.ok)return console.error("License validation API error:",t.status,t.statusText),!1;let s=await t.json();return!0===s.valid||"valid"===s.status}catch(t){return console.error("License validation error:",t),["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003"].includes(e.trim().toUpperCase())}},o=async()=>{try{if(s){let e=await fetch("".concat("","/api/license/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({license_key:s.trim()})});e.ok||console.warn("Logout API error:",e.status,e.statusText)}}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem(X),localStorage.removeItem("".concat(X,"-last-checked")),t(!1),a(null)}};return{isLicenseValid:e,validatedLicense:s,isInitializing:l,validateLicense:async e=>{let s=await i(e);if(!s)return console.warn("Invalid license key:",e),!1;if(s){let s=e.trim().toUpperCase();return localStorage.setItem(X,s),t(!0),a(s),!0}return!1},logout:o,getLicenseInfo:()=>{if(!s)return null;let e="Unknown";s.includes("-DEV-")?e="Developer":s.includes("-PRO-")?e="Professional":s.includes("-ENT-")&&(e="Enterprise");let t=["MXO-DEV-2024-TRACK-001","MXO-PRO-2024-TRACK-002","MXO-ENT-2024-TRACK-003"].includes(s);return{key:s,type:e,isDemo:t}}}};function J(e){let{idleTimeoutMinutes:t,onIdleTimeoutChange:s,onRefresh:r,onLogout:l}=e,{getLicenseInfo:n}=B(),i=n();return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:"/mxo-logo.png",alt:"MXO Logo",className:"h-12 w-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-teal-800",children:"Development Time Tracking"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor your development productivity and project progress"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[i&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 text-teal-600"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-teal-800",children:i.type}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:i.isDemo?"Demo License":i.key.slice(-3)})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsx)(W,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(H.A,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,a.jsx)(z,{className:"w-80",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Dashboard Settings"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{htmlFor:"idle-timeout",className:"text-sm font-medium",children:["Idle Timeout: ",t," minutes"]}),(0,a.jsxs)("select",{id:"idle-timeout",value:t,onChange:e=>s(Number(e.target.value)),className:"bg-white border rounded px-2 py-1 text-sm",children:[(0,a.jsx)("option",{value:5,children:"5 minutes"}),(0,a.jsx)("option",{value:10,children:"10 minutes"}),(0,a.jsx)("option",{value:15,children:"15 minutes"}),(0,a.jsx)("option",{value:20,children:"20 minutes"}),(0,a.jsx)("option",{value:30,children:"30 minutes"})]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Sessions within ",t," minutes of each other will be merged"]})]}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"font-medium text-sm",children:"License Information"}),(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,a.jsx)("span",{children:i.type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Key:"}),(0,a.jsx)("span",{className:"font-mono",children:i.isDemo?"Demo":"...".concat(i.key.slice(-6))})]})]}),l&&(0,a.jsxs)(m,{onClick:l,variant:"outline",size:"sm",className:"w-full mt-3 text-red-600 border-red-200 hover:bg-red-50",children:[(0,a.jsx)(K.A,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})})]}),(0,a.jsxs)(m,{onClick:r,variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(A,{variant:"outline",className:"px-3 py-1",children:[(0,a.jsx)(V.A,{className:"w-4 h-4 mr-1"}),"Live Data"]})]})]})}function q(e){let{currentWeek:t,onNavigateWeek:s}=e,r=e=>{let t=new Date(e),s=t.getDay(),a=t.getDate()-s;return new Date(t.setDate(a))},l=()=>{let e=new Date,s=r(t),a=r(e);return s.getTime()===a.getTime()};return(0,a.jsx)(x,{children:(0,a.jsx)(j,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(m,{onClick:()=>s("prev"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"← Previous Week"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-teal-800",children:[r(t).toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","-"," ",new Date(r(t).getTime()+5184e5).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:l()?"Current Week":"Week of "+r(t).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),(0,a.jsx)(m,{onClick:()=>s("next"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",disabled:l(),children:"Next Week →"})]}),!l()&&(0,a.jsx)(m,{onClick:()=>s("current"),variant:"default",size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:"Back to Current Week"})]})})})}var Y=s(67188),Z=s(2151),G=s(209),Q=s(90018);let $="America/New_York",ee=e=>new Date(e+"T00:00:00"),et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"2-digit",day:"2-digit",year:"numeric"};return ee(e).toLocaleDateString("en-US",{timeZone:$,...t})},es=e=>et(e,{month:"short",day:"numeric"}),ea=e=>et(e,{month:"long",day:"numeric",year:"numeric"}),er=e=>et(e,{weekday:"short"}),el=e=>e.toLocaleDateString("en-CA",{timeZone:$}),en=(e,t,s)=>{let a=e=>{let t=new Date(e),s=t.getDay(),a=t.getDate()-s;return new Date(t.setDate(a))},r=e=>{let t=[];for(let s=0;s<7;s++){let a=new Date(e.getTime()+864e5*s);t.push(el(a))}return t},l=()=>{let s=r(a(t)),l={};return s.forEach(t=>{e[t]&&(l[t]=e[t])}),l},n=e=>{let t=ee(e).getDay();return 8*(t>=1&&t<=5)},i=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return"".concat(t,"h ").concat(s,"m")},o=e=>{if(0===e.length)return e;let t=[...e].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),a=[],r={...t[0]};for(let e=1;e<t.length;e++){let l=t[e],n=new Date(r.end).getTime();new Date(l.start).getTime()-n<=6e4*s&&r.type===l.type?r.end=l.end:(a.push(r),r={...l})}return a.push(r),a},c=()=>{let e={};return Object.values(l()).forEach(t=>{Object.entries(t).forEach(t=>{let[s,a]=t;e[s]=(e[s]||0)+a.duration})}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,duration:s,hours:s/3600}}).sort((e,t)=>t.duration-e.duration)},d=()=>{let e=r(a(t)),s=l();return e.map(e=>{let t=Object.values(s[e]||{}).reduce((e,t)=>e+t.duration,0),a=er(e),r=n(e);return{day:a,date:e,hours:t/3600,target:r}})},m=()=>{let e=[];return Object.entries(l()).sort((e,t)=>{let[s]=e,[a]=t;return a.localeCompare(s)}).forEach(t=>{let[s,a]=t;Object.entries(a).forEach(t=>{let[a,r]=t;o(r.sessions).slice(-3).forEach((t,r)=>{let l=new Date(t.end).getTime()-new Date(t.start).getTime();e.push({id:"".concat(s,"-").concat(a,"-").concat(r),project:a,task:"".concat(t.type," session"),duration:i(l/1e3),status:"completed",date:s,type:t.type})})})}),e.slice(0,10)};return{getWeekStart:a,getWeekEnd:e=>new Date(a(e).getTime()+5184e5),getWeekDates:r,getCurrentWeekData:l,isCurrentWeek:()=>{let e=new Date,s=a(t),r=a(e);return s.getTime()===r.getTime()},formatDuration:i,formatDateInEST:et,formatDateShort:es,formatDateLong:ea,getTargetHoursForDate:n,mergeSessions:o,getProjectTotals:c,getWeeklyData:d,getRecentActivities:m,getTotalHoursThisWeek:()=>d().reduce((e,t)=>e+t.hours,0),getAvgHoursPerDay:()=>{let e=d().filter(e=>e.target>0);return e.length>0?e.reduce((e,t)=>e+t.hours,0)/e.length:0},getTargetHoursThisWeek:()=>d().reduce((e,t)=>e+t.target,0),getActiveProjects:()=>c().length,getCompletedTasks:()=>m().filter(e=>"completed"===e.status).length,getProjectChartData:()=>{let e=c().slice(0,5),t=["#2D5A5A","#4A7C7C","#A67C5A","#8B4513","#D2B48C"];return e.map((e,s)=>({name:e.name,hours:Number(e.hours.toFixed(1)),color:t[s%t.length]}))},getMonthlyTrend:()=>{let t={};return Object.entries(e).forEach(e=>{let[s,a]=e,r=et(s,{month:"short"}),l=Object.values(a).reduce((e,t)=>e+t.duration,0);t[r]=(t[r]||0)+l}),Object.entries(t).map(e=>{let[t,s]=e;return{month:t,hours:Number((s/3600).toFixed(1))}})},getProjectBreakdown:e=>{let t=[];return Object.entries(l()).forEach(s=>{let[a,r]=s;if(r[e]){let s=o(r[e].sessions);t.push(...s.map(e=>({...e,date:a})))}}),t.sort((e,t)=>new Date(t.start).getTime()-new Date(e.start).getTime())},getDailyTotalsForProject:e=>{let t={};return Object.entries(l()).forEach(s=>{let[a,r]=s;if(r[e]){let s=o(r[e].sessions),l=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);t[a]={duration:l,sessions:s}}}),Object.entries(t).map(e=>{let[t,s]=e;return{date:t,...s}}).sort((e,t)=>t.date.localeCompare(e.date)).slice(0,14)}}};function ei(e){var t;let{statsData:s,currentWeek:r,idleTimeoutMinutes:l}=e,{getTotalHoursThisWeek:n,getAvgHoursPerDay:i,getTargetHoursThisWeek:o,getActiveProjects:c,getCompletedTasks:d,getProjectTotals:m,getWeekStart:u,getWeekEnd:f,isCurrentWeek:g}=en(s,r,l),v=n(),y=o(),N=i(),b=c(),w=d(),k=m();return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(p,{className:"text-sm font-medium",children:g()?"Total Hours This Week":"Total Hours Selected Week"}),(0,a.jsx)(Y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(j,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[v.toFixed(1),"h"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Target: ",y,"h (",u(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})," -"," ",f(r).toLocaleDateString("en-US",{month:"short",day:"numeric"}),")"]})]})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(p,{className:"text-sm font-medium",children:"Average per Weekday"}),(0,a.jsx)(Z.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(j,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[N.toFixed(1),"h"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Target: 8h per weekday (Mon-Fri)"})]})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(p,{className:"text-sm font-medium",children:"Active Projects"}),(0,a.jsx)(G.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(j,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:b}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(t=k[0])||void 0===t?void 0:t.name)||"No projects"," is top project"]})]})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(p,{className:"text-sm font-medium",children:"Recent Sessions"}),(0,a.jsx)(Q.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(j,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:w}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 3 days"})]})]})]})}var eo=s(47230);let ec=eo.bL,ed=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eo.B8,{ref:t,className:c("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});ed.displayName=eo.B8.displayName;let em=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eo.l9,{ref:t,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});em.displayName=eo.l9.displayName;let eu=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eo.UC,{ref:t,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});eu.displayName=eo.UC.displayName;var ex=s(78158),eh=s(41073),ep=s(47174);let ef={light:"",dark:".dark"},ej=r.createContext(null);function eg(){let e=r.useContext(ej);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let ev=r.forwardRef((e,t)=>{let{id:s,className:l,children:n,config:i,...o}=e,d=r.useId(),m="chart-".concat(s||d.replace(/:/g,""));return(0,a.jsx)(ej.Provider,{value:{config:i},children:(0,a.jsxs)("div",{"data-chart":m,ref:t,className:c("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...o,children:[(0,a.jsx)(ey,{id:m,config:i}),(0,a.jsx)(ex.u,{children:n})]})})});ev.displayName="Chart";let ey=e=>{let{id:t,config:s}=e,r=Object.entries(s).filter(e=>{let[,t]=e;return t.theme||t.color});return r.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(ef).map(e=>{let[s,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(r.map(e=>{var t;let[a,r]=e,l=(null===(t=r.theme)||void 0===t?void 0:t[s])||r.color;return l?"  --color-".concat(a,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},eN=eh.m,eb=r.forwardRef((e,t)=>{let{active:s,payload:l,className:n,indicator:i="dot",hideLabel:o=!1,hideIndicator:d=!1,label:m,labelFormatter:u,labelClassName:x,formatter:h,color:p,nameKey:f,labelKey:j}=e,{config:g}=eg(),v=r.useMemo(()=>{var e;if(o||!(null==l?void 0:l.length))return null;let[t]=l,s="".concat(j||(null==t?void 0:t.dataKey)||(null==t?void 0:t.name)||"value"),r=ew(g,t,s),n=j||"string"!=typeof m?null==r?void 0:r.label:(null===(e=g[m])||void 0===e?void 0:e.label)||m;return u?(0,a.jsx)("div",{className:c("font-medium",x),children:u(n,l)}):n?(0,a.jsx)("div",{className:c("font-medium",x),children:n}):null},[m,u,l,o,x,g,j]);if(!s||!(null==l?void 0:l.length))return null;let y=1===l.length&&"dot"!==i;return(0,a.jsxs)("div",{ref:t,className:c("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[y?null:v,(0,a.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let s="".concat(f||e.name||e.dataKey||"value"),r=ew(g,e,s),l=p||e.payload.fill||e.color;return(0,a.jsx)("div",{className:c("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==r?void 0:r.icon)?(0,a.jsx)(r.icon,{}):!d&&(0,a.jsx)("div",{className:c("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":y&&"dashed"===i}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:c("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?v:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function ew(e,t,s){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,r=s;return s in t&&"string"==typeof t[s]?r=t[s]:a&&s in a&&"string"==typeof a[s]&&(r=a[s]),r in e?e[r]:e[s]}eb.displayName="ChartTooltip",ep.s,r.forwardRef((e,t)=>{let{className:s,hideIcon:r=!1,payload:l,verticalAlign:n="bottom",nameKey:i}=e,{config:o}=eg();return(null==l?void 0:l.length)?(0,a.jsx)("div",{ref:t,className:c("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",s),children:l.map(e=>{let t="".concat(i||e.dataKey||"value"),s=ew(o,e,t);return(0,a.jsxs)("div",{className:c("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==s?void 0:s.icon)&&!r?(0,a.jsx)(s.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==s?void 0:s.label]},e.value)})}):null}).displayName="ChartLegend";var ek=s(30207),eT=s(33100),eD=s(92583),eA=s(63316),eC=s(85235),eS=s(42859),eR=s(40535);function eL(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r}=e,{getWeeklyData:l}=en(t,s,r),n=l();return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Daily Hours This Week"}),(0,a.jsx)(f,{children:"Hours worked vs target hours"})]}),(0,a.jsx)(j,{children:(0,a.jsx)(ev,{config:{hours:{label:"Hours Worked",color:"#8884d8"},target:{label:"Target Hours",color:"#82ca9d"}},className:"h-[300px]",children:(0,a.jsx)(ex.u,{width:"100%",height:"100%",children:(0,a.jsxs)(ek.E,{data:n,children:[(0,a.jsx)(eT.d,{strokeDasharray:"3 3"}),(0,a.jsx)(eD.W,{dataKey:"day"}),(0,a.jsx)(eA.h,{}),(0,a.jsx)(eN,{content:(0,a.jsx)(eb,{})}),(0,a.jsx)(eC.y,{dataKey:"hours",fill:"#2D5A5A",name:"Hours Worked"}),(0,a.jsx)(eC.y,{dataKey:"target",fill:"#4A7C7C",name:"Target Hours"})]})})})})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Weekly Progress"}),(0,a.jsx)(f,{children:"Cumulative hours throughout the week"})]}),(0,a.jsx)(j,{children:(0,a.jsx)(ev,{config:{cumulative:{label:"Cumulative Hours",color:"#8884d8"}},className:"h-[300px]",children:(0,a.jsx)(ex.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eS.Q,{data:n.map((e,t)=>({...e,cumulative:n.slice(0,t+1).reduce((e,t)=>e+t.hours,0)})),children:[(0,a.jsx)(eT.d,{strokeDasharray:"3 3"}),(0,a.jsx)(eD.W,{dataKey:"day"}),(0,a.jsx)(eA.h,{}),(0,a.jsx)(eN,{content:(0,a.jsx)(eb,{})}),(0,a.jsx)(eR.G,{type:"monotone",dataKey:"cumulative",stroke:"#2D5A5A",fill:"#2D5A5A",fillOpacity:.3})]})})})})]})]})}var eP=s(19019),eE=s(54898),eU=s(26265);function eO(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r}=e,{getProjectChartData:l,getProjectTotals:n}=en(t,s,r),i=l(),o=n();return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Time by Project"}),(0,a.jsx)(f,{children:"Hours spent on each project"})]}),(0,a.jsx)(j,{children:(0,a.jsx)(ev,{config:{hours:{label:"Hours",color:"#8884d8"}},className:"h-[300px]",children:(0,a.jsx)(ex.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eP.r,{children:[(0,a.jsx)(eE.F,{data:i,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"hours",label:e=>{let{name:t,hours:s}=e;return"".concat(t,": ").concat(s,"h")},children:i.map((e,t)=>(0,a.jsx)(eU.f,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(eN,{content:(0,a.jsx)(eb,{})})]})})})})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Project Hours Breakdown"}),(0,a.jsx)(f,{children:"Detailed view of time allocation"})]}),(0,a.jsx)(j,{children:(0,a.jsx)("div",{className:"space-y-4",children:o.slice(0,8).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===(s=i.find(t=>t.name===e.name))||void 0===s?void 0:s.color)||"#8884d8"}}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-bold",children:[e.hours.toFixed(1),"h"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.duration/o.reduce((e,t)=>e+t.duration,0)*100).toFixed(1),"%"]})]})]},t)})})})]})]})}function eM(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r}=e,{getProjectTotals:l,getProjectBreakdown:n,getDailyTotalsForProject:i,getProjectChartData:o,formatDuration:c}=en(t,s,r),d=l(),u=o();return(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:d.map(e=>{var t;let s=n(e.name),r=i(e.name);return(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(p,{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===(t=u.find(t=>t.name===e.name))||void 0===t?void 0:t.color)||"#2D5A5A"}}),e.name]}),(0,a.jsxs)(f,{children:["Total: ",c(e.duration)," • ",s.length," sessions"]})]}),(0,a.jsx)(m,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"Export to Wrike"})]})}),(0,a.jsx)(j,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-700",children:"Daily Breakdown"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-stone-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:et(e.date)}),(0,a.jsx)("span",{className:"text-sm font-bold text-teal-700",children:c(e.duration)})]}),(0,a.jsx)("div",{className:"space-y-1",children:e.sessions.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat("coding"===e.type?"bg-teal-500":"bg-amber-500")}),new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,a.jsx)("span",{children:c((new Date(e.end).getTime()-new Date(e.start).getTime())/1e3)})]},t))})]},e.date))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-teal-50 rounded-lg border border-teal-200",children:[(0,a.jsx)("h5",{className:"font-semibold text-sm text-teal-800 mb-3",children:"Wrike Time Log Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total Hours:"}),(0,a.jsxs)("span",{className:"ml-2 font-bold text-teal-800",children:[e.hours.toFixed(2),"h"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Billable Time:"}),(0,a.jsxs)("span",{className:"ml-2 font-bold text-teal-800",children:[(.85*e.hours).toFixed(2),"h"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Coding Sessions:"}),(0,a.jsx)("span",{className:"ml-2 font-bold text-teal-800",children:s.filter(e=>"coding"===e.type).length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Research/Browsing:"}),(0,a.jsx)("span",{className:"ml-2 font-bold text-teal-800",children:s.filter(e=>"browsing"===e.type).length})]})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Copy for Wrike:"}),(0,a.jsx)("div",{className:"text-sm font-mono text-gray-800",children:r.map(e=>"".concat(et(e.date),": ").concat(c(e.duration))).join(" | ")})]})]})]})})]},e.name)})})}var eI=s(28022),e_=s(94560);function eF(e){let{statsData:t,idleTimeoutMinutes:s}=e,{getMonthlyTrend:r}=en(t,new Date,s),l=r();return(0,a.jsxs)(x,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:"Monthly Trends"}),(0,a.jsx)(f,{children:"Hours worked over time"})]}),(0,a.jsx)(j,{children:(0,a.jsx)(ev,{config:{hours:{label:"Hours",color:"#8884d8"}},className:"h-[400px]",children:(0,a.jsx)(ex.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eI.b,{data:l,children:[(0,a.jsx)(eT.d,{strokeDasharray:"3 3"}),(0,a.jsx)(eD.W,{dataKey:"month"}),(0,a.jsx)(eA.h,{}),(0,a.jsx)(eN,{content:(0,a.jsx)(eb,{})}),(0,a.jsx)(e_.N,{type:"monotone",dataKey:"hours",stroke:"#2D5A5A",strokeWidth:2})]})})})})]})}var eW=s(56656),ez=s(60392),eH=s(56801),eK=s(54341);let eV=eW.bL;eW.YJ;let eX=eW.WT,eB=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(eW.l9,{ref:t,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(eW.In,{asChild:!0,children:(0,a.jsx)(ez.A,{className:"h-4 w-4 opacity-50"})})]})});eB.displayName=eW.l9.displayName;let eJ=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eW.PP,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(eH.A,{className:"h-4 w-4"})})});eJ.displayName=eW.PP.displayName;let eq=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eW.wn,{ref:t,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(ez.A,{className:"h-4 w-4"})})});eq.displayName=eW.wn.displayName;let eY=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...n}=e;return(0,a.jsx)(eW.ZL,{children:(0,a.jsxs)(eW.UC,{ref:t,className:c("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,a.jsx)(eJ,{}),(0,a.jsx)(eW.LM,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(eq,{})]})})});eY.displayName=eW.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eW.JU,{ref:t,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=eW.JU.displayName;let eZ=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(eW.q7,{ref:t,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eW.VF,{children:(0,a.jsx)(eK.A,{className:"h-4 w-4"})})}),(0,a.jsx)(eW.p4,{children:r})]})});eZ.displayName=eW.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eW.wv,{ref:t,className:c("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=eW.wv.displayName;var eG=s(84419),eQ=s(22522);let e$=eG.bL,e0=eG.l9,e2=eG.ZL;eG.bm;let e1=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eG.hJ,{ref:t,className:c("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});e1.displayName=eG.hJ.displayName;let e4=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(e2,{children:[(0,a.jsx)(e1,{}),(0,a.jsxs)(eG.UC,{ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,a.jsxs)(eG.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(eQ.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});e4.displayName=eG.UC.displayName;let e5=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};e5.displayName="DialogHeader";let e8=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:c("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};e8.displayName="DialogFooter";let e3=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eG.hE,{ref:t,className:c("text-lg font-semibold leading-none tracking-tight",s),...r})});e3.displayName=eG.hE.displayName;let e6=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eG.VY,{ref:t,className:c("text-sm text-muted-foreground",s),...r})});e6.displayName=eG.VY.displayName;var e7=s(43210),e9=s(64404),te=s(80459),tt=s(72235);function ts(e){let{projectUrls:t,statsData:s,currentWeek:l,idleTimeoutMinutes:n,onCreateUrl:i,onUpdateUrl:o,onDeleteUrl:c,onRefresh:d}=e,[y,N]=(0,r.useState)(""),[w,k]=(0,r.useState)(1),[T]=(0,r.useState)(5),[D,C]=(0,r.useState)(!1),[S,R]=(0,r.useState)(null),[P,E]=(0,r.useState)(!1),[U,O]=(0,r.useState)({project:"",url:"",description:""}),{getProjectTotals:M,getProjectChartData:I}=en(s,l,n),_=M().map(e=>e.name),F=I(),W=()=>{let e={};return t.forEach(t=>{e[t.project]||(e[t.project]=[]),e[t.project].push(t)}),e},z=()=>{let e=W();if(!y.trim())return Object.entries(e);let t=y.toLowerCase();return Object.entries(e).filter(e=>{let[s,a]=e;return s.toLowerCase().includes(t)||a.some(e=>e.url.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))})},H=e=>{R(e),O({project:e.project,url:e.url,description:e.description}),C(!0)},K=()=>{O({project:"",url:"",description:""})},V=e=>{C(e),e||(R(null),K())},X=async e=>{e.preventDefault(),E(!0);try{S?await o(S.id,U):await i(U),C(!1),K(),R(null)}finally{E(!1)}},B=async e=>{E(!0);try{await c(e)}finally{E(!1)}},{projects:J,totalPages:q,totalItems:Y}=(()=>{let e=z(),t=(w-1)*T;return{projects:e.slice(t,t+T),totalPages:Math.ceil(e.length/T),totalItems:e.length}})();return(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p,{children:"Project URLs"}),(0,a.jsx)(f,{children:"Manage URLs associated with each project"})]}),(0,a.jsxs)(e$,{open:D,onOpenChange:V,children:[(0,a.jsx)(e0,{asChild:!0,children:(0,a.jsxs)(m,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,a.jsx)(e7.A,{className:"w-4 h-4 mr-2"}),"Add URL"]})}),(0,a.jsxs)(e4,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(e5,{children:[(0,a.jsx)(e3,{children:S?"Edit Project URL":"Add Project URL"}),(0,a.jsx)(e6,{children:S?"Update the URL details for this project.":"Add a new URL to associate with a project."})]}),(0,a.jsxs)("form",{onSubmit:X,children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(b,{htmlFor:"project",className:"text-right",children:"Project"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(eV,{value:U.project,onValueChange:e=>O({...U,project:e}),children:[(0,a.jsx)(eB,{children:(0,a.jsx)(eX,{placeholder:"Select a project"})}),(0,a.jsx)(eY,{children:_.map(e=>(0,a.jsx)(eZ,{value:e,children:e},e))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(b,{htmlFor:"url",className:"text-right",children:"URL"}),(0,a.jsx)(v,{id:"url",value:U.url,onChange:e=>O({...U,url:e.target.value}),className:"col-span-3",placeholder:"https://example.com",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(b,{htmlFor:"description",className:"text-right",children:"Description"}),(0,a.jsx)(v,{id:"description",value:U.description,onChange:e=>O({...U,description:e.target.value}),className:"col-span-3",placeholder:"Project documentation, GitHub repo, etc."})]})]}),(0,a.jsxs)(e8,{children:[(0,a.jsx)(m,{type:"button",variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,a.jsxs)(m,{type:"submit",disabled:P,children:[P&&(0,a.jsx)(L.A,{className:"mr-2 h-4 w-4 animate-spin"}),S?"Update":"Add"]})]})]})]})]})]})}),(0,a.jsxs)(j,{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(v,{placeholder:"Search projects, URLs, or descriptions...",value:y,onChange:e=>{N(e.target.value),k(1)},className:"pl-4 pr-4"})}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No project URLs have been added yet."}),(0,a.jsx)(e$,{children:(0,a.jsx)(e0,{asChild:!0,children:(0,a.jsxs)(m,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,a.jsx)(e7.A,{className:"w-4 h-4 mr-2"}),"Add Your First URL"]})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:y?(0,a.jsxs)(a.Fragment,{children:["Found ",Y," project",1!==Y?"s":"",' matching "',y,'"']}):(0,a.jsxs)(a.Fragment,{children:["Showing ",J.length," of ",Y," projects"]})}),(0,a.jsxs)(m,{onClick:d,variant:"ghost",size:"sm",className:"text-teal-600 hover:text-teal-700",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),0===J.length?(0,a.jsx)("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No projects match your search criteria."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-4",children:J.map(e=>{var t;let[s,r]=e;return(0,a.jsxs)(x,{className:"border border-gray-200",children:[(0,a.jsx)(h,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(null===(t=F.find(e=>e.name===s))||void 0===t?void 0:t.color)||"#2D5A5A"}}),(0,a.jsx)(p,{className:"text-lg",children:s}),(0,a.jsxs)(A,{variant:"secondary",className:"text-xs",children:[r.length," URL",1!==r.length?"s":""]})]})})}),(0,a.jsx)(j,{className:"pt-0",children:(0,a.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-800 font-medium truncate",children:e.url.length>50?e.url.substring(0,50)+"...":e.url}),(0,a.jsx)(e9.A,{className:"h-3 w-3 text-teal-600 flex-shrink-0"})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.description})]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>H(e),className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Edit"}),(0,a.jsx)(te.A,{className:"h-4 w-4"})]}),(0,a.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>B(e.id),className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",disabled:P,children:[(0,a.jsx)("span",{className:"sr-only",children:"Delete"}),(0,a.jsx)(tt.A,{className:"h-4 w-4"})]})]})]},e.id))})})]},s)})}),q>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",w," of ",q]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>k(Math.max(1,w-1)),disabled:1===w,children:"Previous"}),(0,a.jsx)("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,q)},(e,t)=>{let s;return s=q<=5?t+1:w<=3?t+1:w>=q-2?q-4+t:w-2+t,(0,a.jsx)(m,{variant:w===s?"default":"outline",size:"sm",onClick:()=>k(s),className:"w-8 h-8 p-0",children:s},s)})}),(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>k(Math.min(q,w+1)),disabled:w===q,children:"Next"})]})]})]})]})]}),(0,a.jsx)(g,{className:"border-t bg-gray-50 px-6 py-3",children:(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Project URLs are stored on your local webservice at localhost:56000"})})]})}function ta(e){let{statsData:t,projectUrls:s,currentWeek:r,idleTimeoutMinutes:l,onCreateUrl:n,onUpdateUrl:i,onDeleteUrl:o,onRefreshUrls:c}=e;return(0,a.jsxs)(ec,{defaultValue:"weekly",className:"space-y-4",children:[(0,a.jsxs)(ed,{children:[(0,a.jsx)(em,{value:"weekly",children:"Weekly View"}),(0,a.jsx)(em,{value:"projects",children:"Projects"}),(0,a.jsx)(em,{value:"breakdown",children:"Project Breakdown"}),(0,a.jsx)(em,{value:"trends",children:"Trends"}),(0,a.jsx)(em,{value:"urls",children:"Project URLs"})]}),(0,a.jsx)(eu,{value:"weekly",children:(0,a.jsx)(eL,{statsData:t,currentWeek:r,idleTimeoutMinutes:l})}),(0,a.jsx)(eu,{value:"projects",children:(0,a.jsx)(eO,{statsData:t,currentWeek:r,idleTimeoutMinutes:l})}),(0,a.jsx)(eu,{value:"breakdown",children:(0,a.jsx)(eM,{statsData:t,currentWeek:r,idleTimeoutMinutes:l})}),(0,a.jsx)(eu,{value:"trends",children:(0,a.jsx)(eF,{statsData:t,idleTimeoutMinutes:l})}),(0,a.jsx)(eu,{value:"urls",children:(0,a.jsx)(ts,{projectUrls:s,statsData:t,currentWeek:r,idleTimeoutMinutes:l,onCreateUrl:n,onUpdateUrl:i,onDeleteUrl:o,onRefresh:c})})]})}function tr(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:r}=e,{getRecentActivities:l}=en(t,s,r),n=l();return(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(p,{children:"Recent Activities"}),(0,a.jsx)(f,{children:"Your latest time entries and sessions"})]})}),(0,a.jsx)(j,{children:(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("coding"===e.type?"bg-teal-600":"bg-amber-600")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.task}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.project})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(A,{variant:"coding"===e.type?"default":"secondary",children:e.type}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-medium",children:e.duration}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.date})]})]})]},e.id))})})]})}let tl=0,tn=new Map,ti=e=>{if(tn.has(e))return;let t=setTimeout(()=>{tn.delete(e),tm({type:"REMOVE_TOAST",toastId:e})},1e6);tn.set(e,t)},to=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?ti(s):e.toasts.forEach(e=>{ti(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},tc=[],td={toasts:[]};function tm(e){td=to(td,e),tc.forEach(e=>{e(td)})}function tu(e){let{...t}=e,s=(tl=(tl+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>tm({type:"DISMISS_TOAST",toastId:s});return tm({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>tm({type:"UPDATE_TOAST",toast:{...e,id:s}})}}let tx=()=>{let e={},t=["Dashboard Redesign","API Integration","Mobile App","Documentation","Bug Fixes"],s=new Date;for(let a=0;a<14;a++){let r=new Date(s);r.setDate(r.getDate()-a);let l=el(r);e[l]={};let n=Math.floor(3*Math.random())+1;t.slice(0,n).forEach(t=>{let s=[],a=Math.floor(4*Math.random())+1;for(let e=0;e<a;e++){let e=9+Math.floor(8*Math.random()),t=Math.floor(120*Math.random())+30,a=new Date(r);a.setHours(e,Math.floor(60*Math.random()));let l=new Date(a.getTime()+6e4*t);s.push({start:a.toISOString(),end:l.toISOString(),type:Math.random()>.3?"coding":"browsing"})}let n=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);e[l][t]={duration:n,sessions:s}})}return e},th=()=>[{id:"1",project:"Dashboard Redesign",url:"https://github.com/company/dashboard-redesign",description:"Main repository for dashboard redesign project"},{id:"2",project:"Dashboard Redesign",url:"https://figma.com/dashboard-mockups",description:"Design mockups and wireframes"},{id:"3",project:"API Integration",url:"https://api-docs.company.com",description:"API documentation and endpoints"},{id:"4",project:"API Integration",url:"https://github.com/company/api-integration",description:"Integration code repository"},{id:"5",project:"Mobile App",url:"https://github.com/company/mobile-app",description:"React Native mobile application"},{id:"6",project:"Documentation",url:"https://docs.company.com",description:"Project documentation site"}],tp=e=>{let t={};return Object.entries(e).forEach(e=>{let[s,a]=e,r=s;if(s.includes("T")&&(r=s.split("T")[0]),!/^\d{4}-\d{2}-\d{2}$/.test(r)){console.warn("Invalid date format received from API: ".concat(s));return}t[r]=a}),t},tf=()=>{let[e,t]=(0,r.useState)({}),[s,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(new Date),[m,u]=(0,r.useState)(10),x=window.location.hostname.includes("v0.dev")||!0,h=async()=>{try{if(n(!0),o(null),x){setTimeout(()=>{t(tx()),n(!1)},1e3);return}let e=new AbortController,s=setTimeout(()=>e.abort(),5e3);try{let a=await fetch("".concat("","/api/stats"),{signal:e.signal});if(clearTimeout(s),!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json(),l=tp(r);t(l)}catch(e){clearTimeout(s),console.warn("API not available, using fake data:",e),t(tx())}}catch(e){console.warn("Error in fetchStats, using fake data:",e),t(tx())}finally{n(!1)}},p=async()=>{try{if(o(null),x){a(th());return}let e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{let s=await fetch("".concat("","/api/urls"),{signal:e.signal});if(clearTimeout(t),!s.ok)throw Error("HTTP error! status: ".concat(s.status));let r=await s.json();a(r)}catch(e){clearTimeout(t),console.warn("API not available for URLs, using fake data:",e),a(th())}}catch(e){console.warn("Error fetching project URLs, using fake data:",e),a(th())}},f=async e=>{try{if(x){let t={id:Date.now().toString(),project:e.project,url:e.url,description:e.description};a(e=>[...e,t]),tu({title:"Success",description:"Project URL has been created (preview mode)"});return}let t=await fetch("".concat("","/api/urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));await p(),tu({title:"Success",description:"Project URL has been created"})}catch(e){tu({title:"Error",description:e instanceof Error?e.message:"Failed to create project URL",variant:"destructive"})}},j=async(e,t)=>{try{if(x){a(s=>s.map(s=>s.id===e?{...s,project:t.project,url:t.url,description:t.description}:s)),tu({title:"Success",description:"Project URL has been updated (preview mode)"});return}let s=await fetch("".concat("","/api/urls/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));await p(),tu({title:"Success",description:"Project URL has been updated"})}catch(e){tu({title:"Error",description:e instanceof Error?e.message:"Failed to update project URL",variant:"destructive"})}},g=async e=>{try{if(x){a(t=>t.filter(t=>t.id!==e)),tu({title:"Success",description:"Project URL has been deleted (preview mode)"});return}let t=await fetch("".concat("","/api/urls/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));await p(),tu({title:"Success",description:"Project URL has been deleted"})}catch(e){tu({title:"Error",description:e instanceof Error?e.message:"Failed to delete project URL",variant:"destructive"})}};return(0,r.useEffect)(()=>{h(),p()},[]),{statsData:e,projectUrls:s,loading:l,error:i,currentWeek:c,setCurrentWeek:e=>{let t=new Date(c);t.setDate(t.getDate()+("next"===e?7:-7)),d(t)},idleTimeoutMinutes:m,setIdleTimeoutMinutes:u,fetchStats:h,fetchProjectUrls:p,createProjectUrl:f,updateProjectUrl:j,deleteProjectUrl:g}};function tj(){let{isLicenseValid:e,isInitializing:t,validateLicense:s,logout:r}=B(),{statsData:l,projectUrls:n,loading:i,error:o,currentWeek:c,setCurrentWeek:d,idleTimeoutMinutes:x,setIdleTimeoutMinutes:h,fetchStats:p,fetchProjectUrls:f,createProjectUrl:j,updateProjectUrl:g,deleteProjectUrl:v}=tf();return t?(0,a.jsx)(I,{}):e?i?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.A,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading time tracking data..."})]})}):o?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-red-600 mb-4",children:["Error: ",o]}),(0,a.jsxs)(m,{onClick:p,children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-stone-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsx)(J,{idleTimeoutMinutes:x,onIdleTimeoutChange:h,onRefresh:p,onLogout:r}),(0,a.jsx)(q,{currentWeek:c,onNavigateWeek:d}),(0,a.jsx)(ei,{statsData:l,currentWeek:c,idleTimeoutMinutes:x}),(0,a.jsx)(ta,{statsData:l,projectUrls:n,currentWeek:c,idleTimeoutMinutes:x,onCreateUrl:j,onUpdateUrl:g,onDeleteUrl:v,onRefreshUrls:f}),(0,a.jsx)(tr,{statsData:l,currentWeek:c,idleTimeoutMinutes:x})]})}):(0,a.jsx)(M,{onValidate:s})}},29153:(e,t,s)=>{Promise.resolve().then(s.bind(s,12631))}},e=>{var t=t=>e(e.s=t);e.O(0,[370,497,954,358],()=>t(29153)),_N_E=e.O()}]);