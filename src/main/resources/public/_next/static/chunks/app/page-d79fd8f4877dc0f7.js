(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{29153:(e,t,s)=>{Promise.resolve().then(s.bind(s,66048))},66048:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>te});var r=s(58081),a=s(82149),l=s(3629),n=s(23484),i=s(76522),o=s(14483);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.QP)((0,i.$)(t))}let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...o}=e,m=i?l.DX:"button";return(0,r.jsx)(m,{className:d(c({variant:a,size:n,className:s})),ref:t,...o})});m.displayName="Button";var u=s(22486);let x=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:d(x({variant:s}),t),...a})}var f=s(81889);let j=f.bL,p=f.l9,g=a.forwardRef((e,t)=>{let{className:s,align:a="center",sideOffset:l=4,...n}=e;return(0,r.jsx)(f.ZL,{children:(0,r.jsx)(f.UC,{ref:t,align:a,sideOffset:l,className:d("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...n})})});g.displayName=f.UC.displayName;var v=s(21107),y=s(5516);function b(e){let{idleTimeoutMinutes:t,onIdleTimeoutChange:s,onRefresh:a}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("img",{src:"/mxo-logo.png",alt:"MXO Logo",className:"h-12 w-auto"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-teal-800",children:"Development Time Tracking"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor your development productivity and project progress"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(j,{children:[(0,r.jsx)(p,{asChild:!0,children:(0,r.jsxs)(m,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,r.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,r.jsx)(g,{className:"w-80",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Dashboard Settings"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{htmlFor:"idle-timeout",className:"text-sm font-medium",children:["Idle Timeout: ",t," minutes"]}),(0,r.jsxs)("select",{id:"idle-timeout",value:t,onChange:e=>s(Number(e.target.value)),className:"bg-white border rounded px-2 py-1 text-sm",children:[(0,r.jsx)("option",{value:5,children:"5 minutes"}),(0,r.jsx)("option",{value:10,children:"10 minutes"}),(0,r.jsx)("option",{value:15,children:"15 minutes"}),(0,r.jsx)("option",{value:20,children:"20 minutes"}),(0,r.jsx)("option",{value:30,children:"30 minutes"})]})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Sessions within ",t," minutes of each other will be merged"]})]})]})})]}),(0,r.jsxs)(m,{onClick:a,variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,r.jsxs)(h,{variant:"outline",className:"px-3 py-1",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-1"}),"Live Data"]})]})]})}let N=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});N.displayName="Card";let w=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...a})});w.displayName="CardHeader";let k=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",s),...a})});k.displayName="CardTitle";let T=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("text-sm text-muted-foreground",s),...a})});T.displayName="CardDescription";let D=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("p-6 pt-0",s),...a})});D.displayName="CardContent";let C=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...a})});function A(e){let{currentWeek:t,onNavigateWeek:s}=e,a=e=>{let t=new Date(e),s=t.getDay(),r=t.getDate()-s;return new Date(t.setDate(r))},l=()=>{let e=new Date,s=a(t),r=a(e);return s.getTime()===r.getTime()};return(0,r.jsx)(N,{children:(0,r.jsx)(D,{className:"py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(m,{onClick:()=>s("prev"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"← Previous Week"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-teal-800",children:[a(t).toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","-"," ",new Date(a(t).getTime()+5184e5).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:l()?"Current Week":"Week of "+a(t).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),(0,r.jsx)(m,{onClick:()=>s("next"),variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",disabled:l(),children:"Next Week →"})]}),!l()&&(0,r.jsx)(m,{onClick:()=>s("current"),variant:"default",size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:"Back to Current Week"})]})})})}C.displayName="CardFooter";var S=s(67188),R=s(2151),E=s(209),U=s(90018);let L="America/New_York",P=e=>new Date(e+"T00:00:00"),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"2-digit",day:"2-digit",year:"numeric"};return P(e).toLocaleDateString("en-US",{timeZone:L,...t})},O=e=>_(e,{month:"short",day:"numeric"}),W=e=>_(e,{month:"long",day:"numeric",year:"numeric"}),F=e=>_(e,{weekday:"short"}),M=e=>e.toLocaleDateString("en-CA",{timeZone:L}),H=(e,t,s)=>{let r=e=>{let t=new Date(e),s=t.getDay(),r=t.getDate()-s;return new Date(t.setDate(r))},a=e=>{let t=[];for(let s=0;s<7;s++){let r=new Date(e.getTime()+864e5*s);t.push(M(r))}return t},l=()=>{let s=a(r(t)),l={};return s.forEach(t=>{e[t]&&(l[t]=e[t])}),l},n=e=>{let t=P(e).getDay();return 8*(t>=1&&t<=5)},i=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return"".concat(t,"h ").concat(s,"m")},o=e=>{if(0===e.length)return e;let t=[...e].sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),r=[],a={...t[0]};for(let e=1;e<t.length;e++){let l=t[e],n=new Date(a.end).getTime();new Date(l.start).getTime()-n<=6e4*s&&a.type===l.type?a.end=l.end:(r.push(a),a={...l})}return r.push(a),r},d=()=>{let e={};return Object.values(l()).forEach(t=>{Object.entries(t).forEach(t=>{let[s,r]=t;e[s]=(e[s]||0)+r.duration})}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,duration:s,hours:s/3600}}).sort((e,t)=>t.duration-e.duration)},c=()=>{let e=a(r(t)),s=l();return e.map(e=>{let t=Object.values(s[e]||{}).reduce((e,t)=>e+t.duration,0),r=F(e),a=n(e);return{day:r,date:e,hours:t/3600,target:a}})},m=()=>{let e=[];return Object.entries(l()).sort((e,t)=>{let[s]=e,[r]=t;return r.localeCompare(s)}).forEach(t=>{let[s,r]=t;Object.entries(r).forEach(t=>{let[r,a]=t;o(a.sessions).slice(-3).forEach((t,a)=>{let l=new Date(t.end).getTime()-new Date(t.start).getTime();e.push({id:"".concat(s,"-").concat(r,"-").concat(a),project:r,task:"".concat(t.type," session"),duration:i(l/1e3),status:"completed",date:s,type:t.type})})})}),e.slice(0,10)};return{getWeekStart:r,getWeekEnd:e=>new Date(r(e).getTime()+5184e5),getWeekDates:a,getCurrentWeekData:l,isCurrentWeek:()=>{let e=new Date,s=r(t),a=r(e);return s.getTime()===a.getTime()},formatDuration:i,formatDateInEST:_,formatDateShort:O,formatDateLong:W,getTargetHoursForDate:n,mergeSessions:o,getProjectTotals:d,getWeeklyData:c,getRecentActivities:m,getTotalHoursThisWeek:()=>c().reduce((e,t)=>e+t.hours,0),getAvgHoursPerDay:()=>{let e=c().filter(e=>e.target>0);return e.length>0?e.reduce((e,t)=>e+t.hours,0)/e.length:0},getTargetHoursThisWeek:()=>c().reduce((e,t)=>e+t.target,0),getActiveProjects:()=>d().length,getCompletedTasks:()=>m().filter(e=>"completed"===e.status).length,getProjectChartData:()=>{let e=d().slice(0,5),t=["#2D5A5A","#4A7C7C","#A67C5A","#8B4513","#D2B48C"];return e.map((e,s)=>({name:e.name,hours:Number(e.hours.toFixed(1)),color:t[s%t.length]}))},getMonthlyTrend:()=>{let t={};return Object.entries(e).forEach(e=>{let[s,r]=e,a=_(s,{month:"short"}),l=Object.values(r).reduce((e,t)=>e+t.duration,0);t[a]=(t[a]||0)+l}),Object.entries(t).map(e=>{let[t,s]=e;return{month:t,hours:Number((s/3600).toFixed(1))}})},getProjectBreakdown:e=>{let t=[];return Object.entries(l()).forEach(s=>{let[r,a]=s;if(a[e]){let s=o(a[e].sessions);t.push(...s.map(e=>({...e,date:r})))}}),t.sort((e,t)=>new Date(t.start).getTime()-new Date(e.start).getTime())},getDailyTotalsForProject:e=>{let t={};return Object.entries(l()).forEach(s=>{let[r,a]=s;if(a[e]){let s=o(a[e].sessions),l=s.reduce((e,t)=>e+(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3,0);t[r]={duration:l,sessions:s}}}),Object.entries(t).map(e=>{let[t,s]=e;return{date:t,...s}}).sort((e,t)=>t.date.localeCompare(e.date)).slice(0,14)}}};function z(e){var t;let{statsData:s,currentWeek:a,idleTimeoutMinutes:l}=e,{getTotalHoursThisWeek:n,getAvgHoursPerDay:i,getTargetHoursThisWeek:o,getActiveProjects:d,getCompletedTasks:c,getProjectTotals:m,getWeekStart:u,getWeekEnd:x,isCurrentWeek:h}=H(s,a,l),f=n(),j=o(),p=i(),g=d(),v=c(),y=m();return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(k,{className:"text-sm font-medium",children:h()?"Total Hours This Week":"Total Hours Selected Week"}),(0,r.jsx)(S.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(D,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[f.toFixed(1),"h"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Target: ",j,"h (",u(a).toLocaleDateString("en-US",{month:"short",day:"numeric"})," -"," ",x(a).toLocaleDateString("en-US",{month:"short",day:"numeric"}),")"]})]})]}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(k,{className:"text-sm font-medium",children:"Average per Weekday"}),(0,r.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(D,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[p.toFixed(1),"h"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Target: 8h per weekday (Mon-Fri)"})]})]}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(k,{className:"text-sm font-medium",children:"Active Projects"}),(0,r.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(D,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:g}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(t=y[0])||void 0===t?void 0:t.name)||"No projects"," is top project"]})]})]}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(k,{className:"text-sm font-medium",children:"Recent Sessions"}),(0,r.jsx)(U.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(D,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:v}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 3 days"})]})]})]})}var I=s(47230);let B=I.bL,K=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(I.B8,{ref:t,className:d("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});K.displayName=I.B8.displayName;let V=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(I.l9,{ref:t,className:d("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});V.displayName=I.l9.displayName;let J=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(I.UC,{ref:t,className:d("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});J.displayName=I.UC.displayName;var Y=s(78158),Z=s(41073),q=s(47174);let G={light:"",dark:".dark"},X=a.createContext(null);function Q(){let e=a.useContext(X);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let $=a.forwardRef((e,t)=>{let{id:s,className:l,children:n,config:i,...o}=e,c=a.useId(),m="chart-".concat(s||c.replace(/:/g,""));return(0,r.jsx)(X.Provider,{value:{config:i},children:(0,r.jsxs)("div",{"data-chart":m,ref:t,className:d("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...o,children:[(0,r.jsx)(ee,{id:m,config:i}),(0,r.jsx)(Y.u,{children:n})]})})});$.displayName="Chart";let ee=e=>{let{id:t,config:s}=e,a=Object.entries(s).filter(e=>{let[,t]=e;return t.theme||t.color});return a.length?(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(G).map(e=>{let[s,r]=e;return"\n".concat(r," [data-chart=").concat(t,"] {\n").concat(a.map(e=>{var t;let[r,a]=e,l=(null===(t=a.theme)||void 0===t?void 0:t[s])||a.color;return l?"  --color-".concat(r,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},et=Z.m,es=a.forwardRef((e,t)=>{let{active:s,payload:l,className:n,indicator:i="dot",hideLabel:o=!1,hideIndicator:c=!1,label:m,labelFormatter:u,labelClassName:x,formatter:h,color:f,nameKey:j,labelKey:p}=e,{config:g}=Q(),v=a.useMemo(()=>{var e;if(o||!(null==l?void 0:l.length))return null;let[t]=l,s="".concat(p||(null==t?void 0:t.dataKey)||(null==t?void 0:t.name)||"value"),a=er(g,t,s),n=p||"string"!=typeof m?null==a?void 0:a.label:(null===(e=g[m])||void 0===e?void 0:e.label)||m;return u?(0,r.jsx)("div",{className:d("font-medium",x),children:u(n,l)}):n?(0,r.jsx)("div",{className:d("font-medium",x),children:n}):null},[m,u,l,o,x,g,p]);if(!s||!(null==l?void 0:l.length))return null;let y=1===l.length&&"dot"!==i;return(0,r.jsxs)("div",{ref:t,className:d("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[y?null:v,(0,r.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let s="".concat(j||e.name||e.dataKey||"value"),a=er(g,e,s),l=f||e.payload.fill||e.color;return(0,r.jsx)("div",{className:d("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[(null==a?void 0:a.icon)?(0,r.jsx)(a.icon,{}):!c&&(0,r.jsx)("div",{className:d("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":y&&"dashed"===i}),style:{"--color-bg":l,"--color-border":l}}),(0,r.jsxs)("div",{className:d("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[y?v:null,(0,r.jsx)("span",{className:"text-muted-foreground",children:(null==a?void 0:a.label)||e.name})]}),e.value&&(0,r.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function er(e,t,s){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=s;return s in t&&"string"==typeof t[s]?a=t[s]:r&&s in r&&"string"==typeof r[s]&&(a=r[s]),a in e?e[a]:e[s]}es.displayName="ChartTooltip",q.s,a.forwardRef((e,t)=>{let{className:s,hideIcon:a=!1,payload:l,verticalAlign:n="bottom",nameKey:i}=e,{config:o}=Q();return(null==l?void 0:l.length)?(0,r.jsx)("div",{ref:t,className:d("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",s),children:l.map(e=>{let t="".concat(i||e.dataKey||"value"),s=er(o,e,t);return(0,r.jsxs)("div",{className:d("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==s?void 0:s.icon)&&!a?(0,r.jsx)(s.icon,{}):(0,r.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==s?void 0:s.label]},e.value)})}):null}).displayName="ChartLegend";var ea=s(30207),el=s(33100),en=s(92583),ei=s(63316),eo=s(85235),ed=s(42859),ec=s(40535);function em(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:a}=e,{getWeeklyData:l}=H(t,s,a),n=l();return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{children:"Daily Hours This Week"}),(0,r.jsx)(T,{children:"Hours worked vs target hours"})]}),(0,r.jsx)(D,{children:(0,r.jsx)($,{config:{hours:{label:"Hours Worked",color:"#8884d8"},target:{label:"Target Hours",color:"#82ca9d"}},className:"h-[300px]",children:(0,r.jsx)(Y.u,{width:"100%",height:"100%",children:(0,r.jsxs)(ea.E,{data:n,children:[(0,r.jsx)(el.d,{strokeDasharray:"3 3"}),(0,r.jsx)(en.W,{dataKey:"day"}),(0,r.jsx)(ei.h,{}),(0,r.jsx)(et,{content:(0,r.jsx)(es,{})}),(0,r.jsx)(eo.y,{dataKey:"hours",fill:"#2D5A5A",name:"Hours Worked"}),(0,r.jsx)(eo.y,{dataKey:"target",fill:"#4A7C7C",name:"Target Hours"})]})})})})]}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{children:"Weekly Progress"}),(0,r.jsx)(T,{children:"Cumulative hours throughout the week"})]}),(0,r.jsx)(D,{children:(0,r.jsx)($,{config:{cumulative:{label:"Cumulative Hours",color:"#8884d8"}},className:"h-[300px]",children:(0,r.jsx)(Y.u,{width:"100%",height:"100%",children:(0,r.jsxs)(ed.Q,{data:n.map((e,t)=>({...e,cumulative:n.slice(0,t+1).reduce((e,t)=>e+t.hours,0)})),children:[(0,r.jsx)(el.d,{strokeDasharray:"3 3"}),(0,r.jsx)(en.W,{dataKey:"day"}),(0,r.jsx)(ei.h,{}),(0,r.jsx)(et,{content:(0,r.jsx)(es,{})}),(0,r.jsx)(ec.G,{type:"monotone",dataKey:"cumulative",stroke:"#2D5A5A",fill:"#2D5A5A",fillOpacity:.3})]})})})})]})]})}var eu=s(19019),ex=s(54898),eh=s(26265);function ef(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:a}=e,{getProjectChartData:l,getProjectTotals:n}=H(t,s,a),i=l(),o=n();return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{children:"Time by Project"}),(0,r.jsx)(T,{children:"Hours spent on each project"})]}),(0,r.jsx)(D,{children:(0,r.jsx)($,{config:{hours:{label:"Hours",color:"#8884d8"}},className:"h-[300px]",children:(0,r.jsx)(Y.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eu.r,{children:[(0,r.jsx)(ex.F,{data:i,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"hours",label:e=>{let{name:t,hours:s}=e;return"".concat(t,": ").concat(s,"h")},children:i.map((e,t)=>(0,r.jsx)(eh.f,{fill:e.color},"cell-".concat(t)))}),(0,r.jsx)(et,{content:(0,r.jsx)(es,{})})]})})})})]}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{children:"Project Hours Breakdown"}),(0,r.jsx)(T,{children:"Detailed view of time allocation"})]}),(0,r.jsx)(D,{children:(0,r.jsx)("div",{className:"space-y-4",children:o.slice(0,8).map((e,t)=>{var s;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===(s=i.find(t=>t.name===e.name))||void 0===s?void 0:s.color)||"#8884d8"}}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"font-bold",children:[e.hours.toFixed(1),"h"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[(e.duration/o.reduce((e,t)=>e+t.duration,0)*100).toFixed(1),"%"]})]})]},t)})})})]})]})}function ej(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:a}=e,{getProjectTotals:l,getProjectBreakdown:n,getDailyTotalsForProject:i,getProjectChartData:o,formatDuration:d}=H(t,s,a),c=l(),u=o();return(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6",children:c.map(e=>{var t;let s=n(e.name),a=i(e.name);return(0,r.jsxs)(N,{children:[(0,r.jsx)(w,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(k,{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===(t=u.find(t=>t.name===e.name))||void 0===t?void 0:t.color)||"#2D5A5A"}}),e.name]}),(0,r.jsxs)(T,{children:["Total: ",d(e.duration)," • ",s.length," sessions"]})]}),(0,r.jsx)(m,{variant:"outline",size:"sm",className:"border-teal-200 text-teal-700 hover:bg-teal-50",children:"Export to Wrike"})]})}),(0,r.jsx)(D,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm text-gray-700",children:"Daily Breakdown"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>(0,r.jsxs)("div",{className:"p-3 border rounded-lg bg-stone-50",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"font-medium text-sm",children:_(e.date)}),(0,r.jsx)("span",{className:"text-sm font-bold text-teal-700",children:d(e.duration)})]}),(0,r.jsx)("div",{className:"space-y-1",children:e.sessions.map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat("coding"===e.type?"bg-teal-500":"bg-amber-500")}),new Date(e.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-",new Date(e.end).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,r.jsx)("span",{children:d((new Date(e.end).getTime()-new Date(e.start).getTime())/1e3)})]},t))})]},e.date))}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-teal-50 rounded-lg border border-teal-200",children:[(0,r.jsx)("h5",{className:"font-semibold text-sm text-teal-800 mb-3",children:"Wrike Time Log Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Hours:"}),(0,r.jsxs)("span",{className:"ml-2 font-bold text-teal-800",children:[e.hours.toFixed(2),"h"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Billable Time:"}),(0,r.jsxs)("span",{className:"ml-2 font-bold text-teal-800",children:[(.85*e.hours).toFixed(2),"h"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Coding Sessions:"}),(0,r.jsx)("span",{className:"ml-2 font-bold text-teal-800",children:s.filter(e=>"coding"===e.type).length})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Research/Browsing:"}),(0,r.jsx)("span",{className:"ml-2 font-bold text-teal-800",children:s.filter(e=>"browsing"===e.type).length})]})]}),(0,r.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Copy for Wrike:"}),(0,r.jsx)("div",{className:"text-sm font-mono text-gray-800",children:a.map(e=>"".concat(_(e.date),": ").concat(d(e.duration))).join(" | ")})]})]})]})})]},e.name)})})}var ep=s(28022),eg=s(94560);function ev(e){let{statsData:t,idleTimeoutMinutes:s}=e,{getMonthlyTrend:a}=H(t,new Date,s),l=a();return(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{children:"Monthly Trends"}),(0,r.jsx)(T,{children:"Hours worked over time"})]}),(0,r.jsx)(D,{children:(0,r.jsx)($,{config:{hours:{label:"Hours",color:"#8884d8"}},className:"h-[400px]",children:(0,r.jsx)(Y.u,{width:"100%",height:"100%",children:(0,r.jsxs)(ep.b,{data:l,children:[(0,r.jsx)(el.d,{strokeDasharray:"3 3"}),(0,r.jsx)(en.W,{dataKey:"month"}),(0,r.jsx)(ei.h,{}),(0,r.jsx)(et,{content:(0,r.jsx)(es,{})}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"hours",stroke:"#2D5A5A",strokeWidth:2})]})})})})]})}let ey=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});ey.displayName="Input";var eb=s(14437);let eN=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ew=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(eb.b,{ref:t,className:d(eN(),s),...a})});ew.displayName=eb.b.displayName;var ek=s(56656),eT=s(60392),eD=s(56801),eC=s(54341);let eA=ek.bL;ek.YJ;let eS=ek.WT,eR=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(ek.l9,{ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[a,(0,r.jsx)(ek.In,{asChild:!0,children:(0,r.jsx)(eT.A,{className:"h-4 w-4 opacity-50"})})]})});eR.displayName=ek.l9.displayName;let eE=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ek.PP,{ref:t,className:d("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(eD.A,{className:"h-4 w-4"})})});eE.displayName=ek.PP.displayName;let eU=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ek.wn,{ref:t,className:d("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(eT.A,{className:"h-4 w-4"})})});eU.displayName=ek.wn.displayName;let eL=a.forwardRef((e,t)=>{let{className:s,children:a,position:l="popper",...n}=e;return(0,r.jsx)(ek.ZL,{children:(0,r.jsxs)(ek.UC,{ref:t,className:d("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,r.jsx)(eE,{}),(0,r.jsx)(ek.LM,{className:d("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(eU,{})]})})});eL.displayName=ek.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ek.JU,{ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=ek.JU.displayName;let eP=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(ek.q7,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ek.VF,{children:(0,r.jsx)(eC.A,{className:"h-4 w-4"})})}),(0,r.jsx)(ek.p4,{children:a})]})});eP.displayName=ek.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(ek.wv,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=ek.wv.displayName;var e_=s(84419),eO=s(22522);let eW=e_.bL,eF=e_.l9,eM=e_.ZL;e_.bm;let eH=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(e_.hJ,{ref:t,className:d("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});eH.displayName=e_.hJ.displayName;let ez=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(eM,{children:[(0,r.jsx)(eH,{}),(0,r.jsxs)(e_.UC,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[a,(0,r.jsxs)(e_.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(eO.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ez.displayName=e_.UC.displayName;let eI=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};eI.displayName="DialogHeader";let eB=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};eB.displayName="DialogFooter";let eK=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(e_.hE,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",s),...a})});eK.displayName=e_.hE.displayName;let eV=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(e_.VY,{ref:t,className:d("text-sm text-muted-foreground",s),...a})});eV.displayName=e_.VY.displayName;var eJ=s(43210),eY=s(32184),eZ=s(64404),eq=s(80459),eG=s(72235);function eX(e){let{projectUrls:t,statsData:s,currentWeek:l,idleTimeoutMinutes:n,onCreateUrl:i,onUpdateUrl:o,onDeleteUrl:d,onRefresh:c}=e,[x,f]=(0,a.useState)(""),[j,p]=(0,a.useState)(1),[g]=(0,a.useState)(5),[v,y]=(0,a.useState)(!1),[b,A]=(0,a.useState)(null),[S,R]=(0,a.useState)(!1),[E,U]=(0,a.useState)({project:"",url:"",description:""}),{getProjectTotals:L,getProjectChartData:P}=H(s,l,n),_=L().map(e=>e.name),O=P(),W=()=>{let e={};return t.forEach(t=>{e[t.project]||(e[t.project]=[]),e[t.project].push(t)}),e},F=()=>{let e=W();if(!x.trim())return Object.entries(e);let t=x.toLowerCase();return Object.entries(e).filter(e=>{let[s,r]=e;return s.toLowerCase().includes(t)||r.some(e=>e.url.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))})},M=e=>{A(e),U({project:e.project,url:e.url,description:e.description}),y(!0)},z=()=>{U({project:"",url:"",description:""})},I=e=>{y(e),e||(A(null),z())},B=async e=>{e.preventDefault(),R(!0);try{b?await o(b.id,E):await i(E),y(!1),z(),A(null)}finally{R(!1)}},K=async e=>{R(!0);try{await d(e)}finally{R(!1)}},{projects:V,totalPages:J,totalItems:Y}=(()=>{let e=F(),t=(j-1)*g;return{projects:e.slice(t,t+g),totalPages:Math.ceil(e.length/g),totalItems:e.length}})();return(0,r.jsxs)(N,{children:[(0,r.jsx)(w,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(k,{children:"Project URLs"}),(0,r.jsx)(T,{children:"Manage URLs associated with each project"})]}),(0,r.jsxs)(eW,{open:v,onOpenChange:I,children:[(0,r.jsx)(eF,{asChild:!0,children:(0,r.jsxs)(m,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,r.jsx)(eJ.A,{className:"w-4 h-4 mr-2"}),"Add URL"]})}),(0,r.jsxs)(ez,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(eI,{children:[(0,r.jsx)(eK,{children:b?"Edit Project URL":"Add Project URL"}),(0,r.jsx)(eV,{children:b?"Update the URL details for this project.":"Add a new URL to associate with a project."})]}),(0,r.jsxs)("form",{onSubmit:B,children:[(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(ew,{htmlFor:"project",className:"text-right",children:"Project"}),(0,r.jsx)("div",{className:"col-span-3",children:(0,r.jsxs)(eA,{value:E.project,onValueChange:e=>U({...E,project:e}),children:[(0,r.jsx)(eR,{children:(0,r.jsx)(eS,{placeholder:"Select a project"})}),(0,r.jsx)(eL,{children:_.map(e=>(0,r.jsx)(eP,{value:e,children:e},e))})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(ew,{htmlFor:"url",className:"text-right",children:"URL"}),(0,r.jsx)(ey,{id:"url",value:E.url,onChange:e=>U({...E,url:e.target.value}),className:"col-span-3",placeholder:"https://example.com",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(ew,{htmlFor:"description",className:"text-right",children:"Description"}),(0,r.jsx)(ey,{id:"description",value:E.description,onChange:e=>U({...E,description:e.target.value}),className:"col-span-3",placeholder:"Project documentation, GitHub repo, etc."})]})]}),(0,r.jsxs)(eB,{children:[(0,r.jsx)(m,{type:"button",variant:"outline",onClick:()=>I(!1),children:"Cancel"}),(0,r.jsxs)(m,{type:"submit",disabled:S,children:[S&&(0,r.jsx)(eY.A,{className:"mr-2 h-4 w-4 animate-spin"}),b?"Update":"Add"]})]})]})]})]})]})}),(0,r.jsxs)(D,{children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(ey,{placeholder:"Search projects, URLs, or descriptions...",value:x,onChange:e=>{f(e.target.value),p(1)},className:"pl-4 pr-4"})}),0===t.length?(0,r.jsxs)("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No project URLs have been added yet."}),(0,r.jsx)(eW,{children:(0,r.jsx)(eF,{asChild:!0,children:(0,r.jsxs)(m,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,r.jsx)(eJ.A,{className:"w-4 h-4 mr-2"}),"Add Your First URL"]})})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:x?(0,r.jsxs)(r.Fragment,{children:["Found ",Y," project",1!==Y?"s":"",' matching "',x,'"']}):(0,r.jsxs)(r.Fragment,{children:["Showing ",V.length," of ",Y," projects"]})}),(0,r.jsxs)(m,{onClick:c,variant:"ghost",size:"sm",className:"text-teal-600 hover:text-teal-700",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),0===V.length?(0,r.jsx)("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No projects match your search criteria."})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"space-y-4",children:V.map(e=>{var t;let[s,a]=e;return(0,r.jsxs)(N,{className:"border border-gray-200",children:[(0,r.jsx)(w,{className:"pb-3",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(null===(t=O.find(e=>e.name===s))||void 0===t?void 0:t.color)||"#2D5A5A"}}),(0,r.jsx)(k,{className:"text-lg",children:s}),(0,r.jsxs)(h,{variant:"secondary",className:"text-xs",children:[a.length," URL",1!==a.length?"s":""]})]})})}),(0,r.jsx)(D,{className:"pt-0",children:(0,r.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-800 font-medium truncate",children:e.url.length>50?e.url.substring(0,50)+"...":e.url}),(0,r.jsx)(eZ.A,{className:"h-3 w-3 text-teal-600 flex-shrink-0"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.description})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>M(e),className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Edit"}),(0,r.jsx)(eq.A,{className:"h-4 w-4"})]}),(0,r.jsxs)(m,{variant:"ghost",size:"sm",onClick:()=>K(e.id),className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",disabled:S,children:[(0,r.jsx)("span",{className:"sr-only",children:"Delete"}),(0,r.jsx)(eG.A,{className:"h-4 w-4"})]})]})]},e.id))})})]},s)})}),J>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",j," of ",J]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(m,{variant:"outline",size:"sm",onClick:()=>p(Math.max(1,j-1)),disabled:1===j,children:"Previous"}),(0,r.jsx)("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,J)},(e,t)=>{let s;return s=J<=5?t+1:j<=3?t+1:j>=J-2?J-4+t:j-2+t,(0,r.jsx)(m,{variant:j===s?"default":"outline",size:"sm",onClick:()=>p(s),className:"w-8 h-8 p-0",children:s},s)})}),(0,r.jsx)(m,{variant:"outline",size:"sm",onClick:()=>p(Math.min(J,j+1)),disabled:j===J,children:"Next"})]})]})]})]})]}),(0,r.jsx)(C,{className:"border-t bg-gray-50 px-6 py-3",children:(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Project URLs are stored on your local webservice at localhost:56000"})})]})}function eQ(e){let{statsData:t,projectUrls:s,currentWeek:a,idleTimeoutMinutes:l,onCreateUrl:n,onUpdateUrl:i,onDeleteUrl:o,onRefreshUrls:d}=e;return(0,r.jsxs)(B,{defaultValue:"weekly",className:"space-y-4",children:[(0,r.jsxs)(K,{children:[(0,r.jsx)(V,{value:"weekly",children:"Weekly View"}),(0,r.jsx)(V,{value:"projects",children:"Projects"}),(0,r.jsx)(V,{value:"breakdown",children:"Project Breakdown"}),(0,r.jsx)(V,{value:"trends",children:"Trends"}),(0,r.jsx)(V,{value:"urls",children:"Project URLs"})]}),(0,r.jsx)(J,{value:"weekly",children:(0,r.jsx)(em,{statsData:t,currentWeek:a,idleTimeoutMinutes:l})}),(0,r.jsx)(J,{value:"projects",children:(0,r.jsx)(ef,{statsData:t,currentWeek:a,idleTimeoutMinutes:l})}),(0,r.jsx)(J,{value:"breakdown",children:(0,r.jsx)(ej,{statsData:t,currentWeek:a,idleTimeoutMinutes:l})}),(0,r.jsx)(J,{value:"trends",children:(0,r.jsx)(ev,{statsData:t,idleTimeoutMinutes:l})}),(0,r.jsx)(J,{value:"urls",children:(0,r.jsx)(eX,{projectUrls:s,statsData:t,currentWeek:a,idleTimeoutMinutes:l,onCreateUrl:n,onUpdateUrl:i,onDeleteUrl:o,onRefresh:d})})]})}function e$(e){let{statsData:t,currentWeek:s,idleTimeoutMinutes:a}=e,{getRecentActivities:l}=H(t,s,a),n=l();return(0,r.jsxs)(N,{children:[(0,r.jsx)(w,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(k,{children:"Recent Activities"}),(0,r.jsx)(T,{children:"Your latest time entries and sessions"})]})}),(0,r.jsx)(D,{children:(0,r.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("coding"===e.type?"bg-teal-600":"bg-amber-600")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.task}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.project})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(h,{variant:"coding"===e.type?"default":"secondary",children:e.type}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-medium",children:e.duration}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.date})]})]})]},e.id))})})]})}let e0=0,e1=new Map,e2=e=>{if(e1.has(e))return;let t=setTimeout(()=>{e1.delete(e),e3({type:"REMOVE_TOAST",toastId:e})},1e6);e1.set(e,t)},e4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?e2(s):e.toasts.forEach(e=>{e2(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},e5=[],e8={toasts:[]};function e3(e){e8=e4(e8,e),e5.forEach(e=>{e(e8)})}function e6(e){let{...t}=e,s=(e0=(e0+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>e3({type:"DISMISS_TOAST",toastId:s});return e3({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>e3({type:"UPDATE_TOAST",toast:{...e,id:s}})}}let e7=e=>{let t={};return Object.entries(e).forEach(e=>{let[s,r]=e,a=s;if(s.includes("T")&&(a=s.split("T")[0]),!/^\d{4}-\d{2}-\d{2}$/.test(a)){console.warn("Invalid date format received from API: ".concat(s));return}t[a]=r}),t},e9=()=>{let[e,t]=(0,a.useState)({}),[s,r]=(0,a.useState)([]),[l,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(new Date),[m,u]=(0,a.useState)(10),x=async()=>{try{n(!0),o(null);let e=await fetch("".concat("","/api/stats"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json(),r=e7(s);t(r)}catch(e){o(e instanceof Error?e.message:"Failed to fetch data"),console.error("Error fetching stats:",e)}finally{n(!1)}},h=async()=>{try{o(null);let e=await fetch("".concat("","/api/urls"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();r(t)}catch(e){o(e instanceof Error?e.message:"Failed to fetch project URLs"),console.error("Error fetching project URLs:",e)}},f=async e=>{try{let t=await fetch("".concat("","/api/urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));await h(),e6({title:"Success",description:"Project URL has been created"})}catch(e){e6({title:"Error",description:e instanceof Error?e.message:"Failed to create project URL",variant:"destructive"})}},j=async(e,t)=>{try{let s=await fetch("".concat("","/api/urls/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));await h(),e6({title:"Success",description:"Project URL has been updated"})}catch(e){e6({title:"Error",description:e instanceof Error?e.message:"Failed to update project URL",variant:"destructive"})}},p=async e=>{try{let t=await fetch("".concat("","/api/urls/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));await h(),e6({title:"Success",description:"Project URL has been deleted"})}catch(e){e6({title:"Error",description:e instanceof Error?e.message:"Failed to delete project URL",variant:"destructive"})}};return(0,a.useEffect)(()=>{x(),h()},[]),{statsData:e,projectUrls:s,loading:l,error:i,currentWeek:d,setCurrentWeek:e=>{let t=new Date(d);t.setDate(t.getDate()+("next"===e?7:-7)),c(t)},idleTimeoutMinutes:m,setIdleTimeoutMinutes:u,fetchStats:x,fetchProjectUrls:h,createProjectUrl:f,updateProjectUrl:j,deleteProjectUrl:p}};function te(){let{statsData:e,projectUrls:t,loading:s,error:a,currentWeek:l,setCurrentWeek:n,idleTimeoutMinutes:i,setIdleTimeoutMinutes:o,fetchStats:d,fetchProjectUrls:c,createProjectUrl:x,updateProjectUrl:h,deleteProjectUrl:f}=e9();return s?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(u.A,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading time tracking data..."})]})}):a?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-red-600 mb-4",children:["Error: ",a]}),(0,r.jsxs)(m,{onClick:d,children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-stone-50 p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,r.jsx)(b,{idleTimeoutMinutes:i,onIdleTimeoutChange:o,onRefresh:d}),(0,r.jsx)(A,{currentWeek:l,onNavigateWeek:n}),(0,r.jsx)(z,{statsData:e,currentWeek:l,idleTimeoutMinutes:i}),(0,r.jsx)(eQ,{statsData:e,projectUrls:t,currentWeek:l,idleTimeoutMinutes:i,onCreateUrl:x,onUpdateUrl:h,onDeleteUrl:f,onRefreshUrls:c}),(0,r.jsx)(e$,{statsData:e,currentWeek:l,idleTimeoutMinutes:i})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[715,497,954,358],()=>t(29153)),_N_E=e.O()}]);